function onYouTubeIframeAPIReady(){ytp.YTAPIReady||(ytp.YTAPIReady=!0,jQuery(document).trigger("YTAPIReady"))}function uncamel(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function setUnit(e,t){return"string"!=typeof e||e.match(/^[\-0-9\.]+jQuery/)?""+e+t:e}function setFilter(e,t,r){var n=uncamel(t),i=jQuery.browser.mozilla?"":jQuery.CSS.sfx;e[i+"filter"]=e[i+"filter"]||"",r=setUnit(r>jQuery.CSS.filters[t].max?jQuery.CSS.filters[t].max:r,jQuery.CSS.filters[t].unit),e[i+"filter"]+=n+"("+r+") ",delete e[t]}if(!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var o=t||window.event,s=l.call(arguments,1),u=0,d=0,p=0,f=0,h=0,m=0;if(t=e.event.fix(o),t.type="mousewheel","detail"in o&&(p=-1*o.detail),"wheelDelta"in o&&(p=o.wheelDelta),"wheelDeltaY"in o&&(p=o.wheelDeltaY),"wheelDeltaX"in o&&(d=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(d=-1*p,p=0),u=0===p?d:p,"deltaY"in o&&(p=-1*o.deltaY,u=p),"deltaX"in o&&(d=o.deltaX,0===p&&(u=-1*d)),0!==p||0!==d){if(1===o.deltaMode){var y=e.data(this,"mousewheel-line-height");u*=y,p*=y,d*=y}else if(2===o.deltaMode){var g=e.data(this,"mousewheel-page-height");u*=g,p*=g,d*=g}if(f=Math.max(Math.abs(p),Math.abs(d)),(!a||a>f)&&(a=f,n(o,f)&&(a/=40)),n(o,f)&&(u/=40,d/=40,p/=40),u=Math[u>=1?"floor":"ceil"](u/a),d=Math[d>=1?"floor":"ceil"](d/a),p=Math[p>=1?"floor":"ceil"](p/a),c.settings.normalizeOffset&&this.getBoundingClientRect){var v=this.getBoundingClientRect();h=t.clientX-v.left,m=t.clientY-v.top}return t.deltaX=d,t.deltaY=p,t.deltaFactor=a,t.offsetX=h,t.offsetY=m,t.deltaMode=0,s.unshift(t,u,d,p),i&&clearTimeout(i),i=setTimeout(r,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function r(){a=null}function n(e,t){return c.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var i,a,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var u=o.length;u;)e.event.fixHooks[o[--u]]=e.event.mouseHooks;var c=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var r=s.length;r;)this.addEventListener(s[--r],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",c.getLineHeight(this)),e.data(this,"mousewheel-page-height",c.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var r=s.length;r;)this.removeEventListener(s[--r],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var r=e(t),n=r["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(r.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var o=t||window.event,s=l.call(arguments,1),u=0,d=0,p=0,f=0,h=0,m=0;if(t=e.event.fix(o),t.type="mousewheel","detail"in o&&(p=-1*o.detail),"wheelDelta"in o&&(p=o.wheelDelta),"wheelDeltaY"in o&&(p=o.wheelDeltaY),"wheelDeltaX"in o&&(d=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(d=-1*p,p=0),u=0===p?d:p,"deltaY"in o&&(p=-1*o.deltaY,u=p),"deltaX"in o&&(d=o.deltaX,0===p&&(u=-1*d)),0!==p||0!==d){if(1===o.deltaMode){var y=e.data(this,"mousewheel-line-height");u*=y,p*=y,d*=y}else if(2===o.deltaMode){var g=e.data(this,"mousewheel-page-height");u*=g,p*=g,d*=g}if(f=Math.max(Math.abs(p),Math.abs(d)),(!a||a>f)&&(a=f,n(o,f)&&(a/=40)),n(o,f)&&(u/=40,d/=40,p/=40),u=Math[u>=1?"floor":"ceil"](u/a),d=Math[d>=1?"floor":"ceil"](d/a),p=Math[p>=1?"floor":"ceil"](p/a),c.settings.normalizeOffset&&this.getBoundingClientRect){var v=this.getBoundingClientRect();h=t.clientX-v.left,m=t.clientY-v.top}return t.deltaX=d,t.deltaY=p,t.deltaFactor=a,t.offsetX=h,t.offsetY=m,t.deltaMode=0,s.unshift(t,u,d,p),i&&clearTimeout(i),i=setTimeout(r,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function r(){a=null}function n(e,t){return c.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var i,a,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var u=o.length;u;)e.event.fixHooks[o[--u]]=e.event.mouseHooks;var c=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var r=s.length;r;)this.addEventListener(s[--r],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",c.getLineHeight(this)),e.data(this,"mousewheel-page-height",c.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var r=s.length;r;)this.removeEventListener(s[--r],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var r=e(t),n=r["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(r.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}(function(e){!function(t){var r="function"==typeof define&&define.amd,n="undefined"!=typeof module&&module.exports,i="https:"==document.location.protocol?"https:":"http:",a="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.html";r||(n?require("jquery-mousewheel")(e):e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+i+"//"+a+"%3E%3C/script%3E"))),t()}(function(){var t,r="mCustomScrollbar",n="mCS",i=".mCustomScrollbar",a={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},o=0,s={},l=window.attachEvent&&!window.addEventListener?1:0,u=!1,c=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],d={init:function(t){var t=e.extend(!0,{},a,t),r=p.call(this);if(t.live){var l=t.liveSelector||this.selector||i,u=e(l);if("off"===t.live)return void h(l);s[l]=setTimeout(function(){u.mCustomScrollbar(t),"once"===t.live&&u.length&&h(l)},500)}else h(l);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":m(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,"object"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=y(t.scrollButtons.scrollType),f(t),e(r).each(function(){var r=e(this);if(!r.data(n)){r.data(n,{idx:++o,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:r.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var i=r.data(n),a=i.opt,s=r.data("mcs-axis"),l=r.data("mcs-scrollbar-position"),u=r.data("mcs-theme");s&&(a.axis=s),l&&(a.scrollbarPosition=l),u&&(a.theme=u,f(a)),g.call(this),i&&a.callbacks.onCreate&&"function"==typeof a.callbacks.onCreate&&a.callbacks.onCreate.call(this),e("#mCSB_"+i.idx+"_container img:not(."+c[2]+")").addClass(c[2]),d.update.call(null,r)}})},update:function(t,r){var i=t||p.call(this);return e(i).each(function(){var t=e(this);if(t.data(n)){var i=t.data(n),a=i.opt,o=e("#mCSB_"+i.idx+"_container"),s=e("#mCSB_"+i.idx),l=[e("#mCSB_"+i.idx+"_dragger_vertical"),e("#mCSB_"+i.idx+"_dragger_horizontal")];if(!o.length)return;i.tweenRunning&&q(t),r&&i&&a.callbacks.onBeforeUpdate&&"function"==typeof a.callbacks.onBeforeUpdate&&a.callbacks.onBeforeUpdate.call(this),t.hasClass(c[3])&&t.removeClass(c[3]),t.hasClass(c[4])&&t.removeClass(c[4]),s.css("max-height","none"),s.height()!==t.height()&&s.css("max-height",t.height()),b.call(this),"y"===a.axis||a.advanced.autoExpandHorizontalScroll||o.css("width",v(o)),i.overflowed=S.call(this),k.call(this),a.autoDraggerLength&&x.call(this),T.call(this),Y.call(this);var u=[Math.abs(o[0].offsetTop),Math.abs(o[0].offsetLeft)];"x"!==a.axis&&(i.overflowed[0]?l[0].height()>l[0].parent().height()?C.call(this):(Z(t,u[0].toString(),{dir:"y",dur:0,overwrite:"none"}),i.contentReset.y=null):(C.call(this),"y"===a.axis?j.call(this):"yx"===a.axis&&i.overflowed[1]&&Z(t,u[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==a.axis&&(i.overflowed[1]?l[1].width()>l[1].parent().width()?C.call(this):(Z(t,u[1].toString(),{dir:"x",dur:0,overwrite:"none"}),i.contentReset.x=null):(C.call(this),"x"===a.axis?j.call(this):"yx"===a.axis&&i.overflowed[0]&&Z(t,u[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),r&&i&&(2===r&&a.callbacks.onImageLoad&&"function"==typeof a.callbacks.onImageLoad?a.callbacks.onImageLoad.call(this):3===r&&a.callbacks.onSelectorChange&&"function"==typeof a.callbacks.onSelectorChange?a.callbacks.onSelectorChange.call(this):a.callbacks.onUpdate&&"function"==typeof a.callbacks.onUpdate&&a.callbacks.onUpdate.call(this)),W.call(this)}})},scrollTo:function(t,r){if("undefined"!=typeof t&&null!=t){var i=p.call(this);return e(i).each(function(){var i=e(this);if(i.data(n)){var a=i.data(n),o=a.opt,s={trigger:"external",scrollInertia:o.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},l=e.extend(!0,{},s,r),u=$.call(this,t),c=l.scrollInertia>0&&l.scrollInertia<17?17:l.scrollInertia;u[0]=H.call(this,u[0],"y"),u[1]=H.call(this,u[1],"x"),l.moveDragger&&(u[0]*=a.scrollRatio.y,u[1]*=a.scrollRatio.x),l.dur=ie()?0:c,setTimeout(function(){null!==u[0]&&"undefined"!=typeof u[0]&&"x"!==o.axis&&a.overflowed[0]&&(l.dir="y",l.overwrite="all",Z(i,u[0].toString(),l)),null!==u[1]&&"undefined"!=typeof u[1]&&"y"!==o.axis&&a.overflowed[1]&&(l.dir="x",l.overwrite="none",Z(i,u[1].toString(),l))},l.timeout)}})}},stop:function(){var t=p.call(this);return e(t).each(function(){var t=e(this);t.data(n)&&q(t)})},disable:function(t){var r=p.call(this);return e(r).each(function(){var r=e(this);r.data(n)&&(r.data(n),W.call(this,"remove"),j.call(this),t&&C.call(this),k.call(this,!0),r.addClass(c[3]))})},destroy:function(){var t=p.call(this);return e(t).each(function(){var i=e(this);if(i.data(n)){var a=i.data(n),o=a.opt,s=e("#mCSB_"+a.idx),l=e("#mCSB_"+a.idx+"_container"),u=e(".mCSB_"+a.idx+"_scrollbar");o.live&&h(o.liveSelector||e(t).selector),W.call(this,"remove"),j.call(this),C.call(this),i.removeData(n),J(this,"mcs"),u.remove(),l.find("img."+c[2]).removeClass(c[2]),s.replaceWith(l.contents()),i.removeClass(r+" _"+n+"_"+a.idx+" "+c[6]+" "+c[7]+" "+c[5]+" "+c[3]).addClass(c[4])}})}},p=function(){return"object"!=typeof e(this)||e(this).length<1?i:this},f=function(t){var r=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],n=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],i=["minimal","minimal-dark"],a=["minimal","minimal-dark"],o=["minimal","minimal-dark"];t.autoDraggerLength=e.inArray(t.theme,r)>-1?!1:t.autoDraggerLength,t.autoExpandScrollbar=e.inArray(t.theme,n)>-1?!1:t.autoExpandScrollbar,t.scrollButtons.enable=e.inArray(t.theme,i)>-1?!1:t.scrollButtons.enable,t.autoHideScrollbar=e.inArray(t.theme,a)>-1?!0:t.autoHideScrollbar,t.scrollbarPosition=e.inArray(t.theme,o)>-1?"outside":t.scrollbarPosition},h=function(e){s[e]&&(clearTimeout(s[e]),J(s,e))},m=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},y=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},g=function(){var t=e(this),i=t.data(n),a=i.opt,o=a.autoExpandScrollbar?" "+c[1]+"_expand":"",s=["<div id='mCSB_"+i.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+i.idx+"_scrollbar mCS-"+a.theme+" mCSB_scrollTools_vertical"+o+"'><div class='"+c[12]+"'><div id='mCSB_"+i.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+i.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+i.idx+"_scrollbar mCS-"+a.theme+" mCSB_scrollTools_horizontal"+o+"'><div class='"+c[12]+"'><div id='mCSB_"+i.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],l="yx"===a.axis?"mCSB_vertical_horizontal":"x"===a.axis?"mCSB_horizontal":"mCSB_vertical",u="yx"===a.axis?s[0]+s[1]:"x"===a.axis?s[1]:s[0],d="yx"===a.axis?"<div id='mCSB_"+i.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",p=a.autoHideScrollbar?" "+c[6]:"",f="x"!==a.axis&&"rtl"===i.langDir?" "+c[7]:"";a.setWidth&&t.css("width",a.setWidth),a.setHeight&&t.css("height",a.setHeight),a.setLeft="y"!==a.axis&&"rtl"===i.langDir?"989999px":a.setLeft,t.addClass(r+" _"+n+"_"+i.idx+p+f).wrapInner("<div id='mCSB_"+i.idx+"' class='mCustomScrollBox mCS-"+a.theme+" "+l+"'><div id='mCSB_"+i.idx+"_container' class='mCSB_container' style='position:relative; top:"+a.setTop+"; left:"+a.setLeft+";' dir='"+i.langDir+"' /></div>");var h=e("#mCSB_"+i.idx),m=e("#mCSB_"+i.idx+"_container");"y"===a.axis||a.advanced.autoExpandHorizontalScroll||m.css("width",v(m)),"outside"===a.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),h.addClass("mCSB_outside").after(u)):(h.addClass("mCSB_inside").append(u),m.wrap(d)),w.call(this);var y=[e("#mCSB_"+i.idx+"_dragger_vertical"),e("#mCSB_"+i.idx+"_dragger_horizontal")];y[0].css("min-height",y[0].height()),y[1].css("min-width",y[1].width())},v=function(t){var r=[t[0].scrollWidth,Math.max.apply(Math,t.children().map(function(){return e(this).outerWidth(!0)}).get())],n=t.parent().width();return r[0]>n?r[0]:r[1]>n?r[1]:"100%"},b=function(){var t=e(this),r=t.data(n),i=r.opt,a=e("#mCSB_"+r.idx+"_container");if(i.advanced.autoExpandHorizontalScroll&&"y"!==i.axis){a.css({width:"auto","min-width":0,"overflow-x":"scroll"});var o=Math.ceil(a[0].scrollWidth);3===i.advanced.autoExpandHorizontalScroll||2!==i.advanced.autoExpandHorizontalScroll&&o>a.parent().width()?a.css({width:o,"min-width":"100%","overflow-x":"inherit"}):a.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(a[0].getBoundingClientRect().right+.4)-Math.floor(a[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},w=function(){var t=e(this),r=t.data(n),i=r.opt,a=e(".mCSB_"+r.idx+"_scrollbar:first"),o=re(i.scrollButtons.tabindex)?"tabindex='"+i.scrollButtons.tabindex+"'":"",s=["<a href='#' class='"+c[13]+"' "+o+" />","<a href='#' class='"+c[14]+"' "+o+" />","<a href='#' class='"+c[15]+"' "+o+" />","<a href='#' class='"+c[16]+"' "+o+" />"],l=["x"===i.axis?s[2]:s[0],"x"===i.axis?s[3]:s[1],s[2],s[3]];i.scrollButtons.enable&&a.prepend(l[0]).append(l[1]).next(".mCSB_scrollTools").prepend(l[2]).append(l[3])},x=function(){var t=e(this),r=t.data(n),i=e("#mCSB_"+r.idx),a=e("#mCSB_"+r.idx+"_container"),o=[e("#mCSB_"+r.idx+"_dragger_vertical"),e("#mCSB_"+r.idx+"_dragger_horizontal")],s=[i.height()/a.outerHeight(!1),i.width()/a.outerWidth(!1)],u=[parseInt(o[0].css("min-height")),Math.round(s[0]*o[0].parent().height()),parseInt(o[1].css("min-width")),Math.round(s[1]*o[1].parent().width())],c=l&&u[1]<u[0]?u[0]:u[1],d=l&&u[3]<u[2]?u[2]:u[3];o[0].css({height:c,"max-height":o[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":u[0]+"px"}),o[1].css({width:d,"max-width":o[1].parent().width()-10})},T=function(){var t=e(this),r=t.data(n),i=e("#mCSB_"+r.idx),a=e("#mCSB_"+r.idx+"_container"),o=[e("#mCSB_"+r.idx+"_dragger_vertical"),e("#mCSB_"+r.idx+"_dragger_horizontal")],s=[a.outerHeight(!1)-i.height(),a.outerWidth(!1)-i.width()],l=[s[0]/(o[0].parent().height()-o[0].height()),s[1]/(o[1].parent().width()-o[1].width())];r.scrollRatio={y:l[0],x:l[1]}},P=function(e,t,r){var n=r?c[0]+"_expanded":"",i=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(c[0]+" "+n),i.toggleClass(c[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(c[0]),i.removeClass(c[1])):(e.addClass(c[0]),i.addClass(c[1])))},S=function(){var t=e(this),r=t.data(n),i=e("#mCSB_"+r.idx),a=e("#mCSB_"+r.idx+"_container"),o=null==r.overflowed?a.height():a.outerHeight(!1),s=null==r.overflowed?a.width():a.outerWidth(!1),l=a[0].scrollHeight,u=a[0].scrollWidth;return l>o&&(o=l),u>s&&(s=u),[o>i.height(),s>i.width()]},C=function(){var t=e(this),r=t.data(n),i=r.opt,a=e("#mCSB_"+r.idx),o=e("#mCSB_"+r.idx+"_container"),s=[e("#mCSB_"+r.idx+"_dragger_vertical"),e("#mCSB_"+r.idx+"_dragger_horizontal")];if(q(t),("x"!==i.axis&&!r.overflowed[0]||"y"===i.axis&&r.overflowed[0])&&(s[0].add(o).css("top",0),Z(t,"_resetY")),"y"!==i.axis&&!r.overflowed[1]||"x"===i.axis&&r.overflowed[1]){var l=dx=0;"rtl"===r.langDir&&(l=a.width()-o.outerWidth(!1),dx=Math.abs(l/r.scrollRatio.x)),o.css("left",l),s[1].css("left",dx),Z(t,"_resetX")}},Y=function(){function t(){o=setTimeout(function(){e.event.special.mousewheel?(clearTimeout(o),A.call(r[0])):t()},100)}var r=e(this),i=r.data(n),a=i.opt;if(!i.bindEvents){if(_.call(this),a.contentTouchScroll&&F.call(this),I.call(this),a.mouseWheel.enable){var o;t()}B.call(this),L.call(this),a.advanced.autoScrollOnFocus&&R.call(this),a.scrollButtons.enable&&z.call(this),a.keyboard.enable&&V.call(this),i.bindEvents=!0}},j=function(){var t=e(this),r=t.data(n),i=r.opt,a=n+"_"+r.idx,o=".mCSB_"+r.idx+"_scrollbar",s=e("#mCSB_"+r.idx+",#mCSB_"+r.idx+"_container,#mCSB_"+r.idx+"_container_wrapper,"+o+" ."+c[12]+",#mCSB_"+r.idx+"_dragger_vertical,#mCSB_"+r.idx+"_dragger_horizontal,"+o+">a"),l=e("#mCSB_"+r.idx+"_container");i.advanced.releaseDraggableSelectors&&s.add(e(i.advanced.releaseDraggableSelectors)),i.advanced.extraDraggableSelectors&&s.add(e(i.advanced.extraDraggableSelectors)),r.bindEvents&&(e(document).add(e(!D()||top.document)).unbind("."+a),s.each(function(){e(this).unbind("."+a)}),clearTimeout(t[0]._focusTimeout),J(t[0],"_focusTimeout"),clearTimeout(r.sequential.step),J(r.sequential,"step"),clearTimeout(l[0].onCompleteTimeout),J(l[0],"onCompleteTimeout"),r.bindEvents=!1)},k=function(t){var r=e(this),i=r.data(n),a=i.opt,o=e("#mCSB_"+i.idx+"_container_wrapper"),s=o.length?o:e("#mCSB_"+i.idx+"_container"),l=[e("#mCSB_"+i.idx+"_scrollbar_vertical"),e("#mCSB_"+i.idx+"_scrollbar_horizontal")],u=[l[0].find(".mCSB_dragger"),l[1].find(".mCSB_dragger")];"x"!==a.axis&&(i.overflowed[0]&&!t?(l[0].add(u[0]).add(l[0].children("a")).css("display","block"),s.removeClass(c[8]+" "+c[10])):(a.alwaysShowScrollbar?(2!==a.alwaysShowScrollbar&&u[0].css("display","none"),s.removeClass(c[10])):(l[0].css("display","none"),s.addClass(c[10])),s.addClass(c[8]))),"y"!==a.axis&&(i.overflowed[1]&&!t?(l[1].add(u[1]).add(l[1].children("a")).css("display","block"),s.removeClass(c[9]+" "+c[11])):(a.alwaysShowScrollbar?(2!==a.alwaysShowScrollbar&&u[1].css("display","none"),s.removeClass(c[11])):(l[1].css("display","none"),s.addClass(c[11])),s.addClass(c[9]))),i.overflowed[0]||i.overflowed[1]?r.removeClass(c[5]):r.addClass(c[5])},Q=function(t){var r=t.type,n=t.target.ownerDocument!==document&&null!==frameElement?[e(frameElement).offset().top,e(frameElement).offset().left]:null,i=D()&&t.target.ownerDocument!==top.document&&null!==frameElement?[e(t.view.frameElement).offset().top,e(t.view.frameElement).offset().left]:[0,0];switch(r){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return n?[t.originalEvent.pageY-n[0]+i[0],t.originalEvent.pageX-n[1]+i[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var a=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],o=t.originalEvent.touches.length||t.originalEvent.changedTouches.length;return t.target.ownerDocument!==document?[a.screenY,a.screenX,o>1]:[a.pageY,a.pageX,o>1];default:return n?[t.pageY-n[0]+i[0],t.pageX-n[1]+i[1],!1]:[t.pageY,t.pageX,!1]}},_=function(){function t(e,t,n,i){if(f[0].idleTimer=c.scrollInertia<233?250:0,r.attr("id")===p[1])var a="x",l=(r[0].offsetLeft-t+i)*s.scrollRatio.x;else var a="y",l=(r[0].offsetTop-e+n)*s.scrollRatio.y;Z(o,l.toString(),{dir:a,drag:!0})}var r,i,a,o=e(this),s=o.data(n),c=s.opt,d=n+"_"+s.idx,p=["mCSB_"+s.idx+"_dragger_vertical","mCSB_"+s.idx+"_dragger_horizontal"],f=e("#mCSB_"+s.idx+"_container"),h=e("#"+p[0]+",#"+p[1]),m=c.advanced.releaseDraggableSelectors?h.add(e(c.advanced.releaseDraggableSelectors)):h,y=c.advanced.extraDraggableSelectors?e(!D()||top.document).add(e(c.advanced.extraDraggableSelectors)):e(!D()||top.document);h.bind("contextmenu."+d,function(e){e.preventDefault()}).bind("mousedown."+d+" touchstart."+d+" pointerdown."+d+" MSPointerDown."+d,function(t){if(t.stopImmediatePropagation(),t.preventDefault(),ee(t)){u=!0,l&&(document.onselectstart=function(){return!1}),O.call(f,!1),q(o),r=e(this);var n=r.offset(),s=Q(t)[0]-n.top,d=Q(t)[1]-n.left,p=r.height()+n.top,h=r.width()+n.left;p>s&&s>0&&h>d&&d>0&&(i=s,a=d),P(r,"active",c.autoExpandScrollbar)}}).bind("touchmove."+d,function(e){e.stopImmediatePropagation(),e.preventDefault();var n=r.offset(),o=Q(e)[0]-n.top,s=Q(e)[1]-n.left;t(i,a,o,s)}),e(document).add(y).bind("mousemove."+d+" pointermove."+d+" MSPointerMove."+d,function(e){if(r){var n=r.offset(),o=Q(e)[0]-n.top,s=Q(e)[1]-n.left;if(i===o&&a===s)return;t(i,a,o,s)}}).add(m).bind("mouseup."+d+" touchend."+d+" pointerup."+d+" MSPointerUp."+d,function(){r&&(P(r,"active",c.autoExpandScrollbar),r=null),u=!1,l&&(document.onselectstart=null),O.call(f,!0)})},F=function(){function r(e){if(!te(e)||u||Q(e)[2])return void(t=0);t=1,T=0,P=0,c=1,S.removeClass("mCS_touch_action");var r=_.offset();d=Q(e)[0]-r.top,p=Q(e)[1]-r.left,M=[Q(e)[0],Q(e)[1]]}function i(e){if(te(e)&&!u&&!Q(e)[2]&&(Y.documentTouchScroll||e.preventDefault(),e.stopImmediatePropagation(),(!P||T)&&c)){y=G();var t=k.offset(),r=Q(e)[0]-t.top,n=Q(e)[1]-t.left,i="mcsLinearOut";if(I.push(r),A.push(n),M[2]=Math.abs(Q(e)[0]-M[0]),M[3]=Math.abs(Q(e)[1]-M[1]),C.overflowed[0])var a=F[0].parent().height()-F[0].height(),o=d-r>0&&r-d>-(a*C.scrollRatio.y)&&(2*M[3]<M[2]||"yx"===Y.axis);if(C.overflowed[1])var s=F[1].parent().width()-F[1].width(),f=p-n>0&&n-p>-(s*C.scrollRatio.x)&&(2*M[2]<M[3]||"yx"===Y.axis);o||f?(L||e.preventDefault(),T=1):(P=1,S.addClass("mCS_touch_action")),L&&e.preventDefault(),w="yx"===Y.axis?[d-r,p-n]:"x"===Y.axis?[null,p-n]:[d-r,null],_[0].idleTimer=250,C.overflowed[0]&&l(w[0],E,i,"y","all",!0),C.overflowed[1]&&l(w[1],E,i,"x",O,!0)}}function a(e){if(!te(e)||u||Q(e)[2])return void(t=0);t=1,e.stopImmediatePropagation(),q(S),m=G();var r=k.offset();f=Q(e)[0]-r.top,h=Q(e)[1]-r.left,I=[],A=[]}function o(e){if(te(e)&&!u&&!Q(e)[2]){c=0,e.stopImmediatePropagation(),T=0,P=0,g=G();var t=k.offset(),r=Q(e)[0]-t.top,n=Q(e)[1]-t.left;if(!(g-y>30)){b=1e3/(g-m);var i="mcsEaseOut",a=2.5>b,o=a?[I[I.length-2],A[A.length-2]]:[0,0];v=a?[r-o[0],n-o[1]]:[r-f,n-h];var d=[Math.abs(v[0]),Math.abs(v[1])];b=a?[Math.abs(v[0]/4),Math.abs(v[1]/4)]:[b,b];var p=[Math.abs(_[0].offsetTop)-v[0]*s(d[0]/b[0],b[0]),Math.abs(_[0].offsetLeft)-v[1]*s(d[1]/b[1],b[1])];w="yx"===Y.axis?[p[0],p[1]]:"x"===Y.axis?[null,p[1]]:[p[0],null],x=[4*d[0]+Y.scrollInertia,4*d[1]+Y.scrollInertia];var S=parseInt(Y.contentTouchScroll)||0;w[0]=d[0]>S?w[0]:0,w[1]=d[1]>S?w[1]:0,C.overflowed[0]&&l(w[0],x[0],i,"y",O,!1),C.overflowed[1]&&l(w[1],x[1],i,"x",O,!1)}}}function s(e,t){var r=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?r[0]:r[3]:e>60?t>3?r[3]:r[2]:e>30?t>8?r[1]:t>6?r[0]:t>4?t:r[2]:t>8?t:r[3]}function l(e,t,r,n,i,a){e&&Z(S,e.toString(),{dur:t,scrollEasing:r,dir:n,overwrite:i,drag:a})}var c,d,p,f,h,m,y,g,v,b,w,x,T,P,S=e(this),C=S.data(n),Y=C.opt,j=n+"_"+C.idx,k=e("#mCSB_"+C.idx),_=e("#mCSB_"+C.idx+"_container"),F=[e("#mCSB_"+C.idx+"_dragger_vertical"),e("#mCSB_"+C.idx+"_dragger_horizontal")],I=[],A=[],E=0,O="yx"===Y.axis?"none":"all",M=[],B=_.find("iframe"),R=["touchstart."+j+" pointerdown."+j+" MSPointerDown."+j,"touchmove."+j+" pointermove."+j+" MSPointerMove."+j,"touchend."+j+" pointerup."+j+" MSPointerUp."+j],L=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;_.bind(R[0],function(e){r(e)}).bind(R[1],function(e){i(e)}),k.bind(R[0],function(e){a(e)}).bind(R[2],function(e){o(e)}),B.length&&B.each(function(){e(this).bind("load",function(){D(this)&&e(this.contentDocument||this.contentWindow.document).bind(R[0],function(e){r(e),a(e)}).bind(R[1],function(e){i(e)}).bind(R[2],function(e){o(e)})})})},I=function(){function r(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function i(e,t,r){c.type=r&&a?"stepped":"stepless",c.scrollAmount=10,N(o,e,t,"mcsLinearOut",r?60:null)}var a,o=e(this),s=o.data(n),l=s.opt,c=s.sequential,d=n+"_"+s.idx,p=e("#mCSB_"+s.idx+"_container"),f=p.parent();p.bind("mousedown."+d,function(){t||a||(a=1,u=!0)}).add(document).bind("mousemove."+d,function(e){if(!t&&a&&r()){var n=p.offset(),o=Q(e)[0]-n.top+p[0].offsetTop,u=Q(e)[1]-n.left+p[0].offsetLeft;o>0&&o<f.height()&&u>0&&u<f.width()?c.step&&i("off",null,"stepped"):("x"!==l.axis&&s.overflowed[0]&&(0>o?i("on",38):o>f.height()&&i("on",40)),"y"!==l.axis&&s.overflowed[1]&&(0>u?i("on",37):u>f.width()&&i("on",39)))}}).bind("mouseup."+d+" dragend."+d,function(){t||(a&&(a=0,i("off",null)),u=!1)})},A=function(){function t(t,n){if(q(r),!M(r,t.target)){var o="auto"!==a.mouseWheel.deltaFactor?parseInt(a.mouseWheel.deltaFactor):l&&t.deltaFactor<100?100:t.deltaFactor||100,c=a.scrollInertia;if("x"===a.axis||"x"===a.mouseWheel.axis)var d="x",p=[Math.round(o*i.scrollRatio.x),parseInt(a.mouseWheel.scrollAmount)],f="auto"!==a.mouseWheel.scrollAmount?p[1]:p[0]>=s.width()?.9*s.width():p[0],h=Math.abs(e("#mCSB_"+i.idx+"_container")[0].offsetLeft),m=u[1][0].offsetLeft,y=u[1].parent().width()-u[1].width(),g="y"===a.mouseWheel.axis?t.deltaY||n:t.deltaX;else var d="y",p=[Math.round(o*i.scrollRatio.y),parseInt(a.mouseWheel.scrollAmount)],f="auto"!==a.mouseWheel.scrollAmount?p[1]:p[0]>=s.height()?.9*s.height():p[0],h=Math.abs(e("#mCSB_"+i.idx+"_container")[0].offsetTop),m=u[0][0].offsetTop,y=u[0].parent().height()-u[0].height(),g=t.deltaY||n;"y"===d&&!i.overflowed[0]||"x"===d&&!i.overflowed[1]||((a.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(g=-g),a.mouseWheel.normalizeDelta&&(g=0>g?-1:1),(g>0&&0!==m||0>g&&m!==y||a.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),t.deltaFactor<5&&!a.mouseWheel.normalizeDelta&&(f=t.deltaFactor,c=17),Z(r,(h-g*f).toString(),{dir:d,dur:c}))}}if(e(this).data(n)){var r=e(this),i=r.data(n),a=i.opt,o=n+"_"+i.idx,s=e("#mCSB_"+i.idx),u=[e("#mCSB_"+i.idx+"_dragger_vertical"),e("#mCSB_"+i.idx+"_dragger_horizontal")],c=e("#mCSB_"+i.idx+"_container").find("iframe");c.length&&c.each(function(){e(this).bind("load",function(){D(this)&&e(this.contentDocument||this.contentWindow.document).bind("mousewheel."+o,function(e,r){t(e,r)})})}),s.bind("mousewheel."+o,function(e,r){t(e,r)})}},E=new Object,D=function(t){var r=!1,n=!1,i=null;if(void 0===t?n="#empty":void 0!==e(t).attr("id")&&(n=e(t).attr("id")),n!==!1&&void 0!==E[n])return E[n];if(t){try{var a=t.contentDocument||t.contentWindow.document;i=a.body.innerHTML}catch(o){}r=null!==i}else{try{var a=top.document;i=a.body.innerHTML}catch(o){}r=null!==i}return n!==!1&&(E[n]=r),r},O=function(e){var t=this.find("iframe");if(t.length){var r=e?"auto":"none";t.css("pointer-events",r)}},M=function(t,r){var i=r.nodeName.toLowerCase(),a=t.data(n).opt.mouseWheel.disableOver,o=["select","textarea"];return e.inArray(i,a)>-1&&!(e.inArray(i,o)>-1&&!e(r).is(":focus"))},B=function(){var t,r=e(this),i=r.data(n),a=n+"_"+i.idx,o=e("#mCSB_"+i.idx+"_container"),s=o.parent(),l=e(".mCSB_"+i.idx+"_scrollbar ."+c[12]);l.bind("mousedown."+a+" touchstart."+a+" pointerdown."+a+" MSPointerDown."+a,function(r){u=!0,e(r.target).hasClass("mCSB_dragger")||(t=1)}).bind("touchend."+a+" pointerup."+a+" MSPointerUp."+a,function(){u=!1}).bind("click."+a,function(n){if(t&&(t=0,e(n.target).hasClass(c[12])||e(n.target).hasClass("mCSB_draggerRail"))){q(r);var a=e(this),l=a.find(".mCSB_dragger");if(a.parent(".mCSB_scrollTools_horizontal").length>0){if(!i.overflowed[1])return;var u="x",d=n.pageX>l.offset().left?-1:1,p=Math.abs(o[0].offsetLeft)-d*(.9*s.width())}else{if(!i.overflowed[0])return;var u="y",d=n.pageY>l.offset().top?-1:1,p=Math.abs(o[0].offsetTop)-d*(.9*s.height())}Z(r,p.toString(),{dir:u,scrollEasing:"mcsEaseInOut"})}})},R=function(){var t=e(this),r=t.data(n),i=r.opt,a=n+"_"+r.idx,o=e("#mCSB_"+r.idx+"_container"),s=o.parent();o.bind("focusin."+a,function(){var r=e(document.activeElement),n=o.find(".mCustomScrollBox").length,a=0;r.is(i.advanced.autoScrollOnFocus)&&(q(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=n?(a+17)*n:0,t[0]._focusTimeout=setTimeout(function(){var e=[ne(r)[0],ne(r)[1]],n=[o[0].offsetTop,o[0].offsetLeft],l=[n[0]+e[0]>=0&&n[0]+e[0]<s.height()-r.outerHeight(!1),n[1]+e[1]>=0&&n[0]+e[1]<s.width()-r.outerWidth(!1)],u="yx"!==i.axis||l[0]||l[1]?"all":"none";"x"===i.axis||l[0]||Z(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:u,dur:a}),"y"===i.axis||l[1]||Z(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:u,dur:a})},t[0]._focusTimer))})},L=function(){var t=e(this),r=t.data(n),i=n+"_"+r.idx,a=e("#mCSB_"+r.idx+"_container").parent();a.bind("scroll."+i,function(){0===a.scrollTop()&&0===a.scrollLeft()||e(".mCSB_"+r.idx+"_scrollbar").css("visibility","hidden")})},z=function(){var t=e(this),r=t.data(n),i=r.opt,a=r.sequential,o=n+"_"+r.idx,s=".mCSB_"+r.idx+"_scrollbar",l=e(s+">a");l.bind("contextmenu."+o,function(e){e.preventDefault()}).bind("mousedown."+o+" touchstart."+o+" pointerdown."+o+" MSPointerDown."+o+" mouseup."+o+" touchend."+o+" pointerup."+o+" MSPointerUp."+o+" mouseout."+o+" pointerout."+o+" MSPointerOut."+o+" click."+o,function(n){function o(e,r){a.scrollAmount=i.scrollButtons.scrollAmount,N(t,e,r)}if(n.preventDefault(),ee(n)){var s=e(this).attr("class");switch(a.type=i.scrollButtons.scrollType,n.type){case"mousedown":case"touchstart":
case"pointerdown":case"MSPointerDown":if("stepped"===a.type)return;u=!0,r.tweenRunning=!1,o("on",s);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===a.type)return;u=!1,a.dir&&o("off",s);break;case"click":if("stepped"!==a.type||r.tweenRunning)return;o("on",s)}}})},V=function(){function t(t){function n(e,t){o.type=a.keyboard.scrollType,o.scrollAmount=a.keyboard.scrollAmount,"stepped"===o.type&&i.tweenRunning||N(r,e,t)}switch(t.type){case"blur":i.tweenRunning&&o.dir&&n("off",null);break;case"keydown":case"keyup":var s=t.keyCode?t.keyCode:t.which,l="on";if("x"!==a.axis&&(38===s||40===s)||"y"!==a.axis&&(37===s||39===s)){if((38===s||40===s)&&!i.overflowed[0]||(37===s||39===s)&&!i.overflowed[1])return;"keyup"===t.type&&(l="off"),e(document.activeElement).is(d)||(t.preventDefault(),t.stopImmediatePropagation(),n(l,s))}else if(33===s||34===s){if((i.overflowed[0]||i.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type){q(r);var p=34===s?-1:1;if("x"===a.axis||"yx"===a.axis&&i.overflowed[1]&&!i.overflowed[0])var f="x",h=Math.abs(u[0].offsetLeft)-p*(.9*c.width());else var f="y",h=Math.abs(u[0].offsetTop)-p*(.9*c.height());Z(r,h.toString(),{dir:f,scrollEasing:"mcsEaseInOut"})}}else if((35===s||36===s)&&!e(document.activeElement).is(d)&&((i.overflowed[0]||i.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type)){if("x"===a.axis||"yx"===a.axis&&i.overflowed[1]&&!i.overflowed[0])var f="x",h=35===s?Math.abs(c.width()-u.outerWidth(!1)):0;else var f="y",h=35===s?Math.abs(c.height()-u.outerHeight(!1)):0;Z(r,h.toString(),{dir:f,scrollEasing:"mcsEaseInOut"})}}}var r=e(this),i=r.data(n),a=i.opt,o=i.sequential,s=n+"_"+i.idx,l=e("#mCSB_"+i.idx),u=e("#mCSB_"+i.idx+"_container"),c=u.parent(),d="input,textarea,select,datalist,keygen,[contenteditable='true']",p=u.find("iframe"),f=["blur."+s+" keydown."+s+" keyup."+s];p.length&&p.each(function(){e(this).bind("load",function(){D(this)&&e(this.contentDocument||this.contentWindow.document).bind(f[0],function(e){t(e)})})}),l.attr("tabindex","0").bind(f[0],function(e){t(e)})},N=function(t,r,i,a,o){function s(e){d.snapAmount&&(p.scrollAmount=d.snapAmount instanceof Array?"x"===p.dir[0]?d.snapAmount[1]:d.snapAmount[0]:d.snapAmount);var r="stepped"!==p.type,n=o?o:e?r?m/1.5:y:1e3/60,i=e?r?7.5:40:2.5,l=[Math.abs(f[0].offsetTop),Math.abs(f[0].offsetLeft)],c=[u.scrollRatio.y>10?10:u.scrollRatio.y,u.scrollRatio.x>10?10:u.scrollRatio.x],h="x"===p.dir[0]?l[1]+p.dir[1]*(c[1]*i):l[0]+p.dir[1]*(c[0]*i),g="x"===p.dir[0]?l[1]+p.dir[1]*parseInt(p.scrollAmount):l[0]+p.dir[1]*parseInt(p.scrollAmount),v="auto"!==p.scrollAmount?g:h,b=a?a:e?r?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",w=!!e;return e&&17>n&&(v="x"===p.dir[0]?l[1]:l[0]),Z(t,v.toString(),{dir:p.dir[0],scrollEasing:b,dur:n,onComplete:w}),e?void(p.dir=!1):(clearTimeout(p.step),void(p.step=setTimeout(function(){s()},n)))}function l(){clearTimeout(p.step),J(p,"step"),q(t)}var u=t.data(n),d=u.opt,p=u.sequential,f=e("#mCSB_"+u.idx+"_container"),h="stepped"===p.type,m=d.scrollInertia<26?26:d.scrollInertia,y=d.scrollInertia<1?17:d.scrollInertia;switch(r){case"on":if(p.dir=[i===c[16]||i===c[15]||39===i||37===i?"x":"y",i===c[13]||i===c[15]||38===i||37===i?-1:1],q(t),re(i)&&"stepped"===p.type)return;s(h);break;case"off":l(),(h||u.tweenRunning&&p.dir)&&s(!0)}},$=function(t){var r=e(this).data(n).opt,i=[];return"function"==typeof t&&(t=t()),t instanceof Array?i=t.length>1?[t[0],t[1]]:"x"===r.axis?[null,t[0]]:[t[0],null]:(i[0]=t.y?t.y:t.x||"x"===r.axis?null:t,i[1]=t.x?t.x:t.y||"y"===r.axis?null:t),"function"==typeof i[0]&&(i[0]=i[0]()),"function"==typeof i[1]&&(i[1]=i[1]()),i},H=function(t,r){if(null!=t&&"undefined"!=typeof t){var i=e(this),a=i.data(n),o=a.opt,s=e("#mCSB_"+a.idx+"_container"),l=s.parent(),u=typeof t;r||(r="x"===o.axis?"x":"y");var c="x"===r?s.outerWidth(!1)-l.width():s.outerHeight(!1)-l.height(),p="x"===r?s[0].offsetLeft:s[0].offsetTop,f="x"===r?"left":"top";switch(u){case"function":return t();case"object":var h=t.jquery?t:e(t);if(!h.length)return;return"x"===r?ne(h)[1]:ne(h)[0];case"string":case"number":if(re(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(c*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(p-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var m=p+parseInt(t.split("+=")[1]);return m>=0?0:Math.abs(m)}if(-1!==t.indexOf("px")&&re(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(l.height()-s.outerHeight(!1));if("right"===t)return Math.abs(l.width()-s.outerWidth(!1));if("first"===t||"last"===t){var h=s.find(":"+t);return"x"===r?ne(h)[1]:ne(h)[0]}return e(t).length?"x"===r?ne(e(t))[1]:ne(e(t))[0]:(s.css(f,t),void d.update.call(null,i[0]))}}},W=function(t){function r(){return clearTimeout(p[0].autoUpdate),0===s.parents("html").length?void(s=null):void(p[0].autoUpdate=setTimeout(function(){return u.advanced.updateOnSelectorChange&&(l.poll.change.n=a(),l.poll.change.n!==l.poll.change.o)?(l.poll.change.o=l.poll.change.n,void o(3)):u.advanced.updateOnContentResize&&(l.poll.size.n=s[0].scrollHeight+s[0].scrollWidth+p[0].offsetHeight+s[0].offsetHeight+s[0].offsetWidth,l.poll.size.n!==l.poll.size.o)?(l.poll.size.o=l.poll.size.n,void o(1)):!u.advanced.updateOnImageLoad||"auto"===u.advanced.updateOnImageLoad&&"y"===u.axis||(l.poll.img.n=p.find("img").length,l.poll.img.n===l.poll.img.o)?void((u.advanced.updateOnSelectorChange||u.advanced.updateOnContentResize||u.advanced.updateOnImageLoad)&&r()):(l.poll.img.o=l.poll.img.n,void p.find("img").each(function(){i(this)}))},u.advanced.autoUpdateTimeout))}function i(t){function r(e,t){return function(){return t.apply(e,arguments)}}function n(){this.onload=null,e(t).addClass(c[2]),o(2)}if(e(t).hasClass(c[2]))return void o();var i=new Image;i.onload=r(i,n),i.src=t.src}function a(){u.advanced.updateOnSelectorChange===!0&&(u.advanced.updateOnSelectorChange="*");var e=0,t=p.find(u.advanced.updateOnSelectorChange);return u.advanced.updateOnSelectorChange&&t.length>0&&t.each(function(){e+=this.offsetHeight+this.offsetWidth}),e}function o(e){clearTimeout(p[0].autoUpdate),d.update.call(null,s[0],e)}var s=e(this),l=s.data(n),u=l.opt,p=e("#mCSB_"+l.idx+"_container");return t?(clearTimeout(p[0].autoUpdate),void J(p[0],"autoUpdate")):void r()},U=function(e,t,r){return Math.round(e/t)*t-r},q=function(t){var r=t.data(n),i=e("#mCSB_"+r.idx+"_container,#mCSB_"+r.idx+"_container_wrapper,#mCSB_"+r.idx+"_dragger_vertical,#mCSB_"+r.idx+"_dragger_horizontal");i.each(function(){K.call(this)})},Z=function(t,r,i){function a(e){return l&&u.callbacks[e]&&"function"==typeof u.callbacks[e]}function o(){return[u.callbacks.alwaysTriggerOffsets||w>=x[0]+S,u.callbacks.alwaysTriggerOffsets||-C>=w]}function s(){var e=[f[0].offsetTop,f[0].offsetLeft],r=[v[0].offsetTop,v[0].offsetLeft],n=[f.outerHeight(!1),f.outerWidth(!1)],a=[p.height(),p.width()];t[0].mcs={content:f,top:e[0],left:e[1],draggerTop:r[0],draggerLeft:r[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(n[0])-a[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(n[1])-a[1])),direction:i.dir}}var l=t.data(n),u=l.opt,c={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:u.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},i=e.extend(c,i),d=[i.dur,i.drag?0:i.dur],p=e("#mCSB_"+l.idx),f=e("#mCSB_"+l.idx+"_container"),h=f.parent(),m=u.callbacks.onTotalScrollOffset?$.call(t,u.callbacks.onTotalScrollOffset):[0,0],y=u.callbacks.onTotalScrollBackOffset?$.call(t,u.callbacks.onTotalScrollBackOffset):[0,0];if(l.trigger=i.trigger,0===h.scrollTop()&&0===h.scrollLeft()||(e(".mCSB_"+l.idx+"_scrollbar").css("visibility","visible"),h.scrollTop(0).scrollLeft(0)),"_resetY"!==r||l.contentReset.y||(a("onOverflowYNone")&&u.callbacks.onOverflowYNone.call(t[0]),l.contentReset.y=1),"_resetX"!==r||l.contentReset.x||(a("onOverflowXNone")&&u.callbacks.onOverflowXNone.call(t[0]),l.contentReset.x=1),"_resetY"!==r&&"_resetX"!==r){if(!l.contentReset.y&&t[0].mcs||!l.overflowed[0]||(a("onOverflowY")&&u.callbacks.onOverflowY.call(t[0]),l.contentReset.x=null),!l.contentReset.x&&t[0].mcs||!l.overflowed[1]||(a("onOverflowX")&&u.callbacks.onOverflowX.call(t[0]),l.contentReset.x=null),u.snapAmount){var g=u.snapAmount instanceof Array?"x"===i.dir?u.snapAmount[1]:u.snapAmount[0]:u.snapAmount;r=U(r,g,u.snapOffset)}switch(i.dir){case"x":var v=e("#mCSB_"+l.idx+"_dragger_horizontal"),b="left",w=f[0].offsetLeft,x=[p.width()-f.outerWidth(!1),v.parent().width()-v.width()],T=[r,0===r?0:r/l.scrollRatio.x],S=m[1],C=y[1],Y=S>0?S/l.scrollRatio.x:0,j=C>0?C/l.scrollRatio.x:0;break;case"y":var v=e("#mCSB_"+l.idx+"_dragger_vertical"),b="top",w=f[0].offsetTop,x=[p.height()-f.outerHeight(!1),v.parent().height()-v.height()],T=[r,0===r?0:r/l.scrollRatio.y],S=m[0],C=y[0],Y=S>0?S/l.scrollRatio.y:0,j=C>0?C/l.scrollRatio.y:0}T[1]<0||0===T[0]&&0===T[1]?T=[0,0]:T[1]>=x[1]?T=[x[0],x[1]]:T[0]=-T[0],t[0].mcs||(s(),a("onInit")&&u.callbacks.onInit.call(t[0])),clearTimeout(f[0].onCompleteTimeout),X(v[0],b,Math.round(T[1]),d[1],i.scrollEasing),!l.tweenRunning&&(0===w&&T[0]>=0||w===x[0]&&T[0]<=x[0])||X(f[0],b,Math.round(T[0]),d[0],i.scrollEasing,i.overwrite,{onStart:function(){i.callbacks&&i.onStart&&!l.tweenRunning&&(a("onScrollStart")&&(s(),u.callbacks.onScrollStart.call(t[0])),l.tweenRunning=!0,P(v),l.cbOffsets=o())},onUpdate:function(){i.callbacks&&i.onUpdate&&a("whileScrolling")&&(s(),u.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(i.callbacks&&i.onComplete){"yx"===u.axis&&clearTimeout(f[0].onCompleteTimeout);var e=f[0].idleTimer||0;f[0].onCompleteTimeout=setTimeout(function(){a("onScroll")&&(s(),u.callbacks.onScroll.call(t[0])),a("onTotalScroll")&&T[1]>=x[1]-Y&&l.cbOffsets[0]&&(s(),u.callbacks.onTotalScroll.call(t[0])),a("onTotalScrollBack")&&T[1]<=j&&l.cbOffsets[1]&&(s(),u.callbacks.onTotalScrollBack.call(t[0])),l.tweenRunning=!1,f[0].idleTimer=0,P(v,"hide")},e)}}})}},X=function(e,t,r,n,i,a,o){function s(){x.stop||(v||h.call(),v=G()-g,l(),v>=x.time&&(x.time=v>x.time?v+p-(v-x.time):v+p-1,x.time<v+1&&(x.time=v+1)),x.time<n?x.id=f(s):y.call())}function l(){n>0?(x.currVal=d(x.time,b,T,n,i),w[t]=Math.round(x.currVal)+"px"):w[t]=r+"px",m.call()}function u(){p=1e3/60,x.time=v+p,f=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return l(),setTimeout(e,.01)},x.id=f(s)}function c(){null!=x.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(x.id):clearTimeout(x.id),x.id=null)}function d(e,t,r,n,i){switch(i){case"linear":case"mcsLinear":return r*e/n+t;case"mcsLinearOut":return e/=n,e--,r*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return e/=n/2,1>e?r/2*e*e+t:(e--,-r/2*(e*(e-2)-1)+t);case"easeInOutStrong":return e/=n/2,1>e?r/2*Math.pow(2,10*(e-1))+t:(e--,r/2*(-Math.pow(2,-10*e)+2)+t);case"easeInOut":case"mcsEaseInOut":return e/=n/2,1>e?r/2*e*e*e+t:(e-=2,r/2*(e*e*e+2)+t);case"easeOutSmooth":return e/=n,e--,-r*(e*e*e*e-1)+t;case"easeOutStrong":return r*(-Math.pow(2,-10*e/n)+1)+t;case"easeOut":case"mcsEaseOut":default:var a=(e/=n)*e,o=a*e;return t+r*(.499999999999997*o*a+-2.5*a*a+5.5*o+-6.5*a+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var p,f,o=o||{},h=o.onStart||function(){},m=o.onUpdate||function(){},y=o.onComplete||function(){},g=G(),v=0,b=e.offsetTop,w=e.style,x=e._mTween[t];"left"===t&&(b=e.offsetLeft);var T=r-b;x.stop=0,"none"!==a&&c(),u()},G=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},K=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],r=0;r<t.length;r++){var n=t[r];e._mTween[n].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[n].id):clearTimeout(e._mTween[n].id),e._mTween[n].id=null,e._mTween[n].stop=1)}},J=function(e,t){try{delete e[t]}catch(r){e[t]=null}},ee=function(e){return!(e.which&&1!==e.which)},te=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},re=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},ne=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},ie=function(){function e(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}var t=e();return t?document[t]:!1};e.fn[r]=function(t){return d[t]?d[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):d.init.apply(this,arguments)},e[r]=function(t){return d[t]?d[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):d.init.apply(this,arguments)},e[r].defaults=a,window[r]=!0,e(window).bind("load",function(){e(i)[r](),e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var r,n,i=e(t),a=i.parents(".mCSB_container");return a.length?(r=a.parent(),n=[a[0].offsetTop,a[0].offsetLeft],n[0]+ne(i)[0]>=0&&n[0]+ne(i)[0]<r.height()-i.outerHeight(!1)&&n[1]+ne(i)[1]>=0&&n[1]+ne(i)[1]<r.width()-i.outerWidth(!1)):void 0},mcsInSight:e.expr[":"].mcsInSight||function(t,r,n){var i,a,o,s,l=e(t),u=l.parents(".mCSB_container"),c="exact"===n[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];return u.length?(i=[l.outerHeight(!1),l.outerWidth(!1)],o=[u[0].offsetTop+ne(l)[0],u[0].offsetLeft+ne(l)[1]],a=[u.parent()[0].offsetHeight,u.parent()[0].offsetWidth],s=[i[0]<a[0]?c[0]:c[1],i[1]<a[1]?c[0]:c[1]],o[0]-a[0]*s[0][0]<0&&o[0]+i[0]-a[0]*s[0][1]>=0&&o[1]-a[1]*s[1][0]<0&&o[1]+i[1]-a[1]*s[1][1]>=0):void 0},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var r=e(t).data(n);return r?r.overflowed[0]||r.overflowed[1]:void 0}})})})}),!function(e){"use strict";function t(e){var t=e.length,n=r.type(e);return"function"!==n&&!r.isWindow(e)&&(!(1!==e.nodeType||!t)||"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}if(!e.jQuery){var r=function(e,t){return new r.fn.init(e,t)};r.isWindow=function(e){return e&&e===e.window},r.type=function(e){return e?"object"==typeof e||"function"==typeof e?i[o.call(e)]||"object":typeof e:e+""},r.isArray=Array.isArray||function(e){return"array"===r.type(e)},r.isPlainObject=function(e){var t;if(!e||"object"!==r.type(e)||e.nodeType||r.isWindow(e))return!1;try{if(e.constructor&&!a.call(e,"constructor")&&!a.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}for(t in e);return void 0===t||a.call(e,t)},r.each=function(e,r,n){var i,a=0,o=e.length,s=t(e);if(n){if(s)for(;o>a&&(i=r.apply(e[a],n),i!==!1);a++);else for(a in e)if(e.hasOwnProperty(a)&&(i=r.apply(e[a],n),i===!1))break}else if(s)for(;o>a&&(i=r.call(e[a],a,e[a]),i!==!1);a++);else for(a in e)if(e.hasOwnProperty(a)&&(i=r.call(e[a],a,e[a]),i===!1))break;return e},r.data=function(e,t,i){if(void 0===i){var a=e[r.expando],o=a&&n[a];if(void 0===t)return o;if(o&&t in o)return o[t]}else if(void 0!==t){var s=e[r.expando]||(e[r.expando]=++r.uuid);return n[s]=n[s]||{},n[s][t]=i,i}},r.removeData=function(e,t){var i=e[r.expando],a=i&&n[i];a&&(t?r.each(t,function(e,t){delete a[t]}):delete n[i])},r.extend=function(){var e,t,n,i,a,o,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[l]||{},l++),"object"!=typeof s&&"function"!==r.type(s)&&(s={}),l===u&&(s=this,l--);u>l;l++)if(a=arguments[l])for(i in a)a.hasOwnProperty(i)&&(e=s[i],n=a[i],s!==n&&(c&&n&&(r.isPlainObject(n)||(t=r.isArray(n)))?(t?(t=!1,o=e&&r.isArray(e)?e:[]):o=e&&r.isPlainObject(e)?e:{},s[i]=r.extend(c,o,n)):void 0!==n&&(s[i]=n)));return s},r.queue=function(e,n,i){function a(e,r){var n=r||[];return e&&(t(Object(e))?!function(e,t){for(var r=+t.length,n=0,i=e.length;r>n;)e[i++]=t[n++];if(r!==r)for(;void 0!==t[n];)e[i++]=t[n++];return e.length=i,e}(n,"string"==typeof e?[e]:e):[].push.call(n,e)),n}if(e){n=(n||"fx")+"queue";var o=r.data(e,n);return i?(!o||r.isArray(i)?o=r.data(e,n,a(i)):o.push(i),o):o||[]}},r.dequeue=function(e,t){r.each(e.nodeType?[e]:e,function(e,n){t=t||"fx";var i=r.queue(n,t),a=i.shift();"inprogress"===a&&(a=i.shift()),a&&("fx"===t&&i.unshift("inprogress"),a.call(n,function(){r.dequeue(n,t)}))})},r.fn=r.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw new Error("Not a DOM node.")},offset:function(){var t=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:t.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function e(e){for(var t=e.offsetParent||document;t&&"html"!==t.nodeType.toLowerCase&&"static"===t.style.position;)t=t.offsetParent;return t||document}var t=this[0],n=e(t),i=this.offset(),a=/^(?:body|html)$/i.test(n.nodeName)?{top:0,left:0}:r(n).offset();return i.top-=parseFloat(t.style.marginTop)||0,i.left-=parseFloat(t.style.marginLeft)||0,n.style&&(a.top+=parseFloat(n.style.borderTopWidth)||0,a.left+=parseFloat(n.style.borderLeftWidth)||0),{top:i.top-a.top,left:i.left-a.left}}};var n={};r.expando="velocity"+(new Date).getTime(),r.uuid=0;for(var i={},a=i.hasOwnProperty,o=i.toString,s="Boolean Number String Function Array Date RegExp Object Error".split(" "),l=0;l<s.length;l++)i["[object "+s[l]+"]"]=s[l].toLowerCase();r.fn.init.prototype=r.fn,e.Velocity={Utilities:r}}}(window),function(e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e():"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";return function(e,t,r,n){function i(e){for(var t=-1,r=e?e.length:0,n=[];++t<r;){var i=e[t];i&&n.push(i)}return n}function a(e){return m.isWrapped(e)?e=[].slice.call(e):m.isNode(e)&&(e=[e]),e}function o(e){var t=p.data(e,"velocity");return null===t?n:t}function s(e){return function(t){return Math.round(t*e)*(1/e)}}function l(e,r,n,i){function a(e,t){return 1-3*t+3*e}function o(e,t){return 3*t-6*e}function s(e){return 3*e}function l(e,t,r){return((a(t,r)*e+o(t,r))*e+s(t))*e}function u(e,t,r){return 3*a(t,r)*e*e+2*o(t,r)*e+s(t)}function c(t,r){for(var i=0;m>i;++i){var a=u(r,e,n);if(0===a)return r;var o=l(r,e,n)-t;r-=o/a}return r}function d(){for(var t=0;b>t;++t)P[t]=l(t*w,e,n)}function p(t,r,i){var a,o,s=0;do o=r+(i-r)/2,a=l(o,e,n)-t,a>0?i=o:r=o;while(Math.abs(a)>g&&++s<v);return o}function f(t){for(var r=0,i=1,a=b-1;i!==a&&P[i]<=t;++i)r+=w;--i;var o=(t-P[i])/(P[i+1]-P[i]),s=r+o*w,l=u(s,e,n);return l>=y?c(t,s):0===l?s:p(t,r,r+w)}function h(){S=!0,e===r&&n===i||d()}var m=4,y=.001,g=1e-7,v=10,b=11,w=1/(b-1),x="Float32Array"in t;if(4!==arguments.length)return!1;for(var T=0;4>T;++T)if("number"!=typeof arguments[T]||isNaN(arguments[T])||!isFinite(arguments[T]))return!1;e=Math.min(e,1),n=Math.min(n,1),e=Math.max(e,0),n=Math.max(n,0);var P=x?new Float32Array(b):new Array(b),S=!1,C=function(t){return S||h(),e===r&&n===i?t:0===t?0:1===t?1:l(f(t),r,i)};C.getControlPoints=function(){return[{x:e,y:r},{x:n,y:i}]};var Y="generateBezier("+[e,r,n,i]+")";return C.toString=function(){return Y},C}function u(e,t){var r=e;return m.isString(e)?b.Easings[e]||(r=!1):r=m.isArray(e)&&1===e.length?s.apply(null,e):m.isArray(e)&&2===e.length?w.apply(null,e.concat([t])):!(!m.isArray(e)||4!==e.length)&&l.apply(null,e),r===!1&&(r=b.Easings[b.defaults.easing]?b.defaults.easing:v),r}function c(e){if(e){var t=b.timestamp&&e!==!0?e:(new Date).getTime(),r=b.State.calls.length;r>1e4&&(b.State.calls=i(b.State.calls),r=b.State.calls.length);for(var a=0;r>a;a++)if(b.State.calls[a]){var s=b.State.calls[a],l=s[0],u=s[2],f=s[3],h=!!f,y=null;f||(f=b.State.calls[a][3]=t-16);for(var g=Math.min((t-f)/u.duration,1),v=0,w=l.length;w>v;v++){var T=l[v],S=T.element;if(o(S)){var C=!1;if(u.display!==n&&null!==u.display&&"none"!==u.display){if("flex"===u.display){var Y=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];p.each(Y,function(e,t){x.setPropertyValue(S,"display",t)})}x.setPropertyValue(S,"display",u.display)}u.visibility!==n&&"hidden"!==u.visibility&&x.setPropertyValue(S,"visibility",u.visibility);for(var j in T)if(T.hasOwnProperty(j)&&"element"!==j){var k,Q=T[j],_=m.isString(Q.easing)?b.Easings[Q.easing]:Q.easing;if(m.isString(Q.pattern)){var F=1===g?function(e,t){return Q.endValue[t]}:function(e,t){var r=Q.startValue[t],n=Q.endValue[t]-r;return r+n*_(g,u,n)};k=Q.pattern.replace(/{(\d+)}/g,F)}else if(1===g)k=Q.endValue;else{var I=Q.endValue-Q.startValue;k=Q.startValue+I*_(g,u,I)}if(!h&&k===Q.currentValue)continue;if(Q.currentValue=k,"tween"===j)y=k;else{var A;if(x.Hooks.registered[j]){A=x.Hooks.getRoot(j);var E=o(S).rootPropertyValueCache[A];E&&(Q.rootPropertyValue=E)}var D=x.setPropertyValue(S,j,Q.currentValue+(0===parseFloat(k)?"":Q.unitType),Q.rootPropertyValue,Q.scrollData);x.Hooks.registered[j]&&(x.Normalizations.registered[A]?o(S).rootPropertyValueCache[A]=x.Normalizations.registered[A]("extract",null,D[1]):o(S).rootPropertyValueCache[A]=D[1]),"transform"===D[0]&&(C=!0)}}u.mobileHA&&o(S).transformCache.translate3d===n&&(o(S).transformCache.translate3d="(0px, 0px, 0px)",C=!0),C&&x.flushTransformCache(S)}}u.display!==n&&"none"!==u.display&&(b.State.calls[a][2].display=!1),u.visibility!==n&&"hidden"!==u.visibility&&(b.State.calls[a][2].visibility=!1),u.progress&&u.progress.call(s[1],s[1],g,Math.max(0,f+u.duration-t),f,y),1===g&&d(a)}}b.State.isTicking&&P(c)}function d(e,t){if(!b.State.calls[e])return!1;for(var r=b.State.calls[e][0],i=b.State.calls[e][1],a=b.State.calls[e][2],s=b.State.calls[e][4],l=!1,u=0,c=r.length;c>u;u++){var d=r[u].element;t||a.loop||("none"===a.display&&x.setPropertyValue(d,"display",a.display),"hidden"===a.visibility&&x.setPropertyValue(d,"visibility",a.visibility));var f=o(d);if(a.loop!==!0&&(p.queue(d)[1]===n||!/\.velocityQueueEntryFlag/i.test(p.queue(d)[1]))&&f){f.isAnimating=!1,f.rootPropertyValueCache={};var h=!1;p.each(x.Lists.transforms3D,function(e,t){var r=/^scale/.test(t)?1:0,i=f.transformCache[t];f.transformCache[t]!==n&&new RegExp("^\\("+r+"[^.]").test(i)&&(h=!0,delete f.transformCache[t])}),a.mobileHA&&(h=!0,delete f.transformCache.translate3d),h&&x.flushTransformCache(d),x.Values.removeClass(d,"velocity-animating")}if(!t&&a.complete&&!a.loop&&u===c-1)try{a.complete.call(i,i)}catch(m){setTimeout(function(){throw m},1)}s&&a.loop!==!0&&s(i),f&&a.loop===!0&&!t&&(p.each(f.tweensContainer,function(e,t){if(/^rotate/.test(e)&&(parseFloat(t.startValue)-parseFloat(t.endValue))%360===0){var r=t.startValue;t.startValue=t.endValue,t.endValue=r}/^backgroundPosition/.test(e)&&100===parseFloat(t.endValue)&&"%"===t.unitType&&(t.endValue=0,t.startValue=100)}),b(d,"reverse",{loop:!0,delay:a.delay})),a.queue!==!1&&p.dequeue(d,a.queue)}b.State.calls[e]=!1;for(var y=0,g=b.State.calls.length;g>y;y++)if(b.State.calls[y]!==!1){l=!0;break}l===!1&&(b.State.isTicking=!1,delete b.State.calls,b.State.calls=[])}var p,f=function(){if(r.documentMode)return r.documentMode;for(var e=7;e>4;e--){var t=r.createElement("div");if(t.innerHTML="<!--[if IE "+e+"]><span></span><![endif]-->",t.getElementsByTagName("span").length)return t=null,e}return n}(),h=function(){var e=0;return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(t){var r,n=(new Date).getTime();return r=Math.max(0,16-(n-e)),e=n+r,setTimeout(function(){t(n+r)},r)}}(),m={isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isNodeList:function(e){return"object"==typeof e&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(e))&&e.length!==n&&(0===e.length||"object"==typeof e[0]&&e[0].nodeType>0)},isWrapped:function(e){return e&&(e.jquery||t.Zepto&&t.Zepto.zepto.isZ(e))},isSVG:function(e){return t.SVGElement&&e instanceof t.SVGElement},isEmptyObject:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}},y=!1;if(e.fn&&e.fn.jquery?(p=e,y=!0):p=t.Velocity.Utilities,8>=f&&!y)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=f)return void(jQuery.fn.velocity=jQuery.fn.animate);var g=400,v="swing",b={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:t.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:r.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:p,Redirects:{},Easings:{},Promise:t.Promise,defaults:{queue:"",duration:g,easing:v,begin:n,complete:n,progress:n,display:n,visibility:n,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0,promiseRejectEmpty:!0},init:function(e){p.data(e,"velocity",{isSVG:m.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:3,patch:1},debug:!1,timestamp:!0};t.pageYOffset!==n?(b.State.scrollAnchor=t,b.State.scrollPropertyLeft="pageXOffset",b.State.scrollPropertyTop="pageYOffset"):(b.State.scrollAnchor=r.documentElement||r.body.parentNode||r.body,b.State.scrollPropertyLeft="scrollLeft",b.State.scrollPropertyTop="scrollTop");var w=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,r,n){var i={x:t.x+n.dx*r,v:t.v+n.dv*r,tension:t.tension,friction:t.friction};return{dx:i.v,dv:e(i)}}function r(r,n){var i={dx:r.v,dv:e(r)},a=t(r,.5*n,i),o=t(r,.5*n,a),s=t(r,n,o),l=1/6*(i.dx+2*(a.dx+o.dx)+s.dx),u=1/6*(i.dv+2*(a.dv+o.dv)+s.dv);return r.x=r.x+l*n,r.v=r.v+u*n,r}return function n(e,t,i){var a,o,s,l={x:-1,v:0,tension:null,friction:null},u=[0],c=0,d=1e-4,p=.016;for(e=parseFloat(e)||500,t=parseFloat(t)||20,i=i||null,l.tension=e,l.friction=t,a=null!==i,a?(c=n(e,t),o=c/i*p):o=p;s=r(s||l,o),u.push(1+s.x),c+=16,Math.abs(s.x)>d&&Math.abs(s.v)>d;);return a?function(e){return u[e*(u.length-1)|0]}:c}}();b.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},p.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(e,t){b.Easings[t[0]]=l.apply(null,t[1])});var x=b.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e=0;e<x.Lists.colors.length;e++){var t="color"===x.Lists.colors[e]?"0 0 0 1":"255 255 255 1";x.Hooks.templates[x.Lists.colors[e]]=["Red Green Blue Alpha",t]}var r,n,i;if(f)for(r in x.Hooks.templates)if(x.Hooks.templates.hasOwnProperty(r)){n=x.Hooks.templates[r],i=n[0].split(" ");var a=n[1].match(x.RegEx.valueSplit);"Color"===i[0]&&(i.push(i.shift()),a.push(a.shift()),x.Hooks.templates[r]=[i.join(" "),a.join(" ")])}for(r in x.Hooks.templates)if(x.Hooks.templates.hasOwnProperty(r)){n=x.Hooks.templates[r],i=n[0].split(" ");for(var o in i)if(i.hasOwnProperty(o)){var s=r+i[o],l=o;x.Hooks.registered[s]=[r,l]}}},getRoot:function(e){var t=x.Hooks.registered[e];return t?t[0]:e},cleanRootPropertyValue:function(e,t){return x.RegEx.valueUnwrap.test(t)&&(t=t.match(x.RegEx.valueUnwrap)[1]),x.Values.isCSSNullValue(t)&&(t=x.Hooks.templates[e][1]),t},extractValue:function(e,t){var r=x.Hooks.registered[e];if(r){var n=r[0],i=r[1];return t=x.Hooks.cleanRootPropertyValue(n,t),t.toString().match(x.RegEx.valueSplit)[i]}return t},injectValue:function(e,t,r){var n=x.Hooks.registered[e];if(n){var i,a,o=n[0],s=n[1];return r=x.Hooks.cleanRootPropertyValue(o,r),i=r.toString().match(x.RegEx.valueSplit),i[s]=t,a=i.join(" ")}return r}},Normalizations:{registered:{clip:function(e,t,r){switch(e){case"name":return"clip";case"extract":var n;return x.RegEx.wrappedValueAlreadyExtracted.test(r)?n=r:(n=r.toString().match(x.RegEx.valueUnwrap),n=n?n[1].replace(/,(\s+)?/g," "):r),n;case"inject":return"rect("+r+")"}},blur:function(e,t,r){switch(e){case"name":return b.State.isFirefox?"filter":"-webkit-filter";case"extract":var n=parseFloat(r);if(!n&&0!==n){var i=r.toString().match(/blur\(([0-9]+[A-z]+)\)/i);n=i?i[1]:0}return n;case"inject":return parseFloat(r)?"blur("+r+")":"none"}},opacity:function(e,t,r){if(8>=f)switch(e){case"name":return"filter";case"extract":var n=r.toString().match(/alpha\(opacity=(.*)\)/i);return r=n?n[1]/100:1;case"inject":return t.style.zoom=1,parseFloat(r)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(r),10)+")"}else switch(e){case"name":return"opacity";case"extract":return r;case"inject":return r}}},register:function(){function e(e,t,r){var n="border-box"===x.getPropertyValue(t,"boxSizing").toString().toLowerCase();if(n===(r||!1)){var i,a,o=0,s="width"===e?["Left","Right"]:["Top","Bottom"],l=["padding"+s[0],"padding"+s[1],"border"+s[0]+"Width","border"+s[1]+"Width"];for(i=0;i<l.length;i++)a=parseFloat(x.getPropertyValue(t,l[i])),isNaN(a)||(o+=a);return r?-o:o}return 0}function t(t,r){return function(n,i,a){switch(n){case"name":return t;case"extract":return parseFloat(a)+e(t,i,r);case"inject":return parseFloat(a)-e(t,i,r)+"px"}}}f&&!(f>9)||b.State.isGingerbread||(x.Lists.transformsBase=x.Lists.transformsBase.concat(x.Lists.transforms3D));for(var r=0;r<x.Lists.transformsBase.length;r++)!function(){var e=x.Lists.transformsBase[r];x.Normalizations.registered[e]=function(t,r,i){switch(t){case"name":return"transform";case"extract":return o(r)===n||o(r).transformCache[e]===n?/^scale/i.test(e)?1:0:o(r).transformCache[e].replace(/[()]/g,"");case"inject":var a=!1;switch(e.substr(0,e.length-1)){case"translate":a=!/(%|px|em|rem|vw|vh|\d)$/i.test(i);break;case"scal":case"scale":b.State.isAndroid&&o(r).transformCache[e]===n&&1>i&&(i=1),a=!/(\d)$/i.test(i);break;case"skew":a=!/(deg|\d)$/i.test(i);break;case"rotate":a=!/(deg|\d)$/i.test(i)}return a||(o(r).transformCache[e]="("+i+")"),o(r).transformCache[e]}}}();for(var i=0;i<x.Lists.colors.length;i++)!function(){var e=x.Lists.colors[i];x.Normalizations.registered[e]=function(t,r,i){switch(t){case"name":return e;case"extract":var a;if(x.RegEx.wrappedValueAlreadyExtracted.test(i))a=i;else{var o,s={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(i)?o=s[i]!==n?s[i]:s.black:x.RegEx.isHex.test(i)?o="rgb("+x.Values.hexToRgb(i).join(" ")+")":/^rgba?\(/i.test(i)||(o=s.black),
a=(o||i).toString().match(x.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return(!f||f>8)&&3===a.split(" ").length&&(a+=" 1"),a;case"inject":return/^rgb/.test(i)?i:(8>=f?4===i.split(" ").length&&(i=i.split(/\s+/).slice(0,3).join(" ")):3===i.split(" ").length&&(i+=" 1"),(8>=f?"rgb":"rgba")+"("+i.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")")}}}();x.Normalizations.registered.innerWidth=t("width",!0),x.Normalizations.registered.innerHeight=t("height",!0),x.Normalizations.registered.outerWidth=t("width"),x.Normalizations.registered.outerHeight=t("height")}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(f||b.State.isAndroid&&!b.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(b.State.prefixMatches[e])return[b.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],r=0,n=t.length;n>r;r++){var i;if(i=0===r?e:t[r]+e.replace(/^\w/,function(e){return e.toUpperCase()}),m.isString(b.State.prefixElement.style[i]))return b.State.prefixMatches[e]=i,[i,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t,r=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return e=e.replace(r,function(e,t,r,n){return t+t+r+r+n+n}),t=n.exec(e),t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return!e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":/^(table)$/i.test(t)?"table":/^(tbody)$/i.test(t)?"table-row-group":"block"},addClass:function(e,t){if(e)if(e.classList)e.classList.add(t);else if(m.isString(e.className))e.className+=(e.className.length?" ":"")+t;else{var r=e.getAttribute(7>=f?"className":"class")||"";e.setAttribute("class",r+(r?" ":"")+t)}},removeClass:function(e,t){if(e)if(e.classList)e.classList.remove(t);else if(m.isString(e.className))e.className=e.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ");else{var r=e.getAttribute(7>=f?"className":"class")||"";e.setAttribute("class",r.replace(new RegExp("(^|s)"+t.split(" ").join("|")+"(s|$)","gi")," "))}}},getPropertyValue:function(e,r,i,a){function s(e,r){var i=0;if(8>=f)i=p.css(e,r);else{var l=!1;/^(width|height)$/.test(r)&&0===x.getPropertyValue(e,"display")&&(l=!0,x.setPropertyValue(e,"display",x.Values.getDisplayType(e)));var u=function(){l&&x.setPropertyValue(e,"display","none")};if(!a){if("height"===r&&"border-box"!==x.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var c=e.offsetHeight-(parseFloat(x.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(x.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(x.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(x.getPropertyValue(e,"paddingBottom"))||0);return u(),c}if("width"===r&&"border-box"!==x.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var d=e.offsetWidth-(parseFloat(x.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(x.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(x.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(x.getPropertyValue(e,"paddingRight"))||0);return u(),d}}var h;h=o(e)===n?t.getComputedStyle(e,null):o(e).computedStyle?o(e).computedStyle:o(e).computedStyle=t.getComputedStyle(e,null),"borderColor"===r&&(r="borderTopColor"),i=9===f&&"filter"===r?h.getPropertyValue(r):h[r],""!==i&&null!==i||(i=e.style[r]),u()}if("auto"===i&&/^(top|right|bottom|left)$/i.test(r)){var m=s(e,"position");("fixed"===m||"absolute"===m&&/top|left/i.test(r))&&(i=p(e).position()[r]+"px")}return i}var l;if(x.Hooks.registered[r]){var u=r,c=x.Hooks.getRoot(u);i===n&&(i=x.getPropertyValue(e,x.Names.prefixCheck(c)[0])),x.Normalizations.registered[c]&&(i=x.Normalizations.registered[c]("extract",e,i)),l=x.Hooks.extractValue(u,i)}else if(x.Normalizations.registered[r]){var d,h;d=x.Normalizations.registered[r]("name",e),"transform"!==d&&(h=s(e,x.Names.prefixCheck(d)[0]),x.Values.isCSSNullValue(h)&&x.Hooks.templates[r]&&(h=x.Hooks.templates[r][1])),l=x.Normalizations.registered[r]("extract",e,h)}if(!/^[\d-]/.test(l)){var m=o(e);if(m&&m.isSVG&&x.Names.SVGAttribute(r))if(/^(height|width)$/i.test(r))try{l=e.getBBox()[r]}catch(y){l=0}else l=e.getAttribute(r);else l=s(e,x.Names.prefixCheck(r)[0])}return x.Values.isCSSNullValue(l)&&(l=0),b.debug>=2&&console.log("Get "+r+": "+l),l},setPropertyValue:function(e,r,n,i,a){var s=r;if("scroll"===r)a.container?a.container["scroll"+a.direction]=n:"Left"===a.direction?t.scrollTo(n,a.alternateValue):t.scrollTo(a.alternateValue,n);else if(x.Normalizations.registered[r]&&"transform"===x.Normalizations.registered[r]("name",e))x.Normalizations.registered[r]("inject",e,n),s="transform",n=o(e).transformCache[r];else{if(x.Hooks.registered[r]){var l=r,u=x.Hooks.getRoot(r);i=i||x.getPropertyValue(e,u),n=x.Hooks.injectValue(l,n,i),r=u}if(x.Normalizations.registered[r]&&(n=x.Normalizations.registered[r]("inject",e,n),r=x.Normalizations.registered[r]("name",e)),s=x.Names.prefixCheck(r)[0],8>=f)try{e.style[s]=n}catch(c){b.debug&&console.log("Browser does not support ["+n+"] for ["+s+"]")}else{var d=o(e);d&&d.isSVG&&x.Names.SVGAttribute(r)?e.setAttribute(r,n):e.style[s]=n}b.debug>=2&&console.log("Set "+r+" ("+s+"): "+n)}return[s,n]},flushTransformCache:function(e){var t="",r=o(e);if((f||b.State.isAndroid&&!b.State.isChrome)&&r&&r.isSVG){var n=function(t){return parseFloat(x.getPropertyValue(e,t))},i={translate:[n("translateX"),n("translateY")],skewX:[n("skewX")],skewY:[n("skewY")],scale:1!==n("scale")?[n("scale"),n("scale")]:[n("scaleX"),n("scaleY")],rotate:[n("rotateZ"),0,0]};p.each(o(e).transformCache,function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),i[e]&&(t+=e+"("+i[e].join(" ")+") ",delete i[e])})}else{var a,s;p.each(o(e).transformCache,function(r){return a=o(e).transformCache[r],"transformPerspective"===r?(s=a,!0):(9===f&&"rotateZ"===r&&(r="rotate"),void(t+=r+a+" "))}),s&&(t="perspective"+s+" "+t)}x.setPropertyValue(e,"transform",t)}};x.Hooks.register(),x.Normalizations.register(),b.hook=function(e,t,r){var i;return e=a(e),p.each(e,function(e,a){if(o(a)===n&&b.init(a),r===n)i===n&&(i=x.getPropertyValue(a,t));else{var s=x.setPropertyValue(a,t,r);"transform"===s[0]&&b.CSS.flushTransformCache(a),i=s}}),i};var T=function(){function e(){return l?S.promise||null:f}function i(e,i){function a(a){var f,h;if(l.begin&&0===Y)try{l.begin.call(y,y)}catch(g){setTimeout(function(){throw g},1)}if("scroll"===Q){var T,P,j,k=/^x$/i.test(l.axis)?"Left":"Top",_=parseFloat(l.offset)||0;l.container?m.isWrapped(l.container)||m.isNode(l.container)?(l.container=l.container[0]||l.container,T=l.container["scroll"+k],j=T+p(e).position()[k.toLowerCase()]+_):l.container=null:(T=b.State.scrollAnchor[b.State["scrollProperty"+k]],P=b.State.scrollAnchor[b.State["scrollProperty"+("Left"===k?"Top":"Left")]],j=p(e).offset()[k.toLowerCase()]+_),d={scroll:{rootPropertyValue:!1,startValue:T,currentValue:T,endValue:j,unitType:"",easing:l.easing,scrollData:{container:l.container,direction:k,alternateValue:P}},element:e},b.debug&&console.log("tweensContainer (scroll): ",d.scroll,e)}else if("reverse"===Q){if(f=o(e),!f)return;if(!f.tweensContainer)return void p.dequeue(e,l.queue);"none"===f.opts.display&&(f.opts.display="auto"),"hidden"===f.opts.visibility&&(f.opts.visibility="visible"),f.opts.loop=!1,f.opts.begin=null,f.opts.complete=null,w.easing||delete l.easing,w.duration||delete l.duration,l=p.extend({},f.opts,l),h=p.extend(!0,{},f?f.tweensContainer:null);for(var F in h)if(h.hasOwnProperty(F)&&"element"!==F){var I=h[F].startValue;h[F].startValue=h[F].currentValue=h[F].endValue,h[F].endValue=I,m.isEmptyObject(w)||(h[F].easing=l.easing),b.debug&&console.log("reverse tweensContainer ("+F+"): "+JSON.stringify(h[F]),e)}d=h}else if("start"===Q){f=o(e),f&&f.tweensContainer&&f.isAnimating===!0&&(h=f.tweensContainer);var A=function(t,r){var n,a,o;return m.isFunction(t)&&(t=t.call(e,i,C)),m.isArray(t)?(n=t[0],!m.isArray(t[1])&&/^[\d-]/.test(t[1])||m.isFunction(t[1])||x.RegEx.isHex.test(t[1])?o=t[1]:m.isString(t[1])&&!x.RegEx.isHex.test(t[1])&&b.Easings[t[1]]||m.isArray(t[1])?(a=r?t[1]:u(t[1],l.duration),o=t[2]):o=t[1]||t[2]):n=t,r||(a=a||l.easing),m.isFunction(n)&&(n=n.call(e,i,C)),m.isFunction(o)&&(o=o.call(e,i,C)),[n||0,a,o]},O=function(i,a){var o,u=x.Hooks.getRoot(i),c=!1,y=a[0],g=a[1],v=a[2];if(!(f&&f.isSVG||"tween"===u||x.Names.prefixCheck(u)[1]!==!1||x.Normalizations.registered[u]!==n))return void(b.debug&&console.log("Skipping ["+u+"] due to a lack of browser support."));(l.display!==n&&null!==l.display&&"none"!==l.display||l.visibility!==n&&"hidden"!==l.visibility)&&/opacity|filter/.test(i)&&!v&&0!==y&&(v=0),l._cacheValues&&h&&h[i]?(v===n&&(v=h[i].endValue+h[i].unitType),c=f.rootPropertyValueCache[u]):x.Hooks.registered[i]?v===n?(c=x.getPropertyValue(e,u),v=x.getPropertyValue(e,i,c)):c=x.Hooks.templates[u][1]:v===n&&(v=x.getPropertyValue(e,i));var w,T,P,S=!1,C=function(e,t){var r,n;return n=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(e){return r=e,""}),r||(r=x.Values.getUnitType(e)),[n,r]};if(m.isString(v)&&m.isString(y)){o="";for(var Y=0,j=0,k=[],Q=[];Y<v.length&&j<y.length;){var _=v[Y],F=y[j];if(/[\d\.]/.test(_)&&/[\d\.]/.test(F)){for(var I=_,A=F,D=".",O=".";++Y<v.length;){if(_=v[Y],_===D)D="..";else if(!/\d/.test(_))break;I+=_}for(;++j<y.length;){if(F=y[j],F===O)O="..";else if(!/\d/.test(F))break;A+=F}I===A?o+=I:(o+="{"+k.length+"}",k.push(parseFloat(I)),Q.push(parseFloat(A)))}else{if(_!==F)break;o+=_,Y++,j++}}Y===v.length&&j===y.length||(b.debug&&console.error('Trying to pattern match mis-matched strings ["'+y+'", "'+v+'"]'),o=n),o&&(k.length?(b.debug&&console.log('Pattern found "'+o+'" -> ',k,Q,v,y),v=k,y=Q,T=P=""):o=n)}o||(w=C(i,v),v=w[0],P=w[1],w=C(i,y),y=w[0].replace(/^([+-\/*])=/,function(e,t){return S=t,""}),T=w[1],v=parseFloat(v)||0,y=parseFloat(y)||0,"%"===T&&(/^(fontSize|lineHeight)$/.test(i)?(y/=100,T="em"):/^scale/.test(i)?(y/=100,T=""):/(Red|Green|Blue)$/i.test(i)&&(y=y/100*255,T="")));var M=function(){var n={myParent:e.parentNode||r.body,position:x.getPropertyValue(e,"position"),fontSize:x.getPropertyValue(e,"fontSize")},i=n.position===E.lastPosition&&n.myParent===E.lastParent,a=n.fontSize===E.lastFontSize;E.lastParent=n.myParent,E.lastPosition=n.position,E.lastFontSize=n.fontSize;var o=100,s={};if(a&&i)s.emToPx=E.lastEmToPx,s.percentToPxWidth=E.lastPercentToPxWidth,s.percentToPxHeight=E.lastPercentToPxHeight;else{var l=f&&f.isSVG?r.createElementNS("http://www.w3.org/2000/svg","rect"):r.createElement("div");b.init(l),n.myParent.appendChild(l),p.each(["overflow","overflowX","overflowY"],function(e,t){b.CSS.setPropertyValue(l,t,"hidden")}),b.CSS.setPropertyValue(l,"position",n.position),b.CSS.setPropertyValue(l,"fontSize",n.fontSize),b.CSS.setPropertyValue(l,"boxSizing","content-box"),p.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(e,t){b.CSS.setPropertyValue(l,t,o+"%")}),b.CSS.setPropertyValue(l,"paddingLeft",o+"em"),s.percentToPxWidth=E.lastPercentToPxWidth=(parseFloat(x.getPropertyValue(l,"width",null,!0))||1)/o,s.percentToPxHeight=E.lastPercentToPxHeight=(parseFloat(x.getPropertyValue(l,"height",null,!0))||1)/o,s.emToPx=E.lastEmToPx=(parseFloat(x.getPropertyValue(l,"paddingLeft"))||1)/o,n.myParent.removeChild(l)}return null===E.remToPx&&(E.remToPx=parseFloat(x.getPropertyValue(r.body,"fontSize"))||16),null===E.vwToPx&&(E.vwToPx=parseFloat(t.innerWidth)/100,E.vhToPx=parseFloat(t.innerHeight)/100),s.remToPx=E.remToPx,s.vwToPx=E.vwToPx,s.vhToPx=E.vhToPx,b.debug>=1&&console.log("Unit ratios: "+JSON.stringify(s),e),s};if(/[\/*]/.test(S))T=P;else if(P!==T&&0!==v)if(0===y)T=P;else{s=s||M();var B=/margin|padding|left|right|width|text|word|letter/i.test(i)||/X$/.test(i)||"x"===i?"x":"y";switch(P){case"%":v*="x"===B?s.percentToPxWidth:s.percentToPxHeight;break;case"px":break;default:v*=s[P+"ToPx"]}switch(T){case"%":v*=1/("x"===B?s.percentToPxWidth:s.percentToPxHeight);break;case"px":break;default:v*=1/s[T+"ToPx"]}}switch(S){case"+":y=v+y;break;case"-":y=v-y;break;case"*":y=v*y;break;case"/":y=v/y}d[i]={rootPropertyValue:c,startValue:v,currentValue:v,endValue:y,unitType:T,easing:g},o&&(d[i].pattern=o),b.debug&&console.log("tweensContainer ("+i+"): "+JSON.stringify(d[i]),e)};for(var M in v)if(v.hasOwnProperty(M)){var B=x.Names.camelCase(M),R=A(v[M]);if(x.Lists.colors.indexOf(B)>=0){var L=R[0],z=R[1],V=R[2];if(x.RegEx.isHex.test(L)){for(var N=["Red","Green","Blue"],$=x.Values.hexToRgb(L),H=V?x.Values.hexToRgb(V):n,W=0;W<N.length;W++){var U=[$[W]];z&&U.push(z),H!==n&&U.push(H[W]),O(B+N[W],U)}continue}}O(B,R)}d.element=e}d.element&&(x.Values.addClass(e,"velocity-animating"),D.push(d),f=o(e),f&&(""===l.queue&&(f.tweensContainer=d,f.opts=l),f.isAnimating=!0),Y===C-1?(b.State.calls.push([D,y,l,null,S.resolver]),b.State.isTicking===!1&&(b.State.isTicking=!0,c())):Y++)}var s,l=p.extend({},b.defaults,w),d={};switch(o(e)===n&&b.init(e),parseFloat(l.delay)&&l.queue!==!1&&p.queue(e,l.queue,function(t){b.velocityQueueEntryFlag=!0,o(e).delayTimer={setTimeout:setTimeout(t,parseFloat(l.delay)),next:t}}),l.duration.toString().toLowerCase()){case"fast":l.duration=200;break;case"normal":l.duration=g;break;case"slow":l.duration=600;break;default:l.duration=parseFloat(l.duration)||1}b.mock!==!1&&(b.mock===!0?l.duration=l.delay=1:(l.duration*=parseFloat(b.mock)||1,l.delay*=parseFloat(b.mock)||1)),l.easing=u(l.easing,l.duration),l.begin&&!m.isFunction(l.begin)&&(l.begin=null),l.progress&&!m.isFunction(l.progress)&&(l.progress=null),l.complete&&!m.isFunction(l.complete)&&(l.complete=null),l.display!==n&&null!==l.display&&(l.display=l.display.toString().toLowerCase(),"auto"===l.display&&(l.display=b.CSS.Values.getDisplayType(e))),l.visibility!==n&&null!==l.visibility&&(l.visibility=l.visibility.toString().toLowerCase()),l.mobileHA=l.mobileHA&&b.State.isMobile&&!b.State.isGingerbread,l.queue===!1?l.delay?setTimeout(a,l.delay):a():p.queue(e,l.queue,function(e,t){return t===!0?(S.promise&&S.resolver(y),!0):(b.velocityQueueEntryFlag=!0,void a(e))}),""!==l.queue&&"fx"!==l.queue||"inprogress"===p.queue(e)[0]||p.dequeue(e)}var s,l,f,h,y,v,w,P=arguments[0]&&(arguments[0].p||p.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||m.isString(arguments[0].properties));m.isWrapped(this)?(l=!1,h=0,y=this,f=this):(l=!0,h=1,y=P?arguments[0].elements||arguments[0].e:arguments[0]);var S={promise:null,resolver:null,rejecter:null};if(l&&b.Promise&&(S.promise=new b.Promise(function(e,t){S.resolver=e,S.rejecter=t})),P?(v=arguments[0].properties||arguments[0].p,w=arguments[0].options||arguments[0].o):(v=arguments[h],w=arguments[h+1]),y=a(y),!y)return void(S.promise&&(v&&w&&w.promiseRejectEmpty===!1?S.resolver():S.rejecter()));var C=y.length,Y=0;if(!/^(stop|finish|finishAll)$/i.test(v)&&!p.isPlainObject(w)){var j=h+1;w={};for(var k=j;k<arguments.length;k++)m.isArray(arguments[k])||!/^(fast|normal|slow)$/i.test(arguments[k])&&!/^\d/.test(arguments[k])?m.isString(arguments[k])||m.isArray(arguments[k])?w.easing=arguments[k]:m.isFunction(arguments[k])&&(w.complete=arguments[k]):w.duration=arguments[k]}var Q;switch(v){case"scroll":Q="scroll";break;case"reverse":Q="reverse";break;case"finish":case"finishAll":case"stop":p.each(y,function(e,t){o(t)&&o(t).delayTimer&&(clearTimeout(o(t).delayTimer.setTimeout),o(t).delayTimer.next&&o(t).delayTimer.next(),delete o(t).delayTimer),"finishAll"!==v||w!==!0&&!m.isString(w)||(p.each(p.queue(t,m.isString(w)?w:""),function(e,t){m.isFunction(t)&&t()}),p.queue(t,m.isString(w)?w:"",[]))});var _=[];return p.each(b.State.calls,function(e,t){t&&p.each(t[1],function(r,i){var a=w===n?"":w;return a!==!0&&t[2].queue!==a&&(w!==n||t[2].queue!==!1)||void p.each(y,function(r,n){if(n===i)if((w===!0||m.isString(w))&&(p.each(p.queue(n,m.isString(w)?w:""),function(e,t){m.isFunction(t)&&t(null,!0)}),p.queue(n,m.isString(w)?w:"",[])),"stop"===v){var s=o(n);s&&s.tweensContainer&&a!==!1&&p.each(s.tweensContainer,function(e,t){t.endValue=t.currentValue}),_.push(e)}else"finish"!==v&&"finishAll"!==v||(t[2].duration=1)})})}),"stop"===v&&(p.each(_,function(e,t){d(t,!0)}),S.promise&&S.resolver(y)),e();default:if(!p.isPlainObject(v)||m.isEmptyObject(v)){if(m.isString(v)&&b.Redirects[v]){s=p.extend({},w);var F=s.duration,I=s.delay||0;return s.backwards===!0&&(y=p.extend(!0,[],y).reverse()),p.each(y,function(e,t){parseFloat(s.stagger)?s.delay=I+parseFloat(s.stagger)*e:m.isFunction(s.stagger)&&(s.delay=I+s.stagger.call(t,e,C)),s.drag&&(s.duration=parseFloat(F)||(/^(callout|transition)/.test(v)?1e3:g),s.duration=Math.max(s.duration*(s.backwards?1-e/C:(e+1)/C),.75*s.duration,200)),b.Redirects[v].call(t,t,s||{},e,C,y,S.promise?S:n)}),e()}var A="Velocity: First argument ("+v+") was not a property map, a known action, or a registered redirect. Aborting.";return S.promise?S.rejecter(new Error(A)):console.log(A),e()}Q="start"}var E={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},D=[];p.each(y,function(e,t){m.isNode(t)&&i(t,e)}),s=p.extend({},b.defaults,w),s.loop=parseInt(s.loop,10);var O=2*s.loop-1;if(s.loop)for(var M=0;O>M;M++){var B={delay:s.delay,progress:s.progress};M===O-1&&(B.display=s.display,B.visibility=s.visibility,B.complete=s.complete),T(y,"reverse",B)}return e()};b=p.extend(T,b),b.animate=T;var P=t.requestAnimationFrame||h;return b.State.isMobile||r.hidden===n||r.addEventListener("visibilitychange",function(){r.hidden?(P=function(e){return setTimeout(function(){e(!0)},16)},c()):P=t.requestAnimationFrame||h}),e.Velocity=b,e!==t&&(e.fn.velocity=T,e.fn.velocity.defaults=b.defaults),p.each(["Down","Up"],function(e,t){b.Redirects["slide"+t]=function(e,r,i,a,o,s){var l=p.extend({},r),u=l.begin,c=l.complete,d={},f={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""};l.display===n&&(l.display="Down"===t?"inline"===b.CSS.Values.getDisplayType(e)?"inline-block":"block":"none"),l.begin=function(){0===i&&u&&u.call(o,o);for(var r in f)if(f.hasOwnProperty(r)){d[r]=e.style[r];var n=x.getPropertyValue(e,r);f[r]="Down"===t?[n,0]:[0,n]}d.overflow=e.style.overflow,e.style.overflow="hidden"},l.complete=function(){for(var t in d)d.hasOwnProperty(t)&&(e.style[t]=d[t]);i===a-1&&(c&&c.call(o,o),s&&s.resolver(o))},b(e,f,l)}}),p.each(["In","Out"],function(e,t){b.Redirects["fade"+t]=function(e,r,i,a,o,s){var l=p.extend({},r),u=l.complete,c={opacity:"In"===t?1:0};0!==i&&(l.begin=null),i!==a-1?l.complete=null:l.complete=function(){u&&u.call(o,o),s&&s.resolver(o)},l.display===n&&(l.display="In"===t?"auto":"none"),b(this,c,l)}}),b}(window.jQuery||window.Zepto||window,window,window?window.document:void 0)}),function(){!function(e){e.countdown=function(t,r){var n,i=this;return this.el=t,this.$el=e(t),this.$el.data("countdown",this),this.init=function(){return i.options=e.extend({},e.countdown.defaultOptions,r),i.options.refresh&&(i.interval=setInterval(function(){return i.render()},i.options.refresh)),i.render(),i},n=function(t){var r,n;return t=Date.parse(e.isPlainObject(i.options.date)?i.options.date:new Date(i.options.date)),n=(t-Date.parse(new Date))/1e3,0>=n&&(n=0,i.interval&&i.stop(),i.options.onEnd.apply(i)),r={years:0,days:0,hours:0,min:0,sec:0,millisec:0},n>=31557600&&(r.years=Math.floor(n/31557600),n-=365.25*r.years*86400),n>=86400&&(r.days=Math.floor(n/86400),n-=86400*r.days),n>=3600&&(r.hours=Math.floor(n/3600),n-=3600*r.hours),n>=60&&(r.min=Math.floor(n/60),n-=60*r.min),r.sec=n,r},this.leadingZeros=function(e,t){for(null==t&&(t=2),e=String(e);e.length<t;)e="0"+e;return e},this.update=function(e){return i.options.date=e,i},this.render=function(){return i.options.render.apply(i,[n(i.options.date)]),i},this.stop=function(){return i.interval&&clearInterval(i.interval),i.interval=null,i},this.start=function(t){return null==t&&(t=i.options.refresh||e.countdown.defaultOptions.refresh),i.interval&&clearInterval(i.interval),i.render(),i.options.refresh=t,i.interval=setInterval(function(){return i.render()},i.options.refresh),i},this.init()},e.countdown.defaultOptions={date:"June 7, 2087 15:03:25",refresh:1e3,onEnd:e.noop,render:function(t){return e(this.el).html(""+t.years+" years, "+t.days+" days, "+this.leadingZeros(t.hours)+" hours, "+this.leadingZeros(t.min)+" min and "+this.leadingZeros(t.sec)+" sec")}},e.fn.countdown=function(t){return e.each(this,function(r,n){var i;return i=e(n),i.data("countdown")?void 0:i.data("countdown",new e.countdown(n,t))})}}(jQuery)}.call(this),function(e){"use strict";function t(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function r(e,r){this.el=e,this.options=t({},this.options),t(this.options,r),this.ctrlClose=this.el.querySelector("[data-dialog-close]"),this.isOpen=!1,this._initEvents()}var n={animations:Modernizr.cssanimations},i={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},a=i[Modernizr.prefixed("animation")],o=function(e,t){var r=function(e){if(n.animations){if(e.target!=this)return;this.removeEventListener(a,r)}t&&"function"==typeof t&&t.call()};n.animations?e.addEventListener(a,r):r()};r.prototype.options={onOpenDialog:function(){return!1},onCloseDialog:function(){return!1}},r.prototype._initEvents=function(){var e=this;this.ctrlClose.addEventListener("click",this.toggle.bind(this)),document.addEventListener("keydown",function(t){var r=t.keyCode||t.which;27===r&&e.isOpen&&e.toggle()}),this.el.querySelector(".dialog__overlay").addEventListener("click",this.toggle.bind(this))},r.prototype.toggle=function(){var e=this;this.isOpen?(classie.remove(this.el,"dialog--open"),classie.add(e.el,"dialog--close"),o(this.el.querySelector(".dialog__content"),function(){classie.remove(e.el,"dialog--close")}),this.options.onCloseDialog(this)):(classie.add(this.el,"dialog--open"),this.options.onOpenDialog(this)),this.isOpen=!this.isOpen},e.DialogFx=r}(window),window.Modernizr=function(e,t,r){function n(e){v.cssText=e}function i(e,t){return typeof e===t}function a(e,t){return!!~(""+e).indexOf(t)}function o(e,t){for(var n in e){var i=e[n];if(!a(i,"-")&&v[i]!==r)return"pfx"==t?i:!0}return!1}function s(e,t,n){for(var a in e){var o=t[e[a]];if(o!==r)return n===!1?e[a]:i(o,"function")?o.bind(n||t):o}return!1}function l(e,t,r){var n=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+w.join(n+" ")+n).split(" ");return i(t,"string")||i(t,"undefined")?o(a,t):(a=(e+" "+x.join(n+" ")+n).split(" "),s(a,t,r))}var u,c,d,p="2.8.3",f={},h=!0,m=t.documentElement,y="modernizr",g=t.createElement(y),v=g.style,b=({}.toString,"Webkit Moz O ms"),w=b.split(" "),x=b.toLowerCase().split(" "),T={},P=[],S=P.slice,C={}.hasOwnProperty;d=i(C,"undefined")||i(C.call,"undefined")?function(e,t){return t in e&&i(e.constructor.prototype[t],"undefined")}:function(e,t){return C.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var r=S.call(arguments,1),n=function(){if(this instanceof n){var i=function(){};i.prototype=t.prototype;var a=new i,o=t.apply(a,r.concat(S.call(arguments)));return Object(o)===o?o:a}return t.apply(e,r.concat(S.call(arguments)))};return n}),T.cssanimations=function(){return l("animationName")};for(var Y in T)d(T,Y)&&(c=Y.toLowerCase(),f[c]=T[Y](),P.push((f[c]?"":"no-")+c));return f.addTest=function(e,t){if("object"==typeof e)for(var n in e)d(e,n)&&f.addTest(n,e[n]);else{if(e=e.toLowerCase(),f[e]!==r)return f;t="function"==typeof t?t():t,"undefined"!=typeof h&&h&&(m.className+=" "+(t?"":"no-")+e),f[e]=t}return f},n(""),g=u=null,function(e,t){function r(e,t){var r=e.createElement("p"),n=e.getElementsByTagName("head")[0]||e.documentElement;return r.innerHTML="x<style>"+t+"</style>",n.insertBefore(r.lastChild,n.firstChild)}function n(){var e=v.elements;return"string"==typeof e?e.split(" "):e}function i(e){var t=g[e[m]];return t||(t={},y++,e[m]=y,g[y]=t),t}function a(e,r,n){if(r||(r=t),c)return r.createElement(e);n||(n=i(r));var a;return a=n.cache[e]?n.cache[e].cloneNode():h.test(e)?(n.cache[e]=n.createElem(e)).cloneNode():n.createElem(e),!a.canHaveChildren||f.test(e)||a.tagUrn?a:n.frag.appendChild(a)}function o(e,r){if(e||(e=t),c)return e.createDocumentFragment();r=r||i(e);for(var a=r.frag.cloneNode(),o=0,s=n(),l=s.length;l>o;o++)a.createElement(s[o]);return a}function s(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(r){return v.shivMethods?a(r,e,t):t.createElem(r)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/[\w\-]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(v,t.frag)}function l(e){e||(e=t);var n=i(e);return v.shivCSS&&!u&&!n.hasCSS&&(n.hasCSS=!!r(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),c||s(e,n),e}var u,c,d="3.7.0",p=e.html5||{},f=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,h=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,m="_html5shiv",y=0,g={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",u="hidden"in e,c=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(r){u=!0,c=!0}}();var v={elements:p.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:d,shivCSS:p.shivCSS!==!1,supportsUnknownElements:c,shivMethods:p.shivMethods!==!1,type:"default",shivDocument:l,createElement:a,createDocumentFragment:o};e.html5=v,l(t)}(this,t),f._version=p,f._domPrefixes=x,f._cssomPrefixes=w,f.testProp=function(e){return o([e])},f.testAllProps=l,f.prefixed=function(e,t,r){return t?l(e,t,r):l(e,"pfx")},m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(h?" js "+P.join(" "):""),f}(this,this.document),function(e,t,r){function n(e){return"[object Function]"==y.call(e)}function i(e){return"string"==typeof e}function a(){}function o(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function s(){var e=g.shift();v=1,e?e.t?h(function(){("c"==e.t?p.injectCss:p.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),s()):v=0}function l(e,r,n,i,a,l,u){function c(t){if(!f&&o(d.readyState)&&(b.r=f=1,!v&&s(),d.onload=d.onreadystatechange=null,t)){"img"!=e&&h(function(){x.removeChild(d)},50);for(var n in Y[r])Y[r].hasOwnProperty(n)&&Y[r][n].onload()}}var u=u||p.errorTimeout,d=t.createElement(e),f=0,y=0,b={t:n,s:r,e:a,a:l,x:u};1===Y[r]&&(y=1,Y[r]=[]),"object"==e?d.data=r:(d.src=r,d.type=e),d.width=d.height="0",d.onerror=d.onload=d.onreadystatechange=function(){c.call(this,y)},g.splice(i,0,b),"img"!=e&&(y||2===Y[r]?(x.insertBefore(d,w?null:m),h(c,u)):Y[r].push(d))}function u(e,t,r,n,a){return v=0,t=t||"j",i(e)?l("c"==t?P:T,e,t,this.i++,r,n,a):(g.splice(this.i++,0,e),1==g.length&&s()),this}function c(){var e=p;return e.loader={load:u,i:0},e}var d,p,f=t.documentElement,h=e.setTimeout,m=t.getElementsByTagName("script")[0],y={}.toString,g=[],v=0,b="MozAppearance"in f.style,w=b&&!!t.createRange().compareNode,x=w?f:m.parentNode,f=e.opera&&"[object Opera]"==y.call(e.opera),f=!!t.attachEvent&&!f,T=b?"object":f?"script":"img",P=f?"script":T,S=Array.isArray||function(e){return"[object Array]"==y.call(e)},C=[],Y={},j={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};p=function(e){function t(e){var t,r,n,e=e.split("!"),i=C.length,a=e.pop(),o=e.length,a={url:a,origUrl:a,prefixes:e};for(r=0;o>r;r++)n=e[r].split("="),(t=j[n.shift()])&&(a=t(a,n));for(r=0;i>r;r++)a=C[r](a);return a}function o(e,i,a,o,s){var l=t(e),u=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(i&&(i=n(i)?i:i[e]||i[o]||i[e.split("index.html").pop().split("?")[0]]),l.instead?l.instead(e,i,a,o,s):(Y[l.url]?l.noexec=!0:Y[l.url]=1,a.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":r,l.noexec,l.attrs,l.timeout),(n(i)||n(u))&&a.load(function(){c(),i&&i(l.origUrl,s,o),u&&u(l.origUrl,s,o),Y[l.url]=2})))}function s(e,t){function r(e,r){if(e){if(i(e))r||(d=function(){var e=[].slice.call(arguments);p.apply(this,e),f()}),o(e,d,t,0,u);else if(Object(e)===e)for(l in s=function(){var t,r=0;for(t in e)e.hasOwnProperty(t)&&r++;return r}(),e)e.hasOwnProperty(l)&&(!r&&!--s&&(n(d)?d=function(){var e=[].slice.call(arguments);p.apply(this,e),f()}:d[l]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),f()}}(p[l])),o(e[l],d,t,l,u))}else!r&&f()}var s,l,u=!!e.test,c=e.load||e.both,d=e.callback||a,p=d,f=e.complete||a;r(u?e.yep:e.nope,!!c),c&&r(c)}var l,u,d=this.yepnope.loader;if(i(e))o(e,0,d,0);else if(S(e))for(l=0;l<e.length;l++)u=e[l],i(u)?o(u,0,d,0):S(u)?p(u):Object(u)===u&&s(u,d);else Object(e)===e&&s(e,d)},p.addPrefix=function(e,t){j[e]=t},p.addFilter=function(e){C.push(e)},p.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",d=function(){t.removeEventListener("DOMContentLoaded",d,0),t.readyState="complete"},0)),e.yepnope=c(),e.yepnope.executeStack=s,e.yepnope.injectJs=function(e,r,n,i,l,u){var c,d,f=t.createElement("script"),i=i||p.errorTimeout;f.src=e;for(d in n)f.setAttribute(d,n[d]);r=u?s:r||a,f.onreadystatechange=f.onload=function(){!c&&o(f.readyState)&&(c=1,r(),f.onload=f.onreadystatechange=null)},h(function(){c||(c=1,r(1))},i),l?f.onload():m.parentNode.insertBefore(f,m)},e.yepnope.injectCss=function(e,r,n,i,o,l){var u,i=t.createElement("link"),r=l?s:r||a;i.href=e,i.rel="stylesheet",i.type="text/css";for(u in n)i.setAttribute(u,n[u]);o||(m.parentNode.insertBefore(i,m),h(r,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()}(this,function(){"use strict";var e=function(e,t,r,n){var i={features:null,bind:function(e,t,r,n){var i=(n?"remove":"add")+"EventListener";t=t.split(" ");for(var a=0;a<t.length;a++)t[a]&&e[i](t[a],r,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var r=document.createElement(t||"div");return e&&(r.className=e),r},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,r){i.bind(e,t,r,!0)},removeClass:function(e,t){var r=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(r," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){i.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var r=e.firstChild;r;){if(i.hasClass(r,t))return r;r=r.nextSibling}},arraySearch:function(e,t,r){for(var n=e.length;n--;)if(e[n][r]===t)return n;return-1},extend:function(e,t,r){for(var n in t)if(t.hasOwnProperty(n)){if(r&&e.hasOwnProperty(n))continue;e[n]=t[n]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1;
}}},detectFeatures:function(){if(i.features)return i.features;var e=i.createEl(),t=e.style,r="",n={};if(n.oldIE=document.all&&!document.addEventListener,n.touch="ontouchstart"in window,window.requestAnimationFrame&&(n.raf=window.requestAnimationFrame,n.caf=window.cancelAnimationFrame),n.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!n.pointerEvent){var a=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var o=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);o&&o.length>0&&(o=parseInt(o[1],10),o>=1&&8>o&&(n.isOldIOSPhone=!0))}var s=a.match(/Android\s([0-9\.]*)/),l=s?s[1]:0;l=parseFloat(l),l>=1&&(4.4>l&&(n.isOldAndroid=!0),n.androidVersion=l),n.isMobileOpera=/opera mini|opera mobi/i.test(a)}for(var u,c,d=["transform","perspective","animationName"],p=["","webkit","Moz","ms","O"],f=0;4>f;f++){r=p[f];for(var h=0;3>h;h++)u=d[h],c=r+(r?u.charAt(0).toUpperCase()+u.slice(1):u),!n[u]&&c in t&&(n[u]=c);r&&!n.raf&&(r=r.toLowerCase(),n.raf=window[r+"RequestAnimationFrame"],n.raf&&(n.caf=window[r+"CancelAnimationFrame"]||window[r+"CancelRequestAnimationFrame"]))}if(!n.raf){var m=0;n.raf=function(e){var t=(new Date).getTime(),r=Math.max(0,16-(t-m)),n=window.setTimeout(function(){e(t+r)},r);return m=t+r,n},n.caf=function(e){clearTimeout(e)}}return n.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,i.features=n,n}};i.detectFeatures(),i.features.oldIE&&(i.bind=function(e,t,r,n){t=t.split(" ");for(var i,a=(n?"detach":"attach")+"Event",o=function(){r.handleEvent.call(r)},s=0;s<t.length;s++)if(i=t[s])if("object"==typeof r&&r.handleEvent){if(n){if(!r["oldIE"+i])return!1}else r["oldIE"+i]=o;e[a]("on"+i,r["oldIE"+i])}else e[a]("on"+i,r)});var a=this,o=25,s=3,l={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e?1:t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};i.extend(l,n);var u,c,d,p,f,h,m,y,g,v,b,w,x,T,P,S,C,Y,j,k,Q,_,F,I,A,E,D,O,M,B,R,L,z,V,N,$,H,W,U,q,Z,X,G,K,J,ee,te,re,ne,ie,ae,oe,se,le,ue,ce,de=function(){return{x:0,y:0}},pe=de(),fe=de(),he=de(),me={},ye=0,ge={},ve=de(),be=0,we=!0,xe=[],Te={},Pe=!1,Se=function(e,t){i.extend(a,t.publicMethods),xe.push(e)},Ce=function(e){var t=Jt();return e>t-1?e-t:0>e?t+e:e},Ye={},je=function(e,t){return Ye[e]||(Ye[e]=[]),Ye[e].push(t)},ke=function(e){var t=Ye[e];if(t){var r=Array.prototype.slice.call(arguments);r.shift();for(var n=0;n<t.length;n++)t[n].apply(a,r)}},Qe=function(){return(new Date).getTime()},_e=function(e){le=e,a.bg.style.opacity=e*l.bgOpacity},Fe=function(e,t,r,n,i){(!Pe||i&&i!==a.currItem)&&(n/=i?i.fitRatio:a.currItem.fitRatio),e[_]=w+t+"px, "+r+"px"+x+" scale("+n+")"},Ie=function(e){ne&&(e&&(v>a.currItem.fitRatio?Pe||(dr(a.currItem,!1,!0),Pe=!0):Pe&&(dr(a.currItem),Pe=!1)),Fe(ne,he.x,he.y,v))},Ae=function(e){e.container&&Fe(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Ee=function(e,t){t[_]=w+e+"px, 0px"+x},De=function(e,t){if(!l.loop&&t){var r=p+(ve.x*ye-e)/ve.x,n=Math.round(e-vt.x);(0>r&&n>0||r>=Jt()-1&&0>n)&&(e=vt.x+n*l.mainScrollEndFriction)}vt.x=e,Ee(e,f)},Oe=function(e,t){var r=bt[e]-ge[e];return fe[e]+pe[e]+r-r*(t/b)},Me=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},Be=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},Re=null,Le=function(){Re&&(i.unbind(document,"mousemove",Le),i.addClass(e,"pswp--has_mouse"),l.mouseUsed=!0,ke("mouseUsed")),Re=setTimeout(function(){Re=null},100)},ze=function(){i.bind(document,"keydown",a),R.transform&&i.bind(a.scrollWrap,"click",a),l.mouseUsed||i.bind(document,"mousemove",Le),i.bind(window,"resize scroll",a),ke("bindEvents")},Ve=function(){i.unbind(window,"resize",a),i.unbind(window,"scroll",g.scroll),i.unbind(document,"keydown",a),i.unbind(document,"mousemove",Le),R.transform&&i.unbind(a.scrollWrap,"click",a),W&&i.unbind(window,m,a),ke("unbindEvents")},Ne=function(e,t){var r=sr(a.currItem,me,e);return t&&(re=r),r},$e=function(e){return e||(e=a.currItem),e.initialZoomLevel},He=function(e){return e||(e=a.currItem),e.w>0?l.maxSpreadZoom:1},We=function(e,t,r,n){return n===a.currItem.initialZoomLevel?(r[e]=a.currItem.initialPosition[e],!0):(r[e]=Oe(e,n),r[e]>t.min[e]?(r[e]=t.min[e],!0):r[e]<t.max[e]?(r[e]=t.max[e],!0):!1)},Ue=function(){if(_){var t=R.perspective&&!I;return w="translate"+(t?"3d(":"("),void(x=R.perspective?", 0px)":")")}_="left",i.addClass(e,"pswp--ie"),Ee=function(e,t){t.left=e+"px"},Ae=function(e){var t=e.fitRatio>1?1:e.fitRatio,r=e.container.style,n=t*e.w,i=t*e.h;r.width=n+"px",r.height=i+"px",r.left=e.initialPosition.x+"px",r.top=e.initialPosition.y+"px"},Ie=function(){if(ne){var e=ne,t=a.currItem,r=t.fitRatio>1?1:t.fitRatio,n=r*t.w,i=r*t.h;e.width=n+"px",e.height=i+"px",e.left=he.x+"px",e.top=he.y+"px"}}},qe=function(e){var t="";l.escKey&&27===e.keyCode?t="close":l.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,a[t]()))},Ze=function(e){e&&(Z||q||ie||$)&&(e.preventDefault(),e.stopPropagation())},Xe=function(){a.setScrollOffset(0,i.getScrollY())},Ge={},Ke=0,Je=function(e){Ge[e]&&(Ge[e].raf&&E(Ge[e].raf),Ke--,delete Ge[e])},et=function(e){Ge[e]&&Je(e),Ge[e]||(Ke++,Ge[e]={})},tt=function(){for(var e in Ge)Ge.hasOwnProperty(e)&&Je(e)},rt=function(e,t,r,n,i,a,o){var s,l=Qe();et(e);var u=function(){if(Ge[e]){if(s=Qe()-l,s>=n)return Je(e),a(r),void(o&&o());a((r-t)*i(s/n)+t),Ge[e].raf=A(u)}};u()},nt={shout:ke,listen:je,viewportSize:me,options:l,isMainScrollAnimating:function(){return ie},getZoomLevel:function(){return v},getCurrentIndex:function(){return p},isDragging:function(){return W},isZooming:function(){return J},setScrollOffset:function(e,t){ge.x=e,B=ge.y=t,ke("updateScrollOffset",ge)},applyZoomPan:function(e,t,r,n){he.x=t,he.y=r,v=e,Ie(n)},init:function(){if(!u&&!c){var r;a.framework=i,a.template=e,a.bg=i.getChildByClass(e,"pswp__bg"),D=e.className,u=!0,R=i.detectFeatures(),A=R.raf,E=R.caf,_=R.transform,M=R.oldIE,a.scrollWrap=i.getChildByClass(e,"pswp__scroll-wrap"),a.container=i.getChildByClass(a.scrollWrap,"pswp__container"),f=a.container.style,a.itemHolders=S=[{el:a.container.children[0],wrap:0,index:-1},{el:a.container.children[1],wrap:0,index:-1},{el:a.container.children[2],wrap:0,index:-1}],S[0].el.style.display=S[2].el.style.display="none",Ue(),g={resize:a.updateSize,scroll:Xe,keydown:qe,click:Ze};var n=R.isOldIOSPhone||R.isOldAndroid||R.isMobileOpera;for(R.animationName&&R.transform&&!n||(l.showAnimationDuration=l.hideAnimationDuration=0),r=0;r<xe.length;r++)a["init"+xe[r]]();if(t){var o=a.ui=new t(a,i);o.init()}ke("firstUpdate"),p=p||l.index||0,(isNaN(p)||0>p||p>=Jt())&&(p=0),a.currItem=Kt(p),(R.isOldIOSPhone||R.isOldAndroid)&&(we=!1),e.setAttribute("aria-hidden","false"),l.modal&&(we?e.style.position="fixed":(e.style.position="absolute",e.style.top=i.getScrollY()+"px")),void 0===B&&(ke("initialLayout"),B=O=i.getScrollY());var d="pswp--open ";for(l.mainClass&&(d+=l.mainClass+" "),l.showHideOpacity&&(d+="pswp--animate_opacity "),d+=I?"pswp--touch":"pswp--notouch",d+=R.animationName?" pswp--css_animation":"",d+=R.svg?" pswp--svg":"",i.addClass(e,d),a.updateSize(),h=-1,be=null,r=0;s>r;r++)Ee((r+h)*ve.x,S[r].el.style);M||i.bind(a.scrollWrap,y,a),je("initialZoomInEnd",function(){a.setContent(S[0],p-1),a.setContent(S[2],p+1),S[0].el.style.display=S[2].el.style.display="block",l.focus&&e.focus(),ze()}),a.setContent(S[1],p),a.updateCurrItem(),ke("afterInit"),we||(T=setInterval(function(){Ke||W||J||v!==a.currItem.initialZoomLevel||a.updateSize()},1e3)),i.addClass(e,"pswp--visible")}},close:function(){u&&(u=!1,c=!0,ke("close"),Ve(),tr(a.currItem,null,!0,a.destroy))},destroy:function(){ke("destroy"),qt&&clearTimeout(qt),e.setAttribute("aria-hidden","true"),e.className=D,T&&clearInterval(T),i.unbind(a.scrollWrap,y,a),i.unbind(window,"scroll",a),St(),tt(),Ye=null},panTo:function(e,t,r){r||(e>re.min.x?e=re.min.x:e<re.max.x&&(e=re.max.x),t>re.min.y?t=re.min.y:t<re.max.y&&(t=re.max.y)),he.x=e,he.y=t,Ie()},handleEvent:function(e){e=e||window.event,g[e.type]&&g[e.type](e)},goTo:function(e){e=Ce(e);var t=e-p;be=t,p=e,a.currItem=Kt(p),ye-=t,De(ve.x*ye),tt(),ie=!1,a.updateCurrItem()},next:function(){a.goTo(p+1)},prev:function(){a.goTo(p-1)},updateCurrZoomItem:function(e){if(e&&ke("beforeChange",0),S[1].el.children.length){var t=S[1].el.children[0];ne=i.hasClass(t,"pswp__zoom-wrap")?t.style:null}else ne=null;re=a.currItem.bounds,b=v=a.currItem.initialZoomLevel,he.x=re.center.x,he.y=re.center.y,e&&ke("afterChange")},invalidateCurrItems:function(){P=!0;for(var e=0;s>e;e++)S[e].item&&(S[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==be){var t,r=Math.abs(be);if(!(e&&2>r)){a.currItem=Kt(p),Pe=!1,ke("beforeChange",be),r>=s&&(h+=be+(be>0?-s:s),r=s);for(var n=0;r>n;n++)be>0?(t=S.shift(),S[s-1]=t,h++,Ee((h+2)*ve.x,t.el.style),a.setContent(t,p-r+n+1+1)):(t=S.pop(),S.unshift(t),h--,Ee(h*ve.x,t.el.style),a.setContent(t,p+r-n-1-1));if(ne&&1===Math.abs(be)){var i=Kt(C);i.initialZoomLevel!==v&&(sr(i,me),dr(i),Ae(i))}be=0,a.updateCurrZoomItem(),C=p,ke("afterChange")}}},updateSize:function(t){if(!we&&l.modal){var r=i.getScrollY();if(B!==r&&(e.style.top=r+"px",B=r),!t&&Te.x===window.innerWidth&&Te.y===window.innerHeight)return;Te.x=window.innerWidth,Te.y=window.innerHeight,e.style.height=Te.y+"px"}if(me.x=a.scrollWrap.clientWidth,me.y=a.scrollWrap.clientHeight,Xe(),ve.x=me.x+Math.round(me.x*l.spacing),ve.y=me.y,De(ve.x*ye),ke("beforeResize"),void 0!==h){for(var n,o,u,c=0;s>c;c++)n=S[c],Ee((c+h)*ve.x,n.el.style),u=p+c-1,l.loop&&Jt()>2&&(u=Ce(u)),o=Kt(u),o&&(P||o.needsUpdate||!o.bounds)?(a.cleanSlide(o),a.setContent(n,u),1===c&&(a.currItem=o,a.updateCurrZoomItem(!0)),o.needsUpdate=!1):-1===n.index&&u>=0&&a.setContent(n,u),o&&o.container&&(sr(o,me),dr(o),Ae(o));P=!1}b=v=a.currItem.initialZoomLevel,re=a.currItem.bounds,re&&(he.x=re.center.x,he.y=re.center.y,Ie(!0)),ke("resize")},zoomTo:function(e,t,r,n,a){t&&(b=v,bt.x=Math.abs(t.x)-he.x,bt.y=Math.abs(t.y)-he.y,Me(fe,he));var o=Ne(e,!1),s={};We("x",o,s,e),We("y",o,s,e);var l=v,u={x:he.x,y:he.y};Be(s);var c=function(t){1===t?(v=e,he.x=s.x,he.y=s.y):(v=(e-l)*t+l,he.x=(s.x-u.x)*t+u.x,he.y=(s.y-u.y)*t+u.y),a&&a(t),Ie(1===t)};r?rt("customZoomTo",0,1,r,n||i.easing.sine.inOut,c):c(1)}},it=30,at=10,ot={},st={},lt={},ut={},ct={},dt=[],pt={},ft=[],ht={},mt=0,yt=de(),gt=0,vt=de(),bt=de(),wt=de(),xt=function(e,t){return e.x===t.x&&e.y===t.y},Tt=function(e,t){return Math.abs(e.x-t.x)<o&&Math.abs(e.y-t.y)<o},Pt=function(e,t){return ht.x=Math.abs(e.x-t.x),ht.y=Math.abs(e.y-t.y),Math.sqrt(ht.x*ht.x+ht.y*ht.y)},St=function(){X&&(E(X),X=null)},Ct=function(){W&&(X=A(Ct),zt())},Yt=function(){return!("fit"===l.scaleMode&&v===a.currItem.initialZoomLevel)},jt=function(e,t){return e&&e!==document?e.getAttribute("class")&&e.getAttribute("class").indexOf("pswp__scroll-wrap")>-1?!1:t(e)?e:jt(e.parentNode,t):!1},kt={},Qt=function(e,t){return kt.prevent=!jt(e.target,l.isClickableElement),ke("preventDragEvent",e,t,kt),kt.prevent},_t=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},Ft=function(e,t,r){r.x=.5*(e.x+t.x),r.y=.5*(e.y+t.y)},It=function(e,t,r){if(e-z>50){var n=ft.length>2?ft.shift():{};n.x=t,n.y=r,ft.push(n),z=e}},At=function(){var e=he.y-a.currItem.initialPosition.y;return 1-Math.abs(e/(me.y/2))},Et={},Dt={},Ot=[],Mt=function(e){for(;Ot.length>0;)Ot.pop();return F?(ce=0,dt.forEach(function(e){0===ce?Ot[0]=e:1===ce&&(Ot[1]=e),ce++})):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(Ot[0]=_t(e.touches[0],Et),e.touches.length>1&&(Ot[1]=_t(e.touches[1],Dt))):(Et.x=e.pageX,Et.y=e.pageY,Et.id="",Ot[0]=Et),Ot},Bt=function(e,t){var r,n,i,o,s=0,u=he[e]+t[e],c=t[e]>0,d=vt.x+t.x,p=vt.x-pt.x;return r=u>re.min[e]||u<re.max[e]?l.panEndFriction:1,u=he[e]+t[e]*r,!l.allowPanToNext&&v!==a.currItem.initialZoomLevel||(ne?"h"!==ae||"x"!==e||q||(c?(u>re.min[e]&&(r=l.panEndFriction,s=re.min[e]-u,n=re.min[e]-fe[e]),(0>=n||0>p)&&Jt()>1?(o=d,0>p&&d>pt.x&&(o=pt.x)):re.min.x!==re.max.x&&(i=u)):(u<re.max[e]&&(r=l.panEndFriction,s=u-re.max[e],n=fe[e]-re.max[e]),(0>=n||p>0)&&Jt()>1?(o=d,p>0&&d<pt.x&&(o=pt.x)):re.min.x!==re.max.x&&(i=u))):o=d,"x"!==e)?void(ie||G||v>a.currItem.fitRatio&&(he[e]+=t[e]*r)):(void 0!==o&&(De(o,!0),G=o!==pt.x),re.min.x!==re.max.x&&(void 0!==i?he.x=i:G||(he.x+=t.x*r)),void 0!==o)},Rt=function(e){if(!("mousedown"===e.type&&e.button>0)){if(Gt)return void e.preventDefault();if(!H||"mousedown"!==e.type){if(Qt(e,!0)&&e.preventDefault(),ke("pointerDown"),F){var t=i.arraySearch(dt,e.pointerId,"id");0>t&&(t=dt.length),dt[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var r=Mt(e),n=r.length;K=null,tt(),W&&1!==n||(W=oe=!0,i.bind(window,m,a),N=ue=se=$=G=Z=U=q=!1,ae=null,ke("firstTouchStart",r),Me(fe,he),pe.x=pe.y=0,Me(ut,r[0]),Me(ct,ut),pt.x=ve.x*ye,ft=[{x:ut.x,y:ut.y}],z=L=Qe(),Ne(v,!0),St(),Ct()),!J&&n>1&&!ie&&!G&&(b=v,q=!1,J=U=!0,pe.y=pe.x=0,Me(fe,he),Me(ot,r[0]),Me(st,r[1]),Ft(ot,st,wt),bt.x=Math.abs(wt.x)-he.x,bt.y=Math.abs(wt.y)-he.y,ee=te=Pt(ot,st))}}},Lt=function(e){if(e.preventDefault(),F){var t=i.arraySearch(dt,e.pointerId,"id");if(t>-1){var r=dt[t];r.x=e.pageX,r.y=e.pageY}}if(W){var n=Mt(e);if(ae||Z||J)K=n;else if(vt.x!==ve.x*ye)ae="h";else{var a=Math.abs(n[0].x-ut.x)-Math.abs(n[0].y-ut.y);Math.abs(a)>=at&&(ae=a>0?"h":"v",K=n)}}},zt=function(){if(K){var e=K.length;if(0!==e)if(Me(ot,K[0]),lt.x=ot.x-ut.x,lt.y=ot.y-ut.y,J&&e>1){if(ut.x=ot.x,ut.y=ot.y,!lt.x&&!lt.y&&xt(K[1],st))return;Me(st,K[1]),q||(q=!0,ke("zoomGestureStarted"));var t=Pt(ot,st),r=Wt(t);r>a.currItem.initialZoomLevel+a.currItem.initialZoomLevel/15&&(ue=!0);var n=1,i=$e(),o=He();if(i>r)if(l.pinchToClose&&!ue&&b<=a.currItem.initialZoomLevel){var s=i-r,u=1-s/(i/1.2);_e(u),ke("onPinchClose",u),se=!0}else n=(i-r)/i,n>1&&(n=1),r=i-n*(i/3);else r>o&&(n=(r-o)/(6*i),n>1&&(n=1),r=o+n*i);0>n&&(n=0),ee=t,Ft(ot,st,yt),pe.x+=yt.x-wt.x,pe.y+=yt.y-wt.y,Me(wt,yt),he.x=Oe("x",r),he.y=Oe("y",r),N=r>v,v=r,Ie()}else{if(!ae)return;if(oe&&(oe=!1,Math.abs(lt.x)>=at&&(lt.x-=K[0].x-ct.x),Math.abs(lt.y)>=at&&(lt.y-=K[0].y-ct.y)),ut.x=ot.x,ut.y=ot.y,0===lt.x&&0===lt.y)return;if("v"===ae&&l.closeOnVerticalDrag&&!Yt()){pe.y+=lt.y,he.y+=lt.y;var c=At();return $=!0,ke("onVerticalDrag",c),_e(c),void Ie()}It(Qe(),ot.x,ot.y),Z=!0,re=a.currItem.bounds;var d=Bt("x",lt);d||(Bt("y",lt),Be(he),Ie())}}},Vt=function(e){if(R.isOldAndroid){if(H&&"mouseup"===e.type)return;e.type.indexOf("touch")>-1&&(clearTimeout(H),H=setTimeout(function(){H=0},600))}ke("pointerUp"),Qt(e,!1)&&e.preventDefault();var t;if(F){var r=i.arraySearch(dt,e.pointerId,"id");if(r>-1)if(t=dt.splice(r,1)[0],navigator.pointerEnabled)t.type=e.pointerType||"mouse";else{var n={4:"mouse",2:"touch",3:"pen"};t.type=n[e.pointerType],t.type||(t.type=e.pointerType||"mouse")}}var o,s=Mt(e),u=s.length;if("mouseup"===e.type&&(u=0),2===u)return K=null,!0;1===u&&Me(ct,s[0]),0!==u||ae||ie||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),ke("touchRelease",e,t));var c=-1;if(0===u&&(W=!1,i.unbind(window,m,a),St(),J?c=0:-1!==gt&&(c=Qe()-gt)),gt=1===u?Qe():-1,o=-1!==c&&150>c?"zoom":"swipe",J&&2>u&&(J=!1,1===u&&(o="zoomPointerUp"),ke("zoomGestureEnded")),K=null,Z||q||ie||$)if(tt(),V||(V=Nt()),V.calculateSwipeSpeed("x"),$){var d=At();if(d<l.verticalDragRange)a.close();else{var p=he.y,f=le;rt("verticalDrag",0,1,300,i.easing.cubic.out,function(e){he.y=(a.currItem.initialPosition.y-p)*e+p,_e((1-f)*e+f),Ie()}),ke("onVerticalDrag",1)}}else{if((G||ie)&&0===u){var h=Ht(o,V);if(h)return;o="zoomPointerUp"}if(!ie)return"swipe"!==o?void Ut():void(!G&&v>a.currItem.fitRatio&&$t(V))}},Nt=function(){var e,t,r={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(n){ft.length>1?(e=Qe()-z+50,t=ft[ft.length-2][n]):(e=Qe()-L,t=ct[n]),r.lastFlickOffset[n]=ut[n]-t,r.lastFlickDist[n]=Math.abs(r.lastFlickOffset[n]),r.lastFlickDist[n]>20?r.lastFlickSpeed[n]=r.lastFlickOffset[n]/e:r.lastFlickSpeed[n]=0,Math.abs(r.lastFlickSpeed[n])<.1&&(r.lastFlickSpeed[n]=0),r.slowDownRatio[n]=.95,r.slowDownRatioReverse[n]=1-r.slowDownRatio[n],r.speedDecelerationRatio[n]=1},calculateOverBoundsAnimOffset:function(e,t){r.backAnimStarted[e]||(he[e]>re.min[e]?r.backAnimDestination[e]=re.min[e]:he[e]<re.max[e]&&(r.backAnimDestination[e]=re.max[e]),void 0!==r.backAnimDestination[e]&&(r.slowDownRatio[e]=.7,r.slowDownRatioReverse[e]=1-r.slowDownRatio[e],r.speedDecelerationRatioAbs[e]<.05&&(r.lastFlickSpeed[e]=0,r.backAnimStarted[e]=!0,rt("bounceZoomPan"+e,he[e],r.backAnimDestination[e],t||300,i.easing.sine.out,function(t){he[e]=t,Ie()}))))},calculateAnimOffset:function(e){r.backAnimStarted[e]||(r.speedDecelerationRatio[e]=r.speedDecelerationRatio[e]*(r.slowDownRatio[e]+r.slowDownRatioReverse[e]-r.slowDownRatioReverse[e]*r.timeDiff/10),r.speedDecelerationRatioAbs[e]=Math.abs(r.lastFlickSpeed[e]*r.speedDecelerationRatio[e]),r.distanceOffset[e]=r.lastFlickSpeed[e]*r.speedDecelerationRatio[e]*r.timeDiff,he[e]+=r.distanceOffset[e])},panAnimLoop:function(){return Ge.zoomPan&&(Ge.zoomPan.raf=A(r.panAnimLoop),r.now=Qe(),r.timeDiff=r.now-r.lastNow,r.lastNow=r.now,r.calculateAnimOffset("x"),r.calculateAnimOffset("y"),Ie(),r.calculateOverBoundsAnimOffset("x"),r.calculateOverBoundsAnimOffset("y"),r.speedDecelerationRatioAbs.x<.05&&r.speedDecelerationRatioAbs.y<.05)?(he.x=Math.round(he.x),he.y=Math.round(he.y),Ie(),void Je("zoomPan")):void 0}};return r},$t=function(e){return e.calculateSwipeSpeed("y"),re=a.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05?(e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0):(et("zoomPan"),e.lastNow=Qe(),void e.panAnimLoop())},Ht=function(e,t){var r;ie||(mt=p);var n;if("swipe"===e){var o=ut.x-ct.x,s=t.lastFlickDist.x<10;o>it&&(s||t.lastFlickOffset.x>20)?n=-1:-it>o&&(s||t.lastFlickOffset.x<-20)&&(n=1)}var u;n&&(p+=n,0>p?(p=l.loop?Jt()-1:0,u=!0):p>=Jt()&&(p=l.loop?0:Jt()-1,u=!0),(!u||l.loop)&&(be+=n,ye-=n,r=!0));var c,d=ve.x*ye,f=Math.abs(d-vt.x);return r||d>vt.x==t.lastFlickSpeed.x>0?(c=Math.abs(t.lastFlickSpeed.x)>0?f/Math.abs(t.lastFlickSpeed.x):333,c=Math.min(c,400),c=Math.max(c,250)):c=333,mt===p&&(r=!1),ie=!0,ke("mainScrollAnimStart"),rt("mainScroll",vt.x,d,c,i.easing.cubic.out,De,function(){tt(),ie=!1,mt=-1,(r||mt!==p)&&a.updateCurrItem(),ke("mainScrollAnimComplete")}),r&&a.updateCurrItem(!0),r},Wt=function(e){return 1/te*e*b},Ut=function(){var e=v,t=$e(),r=He();t>v?e=t:v>r&&(e=r);var n,o=1,s=le;return se&&!N&&!ue&&t>v?(a.close(),!0):(se&&(n=function(e){_e((o-s)*e+s)}),a.zoomTo(e,0,200,i.easing.cubic.out,n),!0)};Se("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,r,n,i){Y=e+t,j=e+r,k=e+n,Q=i?e+i:""};F=R.pointerEvent,F&&R.touch&&(R.touch=!1),F?navigator.pointerEnabled?e("pointer","down","move","up","cancel"):e("MSPointer","Down","Move","Up","Cancel"):R.touch?(e("touch","start","move","end","cancel"),I=!0):e("mouse","down","move","up"),m=j+" "+k+" "+Q,y=Y,F&&!I&&(I=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),a.likelyTouchDevice=I,g[Y]=Rt,g[j]=Lt,g[k]=Vt,Q&&(g[Q]=g[k]),R.touch&&(y+=" mousedown",m+=" mousemove mouseup",g.mousedown=g[Y],g.mousemove=g[j],g.mouseup=g[k]),I||(l.allowPanToNext=!1)}}});var qt,Zt,Xt,Gt,Kt,Jt,er,tr=function(t,r,n,o){qt&&clearTimeout(qt),Gt=!0,Xt=!0;var s;t.initialLayout?(s=t.initialLayout,t.initialLayout=null):s=l.getThumbBoundsFn&&l.getThumbBoundsFn(p);var u=n?l.hideAnimationDuration:l.showAnimationDuration,c=function(){Je("initialZoom"),n?(a.template.removeAttribute("style"),a.bg.removeAttribute("style")):(_e(1),r&&(r.style.display="block"),i.addClass(e,"pswp--animated-in"),ke("initialZoom"+(n?"OutEnd":"InEnd"))),o&&o(),Gt=!1};if(!u||!s||void 0===s.x)return ke("initialZoom"+(n?"Out":"In")),v=t.initialZoomLevel,Me(he,t.initialPosition),Ie(),e.style.opacity=n?0:1,_e(1),void(u?setTimeout(function(){c()},u):c());var f=function(){var r=d,o=!a.currItem.src||a.currItem.loadError||l.showHideOpacity;t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),n||(v=s.w/t.w,he.x=s.x,he.y=s.y-O,a[o?"template":"bg"].style.opacity=.001,Ie()),et("initialZoom"),n&&!r&&i.removeClass(e,"pswp--animated-in"),o&&(n?i[(r?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout(function(){i.addClass(e,"pswp--animate_opacity")},30)),qt=setTimeout(function(){if(ke("initialZoom"+(n?"Out":"In")),n){var a=s.w/t.w,l={x:he.x,y:he.y},d=v,p=le,f=function(t){1===t?(v=a,he.x=s.x,he.y=s.y-B):(v=(a-d)*t+d,he.x=(s.x-l.x)*t+l.x,he.y=(s.y-B-l.y)*t+l.y),Ie(),o?e.style.opacity=1-t:_e(p-t*p)};r?rt("initialZoom",0,1,u,i.easing.cubic.out,f,c):(f(1),qt=setTimeout(c,u+20))}else v=t.initialZoomLevel,Me(he,t.initialPosition),Ie(),_e(1),o?e.style.opacity=1:_e(1),qt=setTimeout(c,u+20)},n?25:90)};f()},rr={},nr=[],ir={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Zt.length}},ar=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},or=function(e,t,r){var n=e.bounds;n.center.x=Math.round((rr.x-t)/2),n.center.y=Math.round((rr.y-r)/2)+e.vGap.top,n.max.x=t>rr.x?Math.round(rr.x-t):n.center.x,n.max.y=r>rr.y?Math.round(rr.y-r)+e.vGap.top:n.center.y,n.min.x=t>rr.x?0:n.center.x,n.min.y=r>rr.y?e.vGap.top:n.center.y},sr=function(e,t,r){if(e.src&&!e.loadError){var n=!r;if(n&&(e.vGap||(e.vGap={top:0,bottom:0}),ke("parseVerticalMargin",e)),rr.x=t.x,rr.y=t.y-e.vGap.top-e.vGap.bottom,n){var i=rr.x/e.w,a=rr.y/e.h;e.fitRatio=a>i?i:a;var o=l.scaleMode;"orig"===o?r=1:"fit"===o&&(r=e.fitRatio),r>1&&(r=1),e.initialZoomLevel=r,e.bounds||(e.bounds=ar())}if(!r)return;return or(e,e.w*r,e.h*r),n&&r===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=ar(),e.initialPosition=e.bounds.center,e.bounds},lr=function(e,t,r,n,i,o){t.loadError||n&&(t.imageAppended=!0,dr(t,n,t===a.currItem&&Pe),r.appendChild(n),o&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},ur=function(e){e.loading=!0,e.loaded=!1;var t=e.img=i.createEl("pswp__img","img"),r=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=r,t.onerror=function(){e.loadError=!0,r()},t.src=e.src,t},cr=function(e,t){return e.src&&e.loadError&&e.container?(t&&(e.container.innerHTML=""),e.container.innerHTML=l.errorMsg.replace("%url%",e.src),!0):void 0},dr=function(e,t,r){if(e.src){t||(t=e.container.lastChild);var n=r?e.w:Math.round(e.w*e.fitRatio),i=r?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=n+"px",e.placeholder.style.height=i+"px"),t.style.width=n+"px",t.style.height=i+"px"}},pr=function(){if(nr.length){for(var e,t=0;t<nr.length;t++)e=nr[t],e.holder.index===e.index&&lr(e.index,e.item,e.baseDiv,e.img,!1,e.clearPlaceholder);nr=[]}};Se("Controller",{publicMethods:{lazyLoadItem:function(e){e=Ce(e);var t=Kt(e);t&&(!t.loaded&&!t.loading||P)&&(ke("gettingData",e,t),t.src&&ur(t))},initController:function(){i.extend(l,ir,!0),a.items=Zt=r,Kt=a.getItemAt,Jt=l.getNumItemsFn,er=l.loop,Jt()<3&&(l.loop=!1),je("beforeChange",function(e){var t,r=l.preload,n=null===e?!0:e>=0,i=Math.min(r[0],Jt()),o=Math.min(r[1],Jt());for(t=1;(n?o:i)>=t;t++)a.lazyLoadItem(p+t);for(t=1;(n?i:o)>=t;t++)a.lazyLoadItem(p-t)}),je("initialLayout",function(){a.currItem.initialLayout=l.getThumbBoundsFn&&l.getThumbBoundsFn(p)}),je("mainScrollAnimComplete",pr),je("initialZoomInEnd",pr),je("destroy",function(){for(var e,t=0;t<Zt.length;t++)e=Zt[t],e.container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);nr=null})},getItemAt:function(e){return e>=0&&void 0!==Zt[e]?Zt[e]:!1},allowProgressiveImg:function(){return l.forceProgressiveLoading||!I||l.mouseUsed||screen.width>1200},setContent:function(e,t){l.loop&&(t=Ce(t));var r=a.getItemAt(e.index);r&&(r.container=null);var n,o=a.getItemAt(t);if(!o)return void(e.el.innerHTML="");ke("gettingData",t,o),e.index=t,e.item=o;var s=o.container=i.createEl("pswp__zoom-wrap");if(!o.src&&o.html&&(o.html.tagName?s.appendChild(o.html):s.innerHTML=o.html),cr(o),sr(o,me),!o.src||o.loadError||o.loaded)o.src&&!o.loadError&&(n=i.createEl("pswp__img","img"),n.style.opacity=1,n.src=o.src,dr(o,n),lr(t,o,s,n,!0));else{if(o.loadComplete=function(r){if(u){if(e&&e.index===t){if(cr(r,!0))return r.loadComplete=r.img=null,sr(r,me),Ae(r),void(e.index===p&&a.updateCurrZoomItem());r.imageAppended?!Gt&&r.placeholder&&(r.placeholder.style.display="none",r.placeholder=null):R.transform&&(ie||Gt)?nr.push({item:r,baseDiv:s,img:r.img,index:t,holder:e,clearPlaceholder:!0}):lr(t,r,s,r.img,ie||Gt,!0)}r.loadComplete=null,r.img=null,ke("imageLoadComplete",t,r)}},i.features.transform){var c="pswp__img pswp__img--placeholder";c+=o.msrc?"":" pswp__img--placeholder--blank";var d=i.createEl(c,o.msrc?"img":"");o.msrc&&(d.src=o.msrc),dr(o,d),s.appendChild(d),o.placeholder=d}o.loading||ur(o),a.allowProgressiveImg()&&(!Xt&&R.transform?nr.push({item:o,baseDiv:s,img:o.img,index:t,holder:e}):lr(t,o,s,o.img,!0,!0))}Xt||t!==p?Ae(o):(ne=s.style,tr(o,n||o.img)),e.el.innerHTML="",e.el.appendChild(s)},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var fr,hr={},mr=function(e,t,r){var n=document.createEvent("CustomEvent"),i={origEvent:e,target:e.target,releasePoint:t,pointerType:r||"touch"};n.initCustomEvent("pswpTap",!0,!0,i),e.target.dispatchEvent(n)};Se("Tap",{publicMethods:{initTap:function(){je("firstTouchStart",a.onTapStart),je("touchRelease",a.onTapRelease),je("destroy",function(){hr={},fr=null})},onTapStart:function(e){e.length>1&&(clearTimeout(fr),fr=null)},onTapRelease:function(e,t){if(t&&!Z&&!U&&!Ke){var r=t;if(fr&&(clearTimeout(fr),fr=null,Tt(r,hr)))return void ke("doubleTap",r);if("mouse"===t.type)return void mr(e,t,"mouse");var n=e.target.tagName.toUpperCase();if("BUTTON"===n||i.hasClass(e.target,"pswp__single-tap"))return void mr(e,t);Me(hr,r),fr=setTimeout(function(){mr(e,t),fr=null},300)}}}});var yr;Se("DesktopZoom",{publicMethods:{initDesktopZoom:function(){M||(I?je("mouseUsed",function(){a.setupDesktopZoom()}):a.setupDesktopZoom(!0))},setupDesktopZoom:function(t){yr={};var r="wheel mousewheel DOMMouseScroll";je("bindEvents",function(){i.bind(e,r,a.handleMouseWheel)}),je("unbindEvents",function(){yr&&i.unbind(e,r,a.handleMouseWheel)}),a.mouseZoomedIn=!1;var n,o=function(){a.mouseZoomedIn&&(i.removeClass(e,"pswp--zoomed-in"),a.mouseZoomedIn=!1),1>v?i.addClass(e,"pswp--zoom-allowed"):i.removeClass(e,"pswp--zoom-allowed"),s()},s=function(){n&&(i.removeClass(e,"pswp--dragging"),n=!1)};je("resize",o),je("afterChange",o),je("pointerDown",function(){a.mouseZoomedIn&&(n=!0,i.addClass(e,"pswp--dragging"))}),je("pointerUp",s),t||o()},handleMouseWheel:function(e){if(v<=a.currItem.fitRatio)return l.modal&&(!l.closeOnScroll||Ke||W?e.preventDefault():_&&Math.abs(e.deltaY)>2&&(d=!0,a.close())),!0;if(e.stopPropagation(),yr.x=0,"deltaX"in e)1===e.deltaMode?(yr.x=18*e.deltaX,yr.y=18*e.deltaY):(yr.x=e.deltaX,yr.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(yr.x=-.16*e.wheelDeltaX),e.wheelDeltaY?yr.y=-.16*e.wheelDeltaY:yr.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;yr.y=e.detail}Ne(v,!0);var t=he.x-yr.x,r=he.y-yr.y;(l.modal||t<=re.min.x&&t>=re.max.x&&r<=re.min.y&&r>=re.max.y)&&e.preventDefault(),a.panTo(t,r)},toggleDesktopZoom:function(t){t=t||{x:me.x/2+ge.x,y:me.y/2+ge.y};var r=l.getDoubleTapZoom(!0,a.currItem),n=v===r;a.mouseZoomedIn=!n,a.zoomTo(n?a.currItem.initialZoomLevel:r,t,333),i[(n?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var gr,vr,br,wr,xr,Tr,Pr,Sr,Cr,Yr,jr,kr,Qr={history:!0,galleryUID:1},_r=function(){return jr.hash.substring(1)},Fr=function(){gr&&clearTimeout(gr),br&&clearTimeout(br)},Ir=function(){var e=_r(),t={};if(e.length<5)return t;var r,n=e.split("&");for(r=0;r<n.length;r++)if(n[r]){var i=n[r].split("=");i.length<2||(t[i[0]]=i[1])}if(l.galleryPIDs){var a=t.pid;for(t.pid=0,r=0;r<Zt.length;r++)if(Zt[r].pid===a){t.pid=r;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t},Ar=function(){if(br&&clearTimeout(br),Ke||W)return void(br=setTimeout(Ar,500));wr?clearTimeout(vr):wr=!0;var e=p+1,t=Kt(p);t.hasOwnProperty("pid")&&(e=t.pid);var r=Pr+"&gid="+l.galleryUID+"&pid="+e;Sr||-1===jr.hash.indexOf(r)&&(Yr=!0);var n=jr.href.split("#")[0]+"#"+r;kr?"#"+r!==window.location.hash&&history[Sr?"replaceState":"pushState"]("",document.title,n):Sr?jr.replace(n):jr.hash=r,Sr=!0,vr=setTimeout(function(){wr=!1},60)};Se("History",{publicMethods:{initHistory:function(){if(i.extend(l,Qr,!0),l.history){jr=window.location,Yr=!1,Cr=!1,Sr=!1,Pr=_r(),kr="pushState"in history,Pr.indexOf("gid=")>-1&&(Pr=Pr.split("&gid=")[0],Pr=Pr.split("?gid=")[0]),je("afterChange",a.updateURL),je("unbindEvents",function(){i.unbind(window,"hashchange",a.onHashChange)});var e=function(){Tr=!0,Cr||(Yr?history.back():Pr?jr.hash=Pr:kr?history.pushState("",document.title,jr.pathname+jr.search):jr.hash=""),Fr()};je("unbindEvents",function(){d&&e()}),je("destroy",function(){Tr||e()}),je("firstUpdate",function(){p=Ir().pid});var t=Pr.indexOf("pid=");t>-1&&(Pr=Pr.substring(0,t),"&"===Pr.slice(-1)&&(Pr=Pr.slice(0,-1))),setTimeout(function(){u&&i.bind(window,"hashchange",a.onHashChange)},40)}},onHashChange:function(){return _r()===Pr?(Cr=!0,void a.close()):void(wr||(xr=!0,a.goTo(Ir().pid),xr=!1))},updateURL:function(){Fr(),xr||(Sr?gr=setTimeout(Ar,800):Ar())}}}),i.extend(a,nt)};return e}),function(e){"use strict";e.ajaxChimp={responses:{"We have sent you a confirmation email":0,"Please enter a value":1,"An email address must contain a single @":2,"The domain portion of the email address is invalid (the portion after the @: )":3,"The username portion of the email address is invalid (the portion before the @: )":4,"This email address looks fake or invalid. Please enter a real email address":5},translations:{en:null},init:function(t,r){e(t).ajaxChimp(r)}},e.fn.ajaxChimp=function(t){return e(this).each(function(r,n){var i=e(n),a=i.find("input[type=text]"),o=i.find("label[for="+a.attr("id")+"]"),s=e.extend({url:i.attr("action"),language:"en"},t),l=s.url.replace("/post?","/post-json?").concat("&c=?");i.attr("novalidate","true"),a.attr("name","EMAIL"),i.submit(function(){function t(t){if("success"===t.result)r="We have sent you a confirmation email",o.removeClass("error").addClass("valid"),a.removeClass("error").addClass("valid");else{a.removeClass("valid").addClass("error"),o.removeClass("valid").addClass("error");var n=-1;try{var i=t.msg.split(" - ",2);if(void 0===i[1])r=t.msg;else{var l=parseInt(i[0],10);l.toString()===i[0]?(n=i[0],r=i[1]):(n=-1,r=t.msg)}}catch(u){n=-1,r=t.msg}}"en"!==s.language&&void 0!==e.ajaxChimp.responses[r]&&e.ajaxChimp.translations&&e.ajaxChimp.translations[s.language]&&e.ajaxChimp.translations[s.language][e.ajaxChimp.responses[r]]&&(r=e.ajaxChimp.translations[s.language][e.ajaxChimp.responses[r]]),o.html(r),o.show(2e3),s.callback&&s.callback(t)}var r,n={},u=i.serializeArray();e.each(u,function(e,t){n[t.name]=t.value}),e.ajax({url:l,data:n,success:t,dataType:"jsonp",error:function(e,t){console.log("mailchimp ajax submit error: "+t)}});var c="Submitting...";return"en"!==s.language&&e.ajaxChimp.translations&&e.ajaxChimp.translations[s.language]&&e.ajaxChimp.translations[s.language].submit&&(c=e.ajaxChimp.translations[s.language].submit),
o.html(c).show(2e3),!1})}),this}}(jQuery),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||t[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),+function(e){"use strict";function t(t,n){return this.each(function(){var i=e(this),a=i.data("bs.modal"),o=e.extend({},r.DEFAULTS,i.data(),"object"==typeof t&&t);a||i.data("bs.modal",a=new r(this,o)),"string"==typeof t?a[t](n):o.show&&a.show(n)})}var r=function(t,r){this.options=r,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};r.VERSION="3.3.7",r.TRANSITION_DURATION=300,r.BACKDROP_TRANSITION_DURATION=150,r.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},r.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},r.prototype.show=function(t){var n=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),i&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var a=e.Event("shown.bs.modal",{relatedTarget:t});i?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(a)}).emulateTransitionEnd(r.TRANSITION_DURATION):n.$element.trigger("focus").trigger(a)}))},r.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(r.TRANSITION_DURATION):this.hideModal())},r.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},r.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},r.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},r.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},r.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},r.prototype.backdrop=function(t){var n=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var a=e.support.transition&&i;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),a&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;a?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(r.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(r.BACKDROP_TRANSITION_DURATION):o()}else t&&t()},r.prototype.handleUpdate=function(){this.adjustDialog()},r.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},r.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},r.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},r.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},r.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},r.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var n=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=r,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(r){var n=e(this),i=n.attr("href"),a=e(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=a.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},a.data(),n.data());n.is("a")&&r.preventDefault(),a.one("show.bs.modal",function(e){e.isDefaultPrevented()||a.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),t.call(a,o,this)})}(jQuery);var ytp=ytp||{},getYTPVideoID=function(e){var t,r;return e.indexOf("youtu.be")>0?(t=e.substr(e.lastIndexOf("index.html")+1,e.length),r=t.indexOf("?list=")>0?t.substr(t.lastIndexOf("="),t.length):null,t=r?t.substr(0,t.lastIndexOf("?")):t):e.indexOf("http")>-1?(t=e.match(/[\\?&]v=([^&#]*)/)[1],r=e.indexOf("list=")>0?e.match(/[\\?&]list=([^&#]*)/)[1]:null):(t=e.length>15?null:e,r=t?null:e),{videoID:t,playlistID:r}};!function(jQuery,ytp){jQuery.mbYTPlayer={name:"jquery.mb.YTPlayer",version:"3.0.0",build:"5679",author:"Matteo Bicocchi",apiKey:"",defaults:{containment:"body",ratio:"auto",videoURL:null,playlistURL:null,startAt:0,stopAt:0,autoPlay:!0,vol:50,addRaster:!1,opacity:1,quality:"default",mute:!1,loop:!0,showControls:!0,showAnnotations:!1,showYTLogo:!0,stopMovieOnBlur:!0,realfullscreen:!0,gaTrack:!0,optimizeDisplay:!0,onReady:function(e){}},controls:{play:"P",pause:"p",mute:"M",unmute:"A",onlyYT:"O",showSite:"R",ytLogo:"Y"},locationProtocol:"https:",buildPlayer:function(options){return this.each(function(){var YTPlayer=this,$YTPlayer=jQuery(YTPlayer);YTPlayer.loop=0,YTPlayer.opt={},YTPlayer.state={},YTPlayer.filtersEnabled=!0,YTPlayer.id=YTPlayer.id||"YTP_"+(new Date).getTime(),YTPlayer.filters={grayscale:{value:0,unit:"%"},hue_rotate:{value:0,unit:"deg"},invert:{value:0,unit:"%"},opacity:{value:0,unit:"%"},saturate:{value:0,unit:"%"},sepia:{value:0,unit:"%"},brightness:{value:0,unit:"%"},contrast:{value:0,unit:"%"},blur:{value:0,unit:"px"}},$YTPlayer.addClass("mb_YTPlayer");var property=$YTPlayer.data("property")&&"string"==typeof $YTPlayer.data("property")?eval("("+$YTPlayer.data("property")+")"):$YTPlayer.data("property");"undefined"!=typeof property&&"undefined"!=typeof property.vol&&(property.vol=0===property.vol?property.vol=1:property.vol),jQuery.extend(YTPlayer.opt,jQuery.mbYTPlayer.defaults,options,property),YTPlayer.hasChanged||(YTPlayer.defaultOpt={},jQuery.extend(YTPlayer.defaultOpt,jQuery.mbYTPlayer.defaults,options)),"true"==YTPlayer.opt.loop&&(YTPlayer.opt.loop=9999),YTPlayer.isRetina=window.retina||window.devicePixelRatio>1;var isIframe=function(){var e=!1;try{self.location.href!=top.location.href&&(e=!0)}catch(t){e=!0}return e};YTPlayer.canGoFullScreen=!(jQuery.browser.msie||jQuery.browser.opera||isIframe()),YTPlayer.canGoFullScreen||(YTPlayer.opt.realfullscreen=!1),$YTPlayer.attr("id")||$YTPlayer.attr("id","video_"+(new Date).getTime());var playerID="mbYTP_"+YTPlayer.id;YTPlayer.isAlone=!1,YTPlayer.hasFocus=!0;var videoID=this.opt.videoURL?getYTPVideoID(this.opt.videoURL).videoID:$YTPlayer.attr("href")?getYTPVideoID($YTPlayer.attr("href")).videoID:!1,playlistID=this.opt.videoURL?getYTPVideoID(this.opt.videoURL).playlistID:$YTPlayer.attr("href")?getYTPVideoID($YTPlayer.attr("href")).playlistID:!1;YTPlayer.videoID=videoID,YTPlayer.playlistID=playlistID,YTPlayer.opt.showAnnotations=YTPlayer.opt.showAnnotations?"0":"3";var playerVars={autoplay:0,modestbranding:1,controls:0,showinfo:0,rel:0,enablejsapi:1,version:3,playerapiid:playerID,origin:"*",allowfullscreen:!0,wmode:"transparent",iv_load_policy:YTPlayer.opt.showAnnotations};document.createElement("video").canPlayType&&jQuery.extend(playerVars,{html5:1}),jQuery.browser.msie&&jQuery.browser.version<9&&(this.opt.opacity=1);var playerBox=jQuery("<div/>").attr("id",playerID).addClass("playerBox"),overlay=jQuery("<div/>").css({position:"absolute",top:0,left:0,width:"100%",height:"100%"}).addClass("YTPOverlay");if(YTPlayer.isSelf="self"==YTPlayer.opt.containment,YTPlayer.defaultOpt.containment=YTPlayer.opt.containment=jQuery("self"==YTPlayer.opt.containment?this:YTPlayer.opt.containment),YTPlayer.isBackground="body"==YTPlayer.opt.containment.get(0).tagName.toLowerCase(),!YTPlayer.isBackground||!ytp.backgroundIsInited){var isPlayer=YTPlayer.opt.containment.is(jQuery(this));if(YTPlayer.canPlayOnMobile=isPlayer&&0===jQuery(this).children().length,isPlayer?YTPlayer.isPlayer=!0:$YTPlayer.hide(),jQuery.browser.mobile&&!YTPlayer.canPlayOnMobile)return void $YTPlayer.remove();var wrapper=jQuery("<div/>").addClass("mbYTP_wrapper").attr("id","wrapper_"+playerID);if(wrapper.css({position:"absolute",zIndex:0,minWidth:"100%",minHeight:"100%",left:0,top:0,overflow:"hidden",opacity:0}),playerBox.css({position:"absolute",zIndex:0,width:"100%",height:"100%",top:0,left:0,overflow:"hidden"}),wrapper.append(playerBox),YTPlayer.opt.containment.children().not("script, style").each(function(){"static"==jQuery(this).css("position")&&jQuery(this).css("position","relative")}),YTPlayer.isBackground?(jQuery("body").css({boxSizing:"border-box"}),wrapper.css({position:"fixed",top:0,left:0,zIndex:0}),$YTPlayer.hide()):"static"==YTPlayer.opt.containment.css("position")&&YTPlayer.opt.containment.css({position:"relative"}),YTPlayer.opt.containment.prepend(wrapper),YTPlayer.wrapper=wrapper,playerBox.css({opacity:1}),jQuery.browser.mobile||(playerBox.after(overlay),YTPlayer.overlay=overlay),YTPlayer.isBackground||overlay.on("mouseenter",function(){YTPlayer.controlBar&&YTPlayer.controlBar.addClass("visible")}).on("mouseleave",function(){YTPlayer.controlBar&&YTPlayer.controlBar.removeClass("visible")}),ytp.YTAPIReady)setTimeout(function(){jQuery(document).trigger("YTAPIReady")},100);else{jQuery("#YTAPI").remove();var tag=jQuery("<script></script>").attr({src:jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/iframe_api?v="+jQuery.mbYTPlayer.version,id:"YTAPI"});jQuery("head").prepend(tag)}jQuery(document).on("YTAPIReady",function(){YTPlayer.isBackground&&ytp.backgroundIsInited||YTPlayer.isInit||(YTPlayer.isBackground&&(ytp.backgroundIsInited=!0),YTPlayer.opt.autoPlay="undefined"==typeof YTPlayer.opt.autoPlay?!!YTPlayer.isBackground:YTPlayer.opt.autoPlay,YTPlayer.opt.vol=YTPlayer.opt.vol?YTPlayer.opt.vol:100,jQuery.mbYTPlayer.getDataFromAPI(YTPlayer),jQuery(YTPlayer).on("YTPChanged",function(){if(!YTPlayer.isInit){if(YTPlayer.isInit=!0,jQuery.browser.mobile&&YTPlayer.canPlayOnMobile){if(YTPlayer.opt.containment.outerWidth()>jQuery(window).width()){YTPlayer.opt.containment.css({maxWidth:"100%"});var h=.6*YTPlayer.opt.containment.outerWidth();YTPlayer.opt.containment.css({maxHeight:h})}return void new YT.Player(playerID,{videoId:YTPlayer.videoID.toString(),height:"100%",width:"100%",events:{onReady:function(e){YTPlayer.player=e.target,playerBox.css({opacity:1}),YTPlayer.wrapper.css({opacity:1})}}})}new YT.Player(playerID,{videoId:YTPlayer.videoID.toString(),playerVars:playerVars,events:{onReady:function(e){YTPlayer.player=e.target,YTPlayer.isReady||(YTPlayer.isReady=!YTPlayer.isPlayer||YTPlayer.opt.autoPlay,YTPlayer.playerEl=YTPlayer.player.getIframe(),jQuery(YTPlayer.playerEl).unselectable(),$YTPlayer.optimizeDisplay(),YTPlayer.videoID=videoID,jQuery(window).off("resize.YTP_"+YTPlayer.id).on("resize.YTP_"+YTPlayer.id,function(){$YTPlayer.optimizeDisplay()}),jQuery.mbYTPlayer.checkForState(YTPlayer))},onStateChange:function(event){if("function"==typeof event.target.getPlayerState){var state=event.target.getPlayerState();if(YTPlayer.state!=state){if(YTPlayer.preventTrigger)return void(YTPlayer.preventTrigger=!1);YTPlayer.state=state;var eventType;switch(state){case-1:eventType="YTPUnstarted";break;case 0:eventType="YTPEnd";break;case 1:eventType="YTPPlay",YTPlayer.controlBar&&YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.pause),"undefined"!=typeof _gaq&&eval(YTPlayer.opt.gaTrack)&&_gaq.push(["_trackEvent","YTPlayer","Play",YTPlayer.hasData?YTPlayer.videoData.title:YTPlayer.videoID.toString()]),"undefined"!=typeof ga&&eval(YTPlayer.opt.gaTrack)&&ga("send","event","YTPlayer","play",YTPlayer.hasData?YTPlayer.videoData.title:YTPlayer.videoID.toString());break;case 2:eventType="YTPPause",YTPlayer.controlBar&&YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play);break;case 3:YTPlayer.player.setPlaybackQuality(YTPlayer.opt.quality),eventType="YTPBuffering",YTPlayer.controlBar&&YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play);break;case 5:eventType="YTPCued"}var YTPEvent=jQuery.Event(eventType);YTPEvent.time=YTPlayer.player.time,YTPlayer.canTrigger&&jQuery(YTPlayer).trigger(YTPEvent)}}},onPlaybackQualityChange:function(e){var t=e.target.getPlaybackQuality(),r=jQuery.Event("YTPQualityChange");r.quality=t,jQuery(YTPlayer).trigger(r)},onError:function(e){150==e.data&&(console.log("Embedding this video is restricted by Youtube."),YTPlayer.isPlayList&&jQuery(YTPlayer).playNext()),2==e.data&&YTPlayer.isPlayList&&jQuery(YTPlayer).playNext(),"function"==typeof YTPlayer.opt.onError&&YTPlayer.opt.onError($YTPlayer,e)}}})}}))})}})},getDataFromAPI:function(e){if(e.videoData=jQuery.mbStorage.get("YTPlayer_data_"+e.videoID),jQuery(e).off("YTPData.YTPlayer").on("YTPData.YTPlayer",function(){if(e.hasData&&e.isPlayer&&!e.opt.autoPlay){var t=e.videoData.thumb_max||e.videoData.thumb_high||e.videoData.thumb_medium;e.opt.containment.css({background:"rgba(0,0,0,0.5) url("+t+") center center",backgroundSize:"cover"}),e.opt.backgroundUrl=t}}),e.videoData)setTimeout(function(){e.opt.ratio="auto"==e.opt.ratio?"16/9":e.opt.ratio,e.dataReceived=!0,jQuery(e).trigger("YTPChanged");var t=jQuery.Event("YTPData");t.prop={};for(var r in e.videoData)t.prop[r]=e.videoData[r];jQuery(e).trigger(t)},500),e.hasData=!0;else if(jQuery.mbYTPlayer.apiKey)jQuery.getJSON(jQuery.mbYTPlayer.locationProtocol+"//www.googleapis.com/youtube/v3/videos?id="+e.videoID+"&key="+jQuery.mbYTPlayer.apiKey+"&part=snippet",function(t){function r(t){e.videoData={},e.videoData.id=e.videoID,e.videoData.channelTitle=t.channelTitle,e.videoData.title=t.title,e.videoData.description=t.description.length<400?t.description:t.description.substring(0,400)+" ...",e.videoData.aspectratio="auto"==e.opt.ratio?"16/9":e.opt.ratio,e.opt.ratio=e.videoData.aspectratio,e.videoData.thumb_max=t.thumbnails.maxres?t.thumbnails.maxres.url:null,e.videoData.thumb_high=t.thumbnails.high?t.thumbnails.high.url:null,e.videoData.thumb_medium=t.thumbnails.medium?t.thumbnails.medium.url:null,jQuery.mbStorage.set("YTPlayer_data_"+e.videoID,e.videoData)}e.dataReceived=!0,jQuery(e).trigger("YTPChanged"),r(t.items[0].snippet),e.hasData=!0;var n=jQuery.Event("YTPData");n.prop={};for(var i in e.videoData)n.prop[i]=e.videoData[i];jQuery(e).trigger(n)});else{if(setTimeout(function(){jQuery(e).trigger("YTPChanged")},50),e.isPlayer&&!e.opt.autoPlay){var t=jQuery.mbYTPlayer.locationProtocol+"//i.ytimg.com/vi/"+e.videoID+"/hqdefault.jpg";e.opt.containment.css({background:"rgba(0,0,0,0.5) url("+t+") center center",backgroundSize:"cover"}),e.opt.backgroundUrl=t}e.videoData=null,e.opt.ratio="auto"==e.opt.ratio?"16/9":e.opt.ratio}e.isPlayer&&!e.opt.autoPlay&&(e.loading=jQuery("<div/>").addClass("loading").html("Loading").hide(),jQuery(e).append(e.loading),e.loading.fadeIn())},removeStoredData:function(){jQuery.mbStorage.remove()},getVideoData:function(){var e=this.get(0);return e.videoData},getVideoID:function(){var e=this.get(0);return e.videoID||!1},setVideoQuality:function(e){var t=this.get(0);t.player.setPlaybackQuality(e)},playlist:function(e,t,r){var n=this,i=n.get(0);return i.isPlayList=!0,t&&(e=jQuery.shuffle(e)),i.videoID||(i.videos=e,i.videoCounter=0,i.videoLength=e.length,jQuery(i).data("property",e[0]),jQuery(i).mb_YTPlayer()),"function"==typeof r&&jQuery(i).one("YTPChanged",function(){r(i)}),jQuery(i).on("YTPEnd",function(){jQuery(i).playNext()}),n},playNext:function(){var e=this.get(0);return e.checkForStartAt&&(clearTimeout(e.checkForStartAt),clearInterval(e.getState)),e.videoCounter++,e.videoCounter>=e.videoLength&&(e.videoCounter=0),jQuery(e).changeMovie(e.videos[e.videoCounter]),this},playPrev:function(){var e=this.get(0);return e.checkForStartAt&&(clearInterval(e.checkForStartAt),clearInterval(e.getState)),e.videoCounter--,e.videoCounter<0&&(e.videoCounter=e.videoLength-1),jQuery(e).changeMovie(e.videos[e.videoCounter]),this},changeMovie:function(e){var t=this.get(0);t.opt.startAt=0,t.opt.stopAt=0,t.opt.mute=!0,t.hasData=!1,t.hasChanged=!0,t.player.loopTime=void 0,e&&jQuery.extend(t.opt,t.defaultOpt,e),t.videoID=getYTPVideoID(t.opt.videoURL).videoID,"true"==t.opt.loop&&(t.opt.loop=9999),jQuery(t.playerEl).CSSAnimate({opacity:0},200,function(){var e=jQuery.Event("YTPChangeMovie");return e.time=t.player.time,e.videoId=t.videoID,jQuery(t).trigger(e),jQuery(t).YTPGetPlayer().cueVideoByUrl(encodeURI(jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/v/"+t.videoID),1,t.opt.quality),jQuery(t).optimizeDisplay(),jQuery.mbYTPlayer.checkForState(t),jQuery.mbYTPlayer.getDataFromAPI(t),this})},getPlayer:function(){return jQuery(this).get(0).player},playerDestroy:function(){var e=this.get(0);ytp.YTAPIReady=!0,ytp.backgroundIsInited=!1,e.isInit=!1,e.videoID=null;var t=e.wrapper;return t.remove(),jQuery("#controlBar_"+e.id).remove(),clearInterval(e.checkForStartAt),clearInterval(e.getState),this},fullscreen:function(real){function hideMouse(){YTPlayer.overlay.css({cursor:"none"})}function RunPrefixMethod(e,t){for(var r,n,i=["webkit","moz","ms","o",""],a=0;a<i.length&&!e[r];){if(r=t,""==i[a]&&(r=r.substr(0,1).toLowerCase()+r.substr(1)),r=i[a]+r,n=typeof e[r],"undefined"!=n)return i=[i[a]],"function"==n?e[r]():e[r];a++}}function launchFullscreen(e){RunPrefixMethod(e,"RequestFullScreen")}function cancelFullscreen(){(RunPrefixMethod(document,"FullScreen")||RunPrefixMethod(document,"IsFullScreen"))&&RunPrefixMethod(document,"CancelFullScreen")}var YTPlayer=this.get(0);"undefined"==typeof real&&(real=YTPlayer.opt.realfullscreen),real=eval(real);var controls=jQuery("#controlBar_"+YTPlayer.id),fullScreenBtn=controls.find(".mb_OnlyYT"),videoWrapper=YTPlayer.isSelf?YTPlayer.opt.containment:YTPlayer.wrapper;if(real){var fullscreenchange=jQuery.browser.mozilla?"mozfullscreenchange":jQuery.browser.webkit?"webkitfullscreenchange":"fullscreenchange";jQuery(document).off(fullscreenchange).on(fullscreenchange,function(){var e=RunPrefixMethod(document,"IsFullScreen")||RunPrefixMethod(document,"FullScreen");e?(jQuery(YTPlayer).YTPSetVideoQuality("default"),jQuery(YTPlayer).trigger("YTPFullScreenStart")):(YTPlayer.isAlone=!1,fullScreenBtn.html(jQuery.mbYTPlayer.controls.onlyYT),jQuery(YTPlayer).YTPSetVideoQuality(YTPlayer.opt.quality),videoWrapper.removeClass("YTPFullscreen"),videoWrapper.CSSAnimate({opacity:YTPlayer.opt.opacity},500),videoWrapper.css({zIndex:0}),YTPlayer.isBackground?jQuery("body").after(controls):YTPlayer.wrapper.before(controls),jQuery(window).resize(),jQuery(YTPlayer).trigger("YTPFullScreenEnd"))})}return YTPlayer.isAlone?(jQuery(document).off("mousemove.YTPlayer"),YTPlayer.overlay.css({cursor:"auto"}),real?cancelFullscreen():(videoWrapper.CSSAnimate({opacity:YTPlayer.opt.opacity},500),videoWrapper.css({zIndex:0})),fullScreenBtn.html(jQuery.mbYTPlayer.controls.onlyYT),YTPlayer.isAlone=!1):(jQuery(document).on("mousemove.YTPlayer",function(e){YTPlayer.overlay.css({cursor:"auto"}),clearTimeout(YTPlayer.hideCursor),jQuery(e.target).parents().is(".mb_YTPBar")||(YTPlayer.hideCursor=setTimeout(hideMouse,3e3))}),hideMouse(),real?(videoWrapper.css({opacity:0}),videoWrapper.addClass("YTPFullscreen"),launchFullscreen(videoWrapper.get(0)),setTimeout(function(){videoWrapper.CSSAnimate({opacity:1},1e3),YTPlayer.wrapper.append(controls),jQuery(YTPlayer).optimizeDisplay(),YTPlayer.player.seekTo(YTPlayer.player.getCurrentTime()+.1,!0)},500)):videoWrapper.css({zIndex:1e4}).CSSAnimate({opacity:1},1e3),fullScreenBtn.html(jQuery.mbYTPlayer.controls.showSite),YTPlayer.isAlone=!0),this},toggleLoops:function(){var e=this.get(0),t=e.opt;return 1==t.loop?t.loop=0:(t.startAt?e.player.seekTo(t.startAt):e.player.playVideo(),t.loop=1),this},play:function(){var e=this.get(0);return e.isReady?(e.player.playVideo(),e.wrapper.CSSAnimate({opacity:e.isAlone?1:e.opt.opacity},2e3),jQuery(e.playerEl).CSSAnimate({opacity:1},1e3),jQuery(e).css("background-image","none"),this):void 0},togglePlay:function(e){var t=this.get(0);return 1==t.state?this.YTPPause():this.YTPPlay(),"function"==typeof e&&e(t.state),this},stop:function(){var e=this.get(0),t=jQuery("#controlBar_"+e.id),r=t.find(".mb_YTPPlaypause");return r.html(jQuery.mbYTPlayer.controls.play),e.player.stopVideo(),this},pause:function(){var e=this.get(0);return e.player.pauseVideo(),this},seekTo:function(e){var t=this.get(0);return t.player.seekTo(e,!0),this},setVolume:function(e){var t=this.get(0);return e||t.opt.vol||0!=t.player.getVolume()?!e&&t.player.getVolume()>0||e&&t.opt.vol==e?t.isMute?jQuery(t).YTPUnmute():jQuery(t).YTPMute():(t.opt.vol=e,t.player.setVolume(t.opt.vol),t.volumeBar&&t.volumeBar.length&&t.volumeBar.updateSliderVal(e)):jQuery(t).YTPUnmute(),this},mute:function(){var e=this.get(0);if(!e.isMute){e.player.mute(),e.isMute=!0,e.player.setVolume(0),e.volumeBar&&e.volumeBar.length&&e.volumeBar.width()>10&&e.volumeBar.updateSliderVal(0);var t=jQuery("#controlBar_"+e.id),r=t.find(".mb_YTPMuteUnmute");r.html(jQuery.mbYTPlayer.controls.unmute),jQuery(e).addClass("isMuted"),e.volumeBar&&e.volumeBar.length&&e.volumeBar.addClass("muted");var n=jQuery.Event("YTPMuted");return n.time=e.player.time,e.canTrigger&&jQuery(e).trigger(n),this}},unmute:function(){var e=this.get(0);if(e.isMute){e.player.unMute(),e.isMute=!1,e.player.setVolume(e.opt.vol),e.volumeBar&&e.volumeBar.length&&e.volumeBar.updateSliderVal(e.opt.vol>10?e.opt.vol:10);var t=jQuery("#controlBar_"+e.id),r=t.find(".mb_YTPMuteUnmute");r.html(jQuery.mbYTPlayer.controls.mute),jQuery(e).removeClass("isMuted"),e.volumeBar&&e.volumeBar.length&&e.volumeBar.removeClass("muted");var n=jQuery.Event("YTPUnmuted");return n.time=e.player.time,e.canTrigger&&jQuery(e).trigger(n),this}},applyFilter:function(e,t){var r=this.get(0);return r.filters[e].value=t,r.filtersEnabled&&this.YTPEnableFilters(),this},applyFilters:function(e){var t=this.get(0);return this.on("YTPReady",function(){for(var r in e)t.filters[r].value=e[r],jQuery(t).YTPApplyFilter(r,e[r]);jQuery(t).trigger("YTPFiltersApplied")}),this},toggleFilter:function(e,t){return this.each(function(){var r=this;r.filters[e].value?r.filters[e].value=0:r.filters[e].value=t,r.filtersEnabled&&jQuery(this).YTPEnableFilters()})},toggleFilters:function(e){return this.each(function(){var t=this;t.filtersEnabled?(jQuery(t).trigger("YTPDisableFilters"),jQuery(t).YTPDisableFilters()):(jQuery(t).YTPEnableFilters(),jQuery(t).trigger("YTPEnableFilters")),"function"==typeof e&&e(t.filtersEnabled)})},disableFilters:function(){return this.each(function(){var e=this,t=jQuery(e.playerEl);t.css("-webkit-filter",""),t.css("filter",""),e.filtersEnabled=!1})},enableFilters:function(){return this.each(function(){var e=this,t=jQuery(e.playerEl),r="";for(var n in e.filters)e.filters[n].value&&(r+=n.replace("_","-")+"("+e.filters[n].value+e.filters[n].unit+") ");t.css("-webkit-filter",r),t.css("filter",r),e.filtersEnabled=!0})},removeFilter:function(e,t){return this.each(function(){"function"==typeof e&&(t=e,e=null);var r=this;if(e)jQuery(this).YTPApplyFilter(e,0),"function"==typeof t&&t(e);else for(var n in r.filters)jQuery(this).YTPApplyFilter(n,0),"function"==typeof t&&t(n)})},addMask:function(e){var t=this.get(0),r=t.overlay;return r.CSSAnimate({opacity:0},500,function(){r.css({backgroundImage:"url("+e+")",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"cover"}),r.CSSAnimate({opacity:1},500)}),this},removeMask:function(){var e=this.get(0),t=e.overlay;return t.CSSAnimate({opacity:0},500,function(){t.css({backgroundImage:"",backgroundRepeat:"",backgroundPosition:"",backgroundSize:""}),t.CSSAnimate({opacity:1},500)}),this},manageProgress:function(){var e=this.get(0),t=jQuery("#controlBar_"+e.id),r=t.find(".mb_YTPProgress"),n=t.find(".mb_YTPLoaded"),i=t.find(".mb_YTPseekbar"),a=r.outerWidth(),o=Math.floor(e.player.getCurrentTime()),s=Math.floor(e.player.getDuration()),l=o*a/s,u=0,c=100*e.player.getVideoLoadedFraction();return n.css({left:u,width:c+"%"}),i.css({left:0,width:l}),{totalTime:s,currentTime:o}},buildControls:function(YTPlayer){var data=YTPlayer.opt;if(data.showYTLogo=data.showYTLogo||data.printUrl,!jQuery("#controlBar_"+YTPlayer.id).length){YTPlayer.controlBar=jQuery("<span/>").attr("id","controlBar_"+YTPlayer.id).addClass("mb_YTPBar").css({whiteSpace:"noWrap",position:YTPlayer.isBackground?"fixed":"absolute",zIndex:YTPlayer.isBackground?1e4:1e3}).hide();var buttonBar=jQuery("<div/>").addClass("buttonBar"),playpause=jQuery("<span>"+jQuery.mbYTPlayer.controls.play+"</span>").addClass("mb_YTPPlaypause ytpicon").click(function(){1==YTPlayer.player.getPlayerState()?jQuery(YTPlayer).YTPPause():jQuery(YTPlayer).YTPPlay()}),MuteUnmute=jQuery("<span>"+jQuery.mbYTPlayer.controls.mute+"</span>").addClass("mb_YTPMuteUnmute ytpicon").click(function(){0==YTPlayer.player.getVolume()?jQuery(YTPlayer).YTPUnmute():jQuery(YTPlayer).YTPMute()}),volumeBar=jQuery("<div/>").addClass("mb_YTPVolumeBar").css({display:"inline-block"});YTPlayer.volumeBar=volumeBar;var idx=jQuery("<span/>").addClass("mb_YTPTime"),vURL=data.videoURL?data.videoURL:"";vURL.indexOf("http")<0&&(vURL=jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/watch?v="+data.videoURL);var movieUrl=jQuery("<span/>").html(jQuery.mbYTPlayer.controls.ytLogo).addClass("mb_YTPUrl ytpicon").attr("title","view on YouTube").on("click",function(){window.open(vURL,"viewOnYT")}),onlyVideo=jQuery("<span/>").html(jQuery.mbYTPlayer.controls.onlyYT).addClass("mb_OnlyYT ytpicon").on("click",function(){jQuery(YTPlayer).YTPFullscreen(data.realfullscreen)}),progressBar=jQuery("<div/>").addClass("mb_YTPProgress").css("position","absolute").click(function(e){timeBar.css({width:e.clientX-timeBar.offset().left}),YTPlayer.timeW=e.clientX-timeBar.offset().left,YTPlayer.controlBar.find(".mb_YTPLoaded").css({width:0});var t=Math.floor(YTPlayer.player.getDuration());YTPlayer["goto"]=timeBar.outerWidth()*t/progressBar.outerWidth(),YTPlayer.player.seekTo(parseFloat(YTPlayer["goto"]),!0),YTPlayer.controlBar.find(".mb_YTPLoaded").css({width:0})}),loadedBar=jQuery("<div/>").addClass("mb_YTPLoaded").css("position","absolute"),timeBar=jQuery("<div/>").addClass("mb_YTPseekbar").css("position","absolute");progressBar.append(loadedBar).append(timeBar),buttonBar.append(playpause).append(MuteUnmute).append(volumeBar).append(idx),data.showYTLogo&&buttonBar.append(movieUrl),(YTPlayer.isBackground||eval(YTPlayer.opt.realfullscreen)&&!YTPlayer.isBackground)&&buttonBar.append(onlyVideo),YTPlayer.controlBar.append(buttonBar).append(progressBar),YTPlayer.isBackground?jQuery("body").after(YTPlayer.controlBar):(YTPlayer.controlBar.addClass("inlinePlayer"),YTPlayer.wrapper.before(YTPlayer.controlBar)),volumeBar.simpleSlider({initialval:YTPlayer.opt.vol,scale:100,orientation:"h",callback:function(e){0==e.value?jQuery(YTPlayer).YTPMute():jQuery(YTPlayer).YTPUnmute(),YTPlayer.player.setVolume(e.value),YTPlayer.isMute||(YTPlayer.opt.vol=e.value)}})}},checkForState:function(YTPlayer){var interval=YTPlayer.opt.showControls?100:400;return clearInterval(YTPlayer.getState),jQuery.contains(document,YTPlayer)?(jQuery.mbYTPlayer.checkForStart(YTPlayer),void(YTPlayer.getState=setInterval(function(){var prog=jQuery(YTPlayer).YTPManageProgress(),$YTPlayer=jQuery(YTPlayer),data=YTPlayer.opt,startAt=YTPlayer.opt.startAt?YTPlayer.opt.startAt:1,stopAt=YTPlayer.opt.stopAt>YTPlayer.opt.startAt?YTPlayer.opt.stopAt:0;if(stopAt=stopAt<YTPlayer.player.getDuration()?stopAt:0,YTPlayer.player.time!=prog.currentTime){var YTPEvent=jQuery.Event("YTPTime");YTPEvent.time=YTPlayer.player.time,jQuery(YTPlayer).trigger(YTPEvent)}if(YTPlayer.player.time=prog.currentTime,0==YTPlayer.player.getVolume()?$YTPlayer.addClass("isMuted"):$YTPlayer.removeClass("isMuted"),YTPlayer.opt.showControls&&(prog.totalTime?YTPlayer.controlBar.find(".mb_YTPTime").html(jQuery.mbYTPlayer.formatTime(prog.currentTime)+" / "+jQuery.mbYTPlayer.formatTime(prog.totalTime)):YTPlayer.controlBar.find(".mb_YTPTime").html("-- : -- / -- : --")),eval(YTPlayer.opt.stopMovieOnBlur)&&(document.hasFocus()?document.hasFocus()&&!YTPlayer.hasFocus&&-1!=YTPlayer.state&&0!=YTPlayer.state&&(YTPlayer.hasFocus=!0,$YTPlayer.YTPPlay()):1==YTPlayer.state&&(YTPlayer.hasFocus=!1,$YTPlayer.YTPPause())),YTPlayer.controlBar&&YTPlayer.controlBar.outerWidth()<=400&&!YTPlayer.isCompact?(YTPlayer.controlBar.addClass("compact"),YTPlayer.isCompact=!0,!YTPlayer.isMute&&YTPlayer.volumeBar&&YTPlayer.volumeBar.updateSliderVal(YTPlayer.opt.vol)):YTPlayer.controlBar&&YTPlayer.controlBar.outerWidth()>400&&YTPlayer.isCompact&&(YTPlayer.controlBar.removeClass("compact"),YTPlayer.isCompact=!1,!YTPlayer.isMute&&YTPlayer.volumeBar&&YTPlayer.volumeBar.updateSliderVal(YTPlayer.opt.vol)),1==YTPlayer.player.getPlayerState()&&(parseFloat(YTPlayer.player.getDuration()-1.5)<YTPlayer.player.getCurrentTime()||stopAt>0&&parseFloat(YTPlayer.player.getCurrentTime())>stopAt)){if(YTPlayer.isEnded)return;if(YTPlayer.isEnded=!0,setTimeout(function(){YTPlayer.isEnded=!1},1e3),YTPlayer.isPlayList){if(!data.loop||data.loop>0&&YTPlayer.player.loopTime===data.loop-1){YTPlayer.player.loopTime=void 0,clearInterval(YTPlayer.getState);var YTPEnd=jQuery.Event("YTPEnd");return YTPEnd.time=YTPlayer.player.time,jQuery(YTPlayer).trigger(YTPEnd),void(YTPlayer.state=0)}}else if(!data.loop||data.loop>0&&YTPlayer.player.loopTime===data.loop-1)return YTPlayer.player.loopTime=void 0,YTPlayer.preventTrigger=!0,jQuery(YTPlayer).YTPPause(),YTPlayer.state=0,void YTPlayer.wrapper.CSSAnimate({opacity:0},500,function(){YTPlayer.controlBar&&YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play);var e=jQuery.Event("YTPEnd");e.time=YTPlayer.player.time,jQuery(YTPlayer).trigger(e),YTPlayer.player.seekTo(startAt,!0),YTPlayer.isBackground||YTPlayer.opt.containment.css({
background:"rgba(0,0,0,0.5) url("+YTPlayer.opt.backgroundUrl+") center center",backgroundSize:"cover"})});YTPlayer.player.loopTime=YTPlayer.player.loopTime?++YTPlayer.player.loopTime:1,startAt=startAt||1,YTPlayer.preventTrigger=!0,jQuery(YTPlayer).YTPPause(),YTPlayer.player.seekTo(startAt,!0),$YTPlayer.YTPPlay()}},interval))):(jQuery(YTPlayer).YTPPlayerDestroy(),clearInterval(YTPlayer.getState),void clearInterval(YTPlayer.checkForStartAt))},checkForStart:function(e){var t=jQuery(e);if(!jQuery.contains(document,e))return void jQuery(e).YTPPlayerDestroy();if(e.preventTrigger=!0,jQuery(e).YTPPause(),jQuery(e).muteYTPVolume(),jQuery("#controlBar_"+e.id).remove(),e.opt.showControls&&jQuery.mbYTPlayer.buildControls(e),e.opt.addRaster){var r="dot"==e.opt.addRaster?"raster-dot":"raster";e.overlay.addClass(e.isRetina?r+" retina":r)}else e.overlay.removeClass(function(e,t){var r=t.split(" "),n=[];return jQuery.each(r,function(e,t){/raster.*/.test(t)&&n.push(t)}),n.push("retina"),n.join(" ")});var n=e.opt.startAt?e.opt.startAt:1;e.player.playVideo(),e.player.seekTo(n,!0),e.checkForStartAt=setInterval(function(){jQuery(e).YTPMute();var r=e.player.getVideoLoadedFraction()>=n/e.player.getDuration();if(e.player.getDuration()>0&&e.player.getCurrentTime()>=n&&r){clearInterval(e.checkForStartAt),e.isReady=!0,"function"==typeof e.opt.onReady&&e.opt.onReady(e);var i=jQuery.Event("YTPReady");if(i.time=e.player.time,jQuery(e).trigger(i),e.preventTrigger=!0,jQuery(e).YTPPause(),e.opt.mute||jQuery(e).YTPUnmute(),e.canTrigger=!0,e.opt.autoPlay){t.YTPPlay();var a=jQuery.Event("YTPStart");a.time=e.player.time,jQuery(e).trigger(a),t.css("background-image","none"),jQuery(e.playerEl).CSSAnimate({opacity:1},1e3),e.wrapper.CSSAnimate({opacity:e.isAlone?1:e.opt.opacity},1e3)}else t.YTPPause(),e.isPlayer||(jQuery(e.playerEl).CSSAnimate({opacity:1},500),e.wrapper.CSSAnimate({opacity:e.isAlone?1:e.opt.opacity},500));e.isPlayer&&!e.opt.autoPlay&&(e.loading.html("Ready"),setTimeout(function(){e.loading.fadeOut()},100)),e.controlBar&&e.controlBar.slideDown(1e3)}else jQuery.browser.safari},1)},formatTime:function(e){var t=Math.floor(e/60),r=Math.floor(e-60*t);return(9>=t?"0"+t:t)+" : "+(9>=r?"0"+r:r)}},jQuery.fn.toggleVolume=function(){var e=this.get(0);return e?e.player.isMuted()?(jQuery(e).YTPUnmute(),!0):(jQuery(e).YTPMute(),!1):void 0},jQuery.fn.optimizeDisplay=function(){var e=this.get(0),t=e.opt,r=jQuery(e.playerEl),n={};if(t.optimizeDisplay){var i=24,a=100,o={},s=e.wrapper;o.width=s.outerWidth(),o.height=s.outerHeight(),n.width=o.width+o.width*i/100,n.height="16/9"==t.ratio?Math.ceil(9*o.width/16):Math.ceil(3*o.width/4),n.marginTop=-((n.height-o.height)/2),n.marginLeft=-(o.width*(i/2)/100),n.height<o.height&&(n.height=o.height+o.height*i/100,n.width="16/9"==t.ratio?Math.floor(16*o.height/9):Math.floor(4*o.height/3),n.marginTop=-(o.height*(i/2)/100),n.marginLeft=-((n.width-o.width)/2)),n.width+=a,n.height+=a,n.marginTop-=a/2,n.marginLeft-=a/2}else n.width="100%",n.height="100%",n.marginTop=0,n.marginLeft=0;r.css({width:n.width,height:n.height,marginTop:n.marginTop,marginLeft:n.marginLeft})},jQuery.shuffle=function(e){for(var t=e.slice(),r=t.length,n=r;n--;){var i=parseInt(Math.random()*r),a=t[n];t[n]=t[i],t[i]=a}return t},jQuery.fn.unselectable=function(){return this.each(function(){jQuery(this).css({"-moz-user-select":"none","-webkit-user-select":"none","user-select":"none"}).attr("unselectable","on")})},jQuery.fn.YTPlayer=jQuery.mbYTPlayer.buildPlayer,jQuery.fn.YTPGetPlayer=jQuery.mbYTPlayer.getPlayer,jQuery.fn.YTPGetVideoID=jQuery.mbYTPlayer.getVideoID,jQuery.fn.YTPChangeMovie=jQuery.mbYTPlayer.changeMovie,jQuery.fn.YTPPlayerDestroy=jQuery.mbYTPlayer.playerDestroy,jQuery.fn.YTPPlay=jQuery.mbYTPlayer.play,jQuery.fn.YTPTogglePlay=jQuery.mbYTPlayer.togglePlay,jQuery.fn.YTPStop=jQuery.mbYTPlayer.stop,jQuery.fn.YTPPause=jQuery.mbYTPlayer.pause,jQuery.fn.YTPSeekTo=jQuery.mbYTPlayer.seekTo,jQuery.fn.YTPlaylist=jQuery.mbYTPlayer.playlist,jQuery.fn.YTPPlayNext=jQuery.mbYTPlayer.playNext,jQuery.fn.YTPPlayPrev=jQuery.mbYTPlayer.playPrev,jQuery.fn.YTPMute=jQuery.mbYTPlayer.mute,jQuery.fn.YTPUnmute=jQuery.mbYTPlayer.unmute,jQuery.fn.YTPToggleVolume=jQuery.mbYTPlayer.toggleVolume,jQuery.fn.YTPSetVolume=jQuery.mbYTPlayer.setVolume,jQuery.fn.YTPGetVideoData=jQuery.mbYTPlayer.getVideoData,jQuery.fn.YTPFullscreen=jQuery.mbYTPlayer.fullscreen,jQuery.fn.YTPToggleLoops=jQuery.mbYTPlayer.toggleLoops,jQuery.fn.YTPSetVideoQuality=jQuery.mbYTPlayer.setVideoQuality,jQuery.fn.YTPManageProgress=jQuery.mbYTPlayer.manageProgress,jQuery.fn.YTPApplyFilter=jQuery.mbYTPlayer.applyFilter,jQuery.fn.YTPApplyFilters=jQuery.mbYTPlayer.applyFilters,jQuery.fn.YTPToggleFilter=jQuery.mbYTPlayer.toggleFilter,jQuery.fn.YTPToggleFilters=jQuery.mbYTPlayer.toggleFilters,jQuery.fn.YTPRemoveFilter=jQuery.mbYTPlayer.removeFilter,jQuery.fn.YTPDisableFilters=jQuery.mbYTPlayer.disableFilters,jQuery.fn.YTPEnableFilters=jQuery.mbYTPlayer.enableFilters,jQuery.fn.YTPAddMask=jQuery.mbYTPlayer.addMask,jQuery.fn.YTPRemoveMask=jQuery.mbYTPlayer.removeMask,jQuery.fn.mb_YTPlayer=jQuery.mbYTPlayer.buildPlayer,jQuery.fn.playNext=jQuery.mbYTPlayer.playNext,jQuery.fn.playPrev=jQuery.mbYTPlayer.playPrev,jQuery.fn.changeMovie=jQuery.mbYTPlayer.changeMovie,jQuery.fn.getVideoID=jQuery.mbYTPlayer.getVideoID,jQuery.fn.getPlayer=jQuery.mbYTPlayer.getPlayer,jQuery.fn.playerDestroy=jQuery.mbYTPlayer.playerDestroy,jQuery.fn.fullscreen=jQuery.mbYTPlayer.fullscreen,jQuery.fn.buildYTPControls=jQuery.mbYTPlayer.buildControls,jQuery.fn.playYTP=jQuery.mbYTPlayer.play,jQuery.fn.toggleLoops=jQuery.mbYTPlayer.toggleLoops,jQuery.fn.stopYTP=jQuery.mbYTPlayer.stop,jQuery.fn.pauseYTP=jQuery.mbYTPlayer.pause,jQuery.fn.seekToYTP=jQuery.mbYTPlayer.seekTo,jQuery.fn.muteYTPVolume=jQuery.mbYTPlayer.mute,jQuery.fn.unmuteYTPVolume=jQuery.mbYTPlayer.unmute,jQuery.fn.setYTPVolume=jQuery.mbYTPlayer.setVolume,jQuery.fn.setVideoQuality=jQuery.mbYTPlayer.setVideoQuality,jQuery.fn.manageYTPProgress=jQuery.mbYTPlayer.manageProgress,jQuery.fn.YTPGetDataFromFeed=jQuery.mbYTPlayer.getVideoData}(jQuery,ytp),jQuery.support.CSStransition=function(){var e=document.body||document.documentElement,t=e.style;return void 0!==t.transition||void 0!==t.WebkitTransition||void 0!==t.MozTransition||void 0!==t.MsTransition||void 0!==t.OTransition}(),jQuery.CSS={name:"mb.CSSAnimate",author:"Matteo Bicocchi",version:"2.0.0",transitionEnd:"transitionEnd",sfx:"",filters:{blur:{min:0,max:100,unit:"px"},brightness:{min:0,max:400,unit:"%"},contrast:{min:0,max:400,unit:"%"},grayscale:{min:0,max:100,unit:"%"},hueRotate:{min:0,max:360,unit:"deg"},invert:{min:0,max:100,unit:"%"},saturate:{min:0,max:400,unit:"%"},sepia:{min:0,max:100,unit:"%"}},normalizeCss:function(e){var t=jQuery.extend(!0,{},e);jQuery.browser.webkit||jQuery.browser.opera?jQuery.CSS.sfx="-webkit-":jQuery.browser.mozilla?jQuery.CSS.sfx="-moz-":jQuery.browser.msie&&(jQuery.CSS.sfx="-ms-");for(var r in t){"transform"===r&&(t[jQuery.CSS.sfx+"transform"]=t[r],delete t[r]),"transform-origin"===r&&(t[jQuery.CSS.sfx+"transform-origin"]=e[r],delete t[r]),"filter"!==r||jQuery.browser.mozilla||(t[jQuery.CSS.sfx+"filter"]=e[r],delete t[r]),"blur"===r&&setFilter(t,"blur",e[r]),"brightness"===r&&setFilter(t,"brightness",e[r]),"contrast"===r&&setFilter(t,"contrast",e[r]),"grayscale"===r&&setFilter(t,"grayscale",e[r]),"hueRotate"===r&&setFilter(t,"hueRotate",e[r]),"invert"===r&&setFilter(t,"invert",e[r]),"saturate"===r&&setFilter(t,"saturate",e[r]),"sepia"===r&&setFilter(t,"sepia",e[r]);var n="";"x"===r&&(n=jQuery.CSS.sfx+"transform",t[n]=t[n]||"",t[n]+=" translateX("+setUnit(e[r],"px")+")",delete t[r]),"y"===r&&(n=jQuery.CSS.sfx+"transform",t[n]=t[n]||"",t[n]+=" translateY("+setUnit(e[r],"px")+")",delete t[r]),"z"===r&&(n=jQuery.CSS.sfx+"transform",t[n]=t[n]||"",t[n]+=" translateZ("+setUnit(e[r],"px")+")",delete t[r]),"rotate"===r&&(n=jQuery.CSS.sfx+"transform",t[n]=t[n]||"",t[n]+=" rotate("+setUnit(e[r],"deg")+")",delete t[r]),"rotateX"===r&&(n=jQuery.CSS.sfx+"transform",t[n]=t[n]||"",t[n]+=" rotateX("+setUnit(e[r],"deg")+")",delete t[r]),"rotateY"===r&&(n=jQuery.CSS.sfx+"transform",t[n]=t[n]||"",t[n]+=" rotateY("+setUnit(e[r],"deg")+")",delete t[r]),"rotateZ"===r&&(n=jQuery.CSS.sfx+"transform",t[n]=t[n]||"",t[n]+=" rotateZ("+setUnit(e[r],"deg")+")",delete t[r]),"scale"===r&&(n=jQuery.CSS.sfx+"transform",t[n]=t[n]||"",t[n]+=" scale("+setUnit(e[r],"")+")",delete t[r]),"scaleX"===r&&(n=jQuery.CSS.sfx+"transform",t[n]=t[n]||"",t[n]+=" scaleX("+setUnit(e[r],"")+")",delete t[r]),"scaleY"===r&&(n=jQuery.CSS.sfx+"transform",t[n]=t[n]||"",t[n]+=" scaleY("+setUnit(e[r],"")+")",delete t[r]),"scaleZ"===r&&(n=jQuery.CSS.sfx+"transform",t[n]=t[n]||"",t[n]+=" scaleZ("+setUnit(e[r],"")+")",delete t[r]),"skew"===r&&(n=jQuery.CSS.sfx+"transform",t[n]=t[n]||"",t[n]+=" skew("+setUnit(e[r],"deg")+")",delete t[r]),"skewX"===r&&(n=jQuery.CSS.sfx+"transform",t[n]=t[n]||"",t[n]+=" skewX("+setUnit(e[r],"deg")+")",delete t[r]),"skewY"===r&&(n=jQuery.CSS.sfx+"transform",t[n]=t[n]||"",t[n]+=" skewY("+setUnit(e[r],"deg")+")",delete t[r]),"perspective"===r&&(n=jQuery.CSS.sfx+"transform",t[n]=t[n]||"",t[n]+=" perspective("+setUnit(e[r],"px")+")",delete t[r])}return t},getProp:function(e){var t=[];for(var r in e)t.indexOf(r)<0&&t.push(uncamel(r));return t.join(",")},animate:function(e,t,r,n,i){return this.each(function(){function a(){o.called=!0,o.CSSAIsRunning=!1,s.off(jQuery.CSS.transitionEnd+"."+o.id),clearTimeout(o.timeout),s.css(jQuery.CSS.sfx+"transition",""),"function"==typeof i&&i.apply(o),"function"==typeof o.CSSqueue&&(o.CSSqueue(),o.CSSqueue=null)}var o=this,s=jQuery(this);o.id=o.id||"CSSA_"+(new Date).getTime();var l=l||{type:"noEvent"};if(o.CSSAIsRunning&&o.eventType==l.type&&!jQuery.browser.msie&&jQuery.browser.version<=9)return void(o.CSSqueue=function(){s.CSSAnimate(e,t,r,n,i)});if(o.CSSqueue=null,o.eventType=l.type,0!==s.length&&e){if(e=jQuery.normalizeCss(e),o.CSSAIsRunning=!0,"function"==typeof t&&(i=t,t=jQuery.fx.speeds._default),"function"==typeof r&&(n=r,r=0),"string"==typeof r&&(i=r,r=0),"function"==typeof n&&(i=n,n="cubic-bezier(0.65,0.03,0.36,0.72)"),"string"==typeof t)for(var u in jQuery.fx.speeds){if(t==u){t=jQuery.fx.speeds[u];break}t=jQuery.fx.speeds._default}if(t||(t=jQuery.fx.speeds._default),"string"==typeof i&&(n=i,i=null),!jQuery.support.CSStransition){for(var c in e){if("transform"===c&&delete e[c],"filter"===c&&delete e[c],"transform-origin"===c&&delete e[c],"auto"===e[c]&&delete e[c],"x"===c){var d=e[c],p="left";e[p]=d,delete e[c]}if("y"===c){var d=e[c],p="top";e[p]=d,delete e[c]}("-ms-transform"===c||"-ms-filter"===c)&&delete e[c]}return void s.delay(r).animate(e,t,i)}var f={"default":"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};f[n]&&(n=f[n]),s.off(jQuery.CSS.transitionEnd+"."+o.id);var h=jQuery.CSS.getProp(e),m={};jQuery.extend(m,e),m[jQuery.CSS.sfx+"transition-property"]=h,m[jQuery.CSS.sfx+"transition-duration"]=t+"ms",m[jQuery.CSS.sfx+"transition-delay"]=r+"ms",m[jQuery.CSS.sfx+"transition-timing-function"]=n,setTimeout(function(){s.one(jQuery.CSS.transitionEnd+"."+o.id,a),s.css(m)},1),o.timeout=setTimeout(function(){return o.called||!i?(o.called=!1,void(o.CSSAIsRunning=!1)):(s.css(jQuery.CSS.sfx+"transition",""),i.apply(o),o.CSSAIsRunning=!1,void("function"==typeof o.CSSqueue&&(o.CSSqueue(),o.CSSqueue=null)))},t+r+10)}})}},jQuery.fn.CSSAnimate=jQuery.CSS.animate,jQuery.normalizeCss=jQuery.CSS.normalizeCss,jQuery.fn.css3=function(e){return this.each(function(){var t=jQuery(this),r=jQuery.normalizeCss(e);t.css(r)})};var nAgt=navigator.userAgent;if(!jQuery.browser){jQuery.browser={},jQuery.browser.mozilla=!1,jQuery.browser.webkit=!1,jQuery.browser.opera=!1,jQuery.browser.safari=!1,jQuery.browser.chrome=!1,jQuery.browser.msie=!1,jQuery.browser.ua=nAgt,jQuery.browser.name=navigator.appName,jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10);var nameOffset,verOffset,ix;if(-1!=(verOffset=nAgt.indexOf("Opera")))jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+6),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8));else if(-1!=(verOffset=nAgt.indexOf("OPR")))jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+4);else if(-1!=(verOffset=nAgt.indexOf("MSIE")))jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer",jQuery.browser.fullVersion=nAgt.substring(verOffset+5);else if(-1!=nAgt.indexOf("Trident")){jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer";var start=nAgt.indexOf("rv:")+3,end=start+4;jQuery.browser.fullVersion=nAgt.substring(start,end)}else-1!=(verOffset=nAgt.indexOf("Chrome"))?(jQuery.browser.webkit=!0,jQuery.browser.chrome=!0,jQuery.browser.name="Chrome",jQuery.browser.fullVersion=nAgt.substring(verOffset+7)):-1!=(verOffset=nAgt.indexOf("Safari"))?(jQuery.browser.webkit=!0,jQuery.browser.safari=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("AppleWebkit"))?(jQuery.browser.webkit=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("Firefox"))?(jQuery.browser.mozilla=!0,jQuery.browser.name="Firefox",jQuery.browser.fullVersion=nAgt.substring(verOffset+8)):(nameOffset=nAgt.lastIndexOf(" ")+1)<(verOffset=nAgt.lastIndexOf("index.html"))&&(jQuery.browser.name=nAgt.substring(nameOffset,verOffset),jQuery.browser.fullVersion=nAgt.substring(verOffset+1),jQuery.browser.name.toLowerCase()==jQuery.browser.name.toUpperCase()&&(jQuery.browser.name=navigator.appName));-1!=(ix=jQuery.browser.fullVersion.indexOf(";"))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),-1!=(ix=jQuery.browser.fullVersion.indexOf(" "))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),jQuery.browser.majorVersion=parseInt(""+jQuery.browser.fullVersion,10),isNaN(jQuery.browser.majorVersion)&&(jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10)),jQuery.browser.version=jQuery.browser.majorVersion}jQuery.browser.android=/Android/i.test(nAgt),jQuery.browser.blackberry=/BlackBerry|BB|PlayBook/i.test(nAgt),jQuery.browser.ios=/iPhone|iPad|iPod|webOS/i.test(nAgt),jQuery.browser.operaMobile=/Opera Mini/i.test(nAgt),jQuery.browser.windowsMobile=/IEMobile|Windows Phone/i.test(nAgt),jQuery.browser.kindle=/Kindle|Silk/i.test(nAgt),jQuery.browser.mobile=jQuery.browser.android||jQuery.browser.blackberry||jQuery.browser.ios||jQuery.browser.windowsMobile||jQuery.browser.operaMobile||jQuery.browser.kindle,jQuery.isMobile=jQuery.browser.mobile,jQuery.isTablet=jQuery.browser.mobile&&jQuery(window).width()>765,jQuery.isAndroidDefault=jQuery.browser.android&&!/chrome/i.test(nAgt),!function(e){/iphone|ipod|ipad|android|ie|blackberry|fennec/.test(navigator.userAgent.toLowerCase());var t="ontouchstart"in window||window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture||window.DocumentTouch&&document instanceof DocumentTouch||!1;e.simpleSlider={defaults:{initialval:0,scale:100,orientation:"h",readonly:!1,callback:!1},events:{start:t?"touchstart":"mousedown",end:t?"touchend":"mouseup",move:t?"touchmove":"mousemove"},init:function(r){return this.each(function(){var n=this,i=e(n);i.addClass("simpleSlider"),n.opt={},e.extend(n.opt,e.simpleSlider.defaults,r),e.extend(n.opt,i.data());var a="h"==n.opt.orientation?"horizontal":"vertical",o=e("<div/>").addClass("level").addClass(a);i.prepend(o),n.level=o,i.css({cursor:"default"}),"auto"==n.opt.scale&&(n.opt.scale=e(n).outerWidth()),i.updateSliderVal(),n.opt.readonly||(i.on(e.simpleSlider.events.start,function(e){t&&(e=e.changedTouches[0]),n.canSlide=!0,i.updateSliderVal(e),i.css({cursor:"col-resize"}),e.preventDefault(),e.stopPropagation()}),e(document).on(e.simpleSlider.events.move,function(r){t&&(r=r.changedTouches[0]),n.canSlide&&(e(document).css({cursor:"default"}),i.updateSliderVal(r),r.preventDefault(),r.stopPropagation())}).on(e.simpleSlider.events.end,function(){e(document).css({cursor:"auto"}),n.canSlide=!1,i.css({cursor:"auto"})}))})},updateSliderVal:function(t){function r(e,t){return Math.floor(100*e/t)}var n=this,i=n.get(0);i.opt.initialval="number"==typeof i.opt.initialval?i.opt.initialval:i.opt.initialval(i);var a=e(i).outerWidth(),o=e(i).outerHeight();i.x="object"==typeof t?t.clientX+document.body.scrollLeft-n.offset().left:"number"==typeof t?t*a/i.opt.scale:i.opt.initialval*a/i.opt.scale,i.y="object"==typeof t?t.clientY+document.body.scrollTop-n.offset().top:"number"==typeof t?(i.opt.scale-i.opt.initialval-t)*o/i.opt.scale:i.opt.initialval*o/i.opt.scale,i.y=n.outerHeight()-i.y,i.scaleX=i.x*i.opt.scale/a,i.scaleY=i.y*i.opt.scale/o,i.outOfRangeX=i.scaleX>i.opt.scale?i.scaleX-i.opt.scale:i.scaleX<0?i.scaleX:0,i.outOfRangeY=i.scaleY>i.opt.scale?i.scaleY-i.opt.scale:i.scaleY<0?i.scaleY:0,i.outOfRange="h"==i.opt.orientation?i.outOfRangeX:i.outOfRangeY,i.value="undefined"!=typeof t?"h"==i.opt.orientation?i.x>=n.outerWidth()?i.opt.scale:i.x<=0?0:i.scaleX:i.y>=n.outerHeight()?i.opt.scale:i.y<=0?0:i.scaleY:"h"==i.opt.orientation?i.scaleX:i.scaleY,"h"==i.opt.orientation?i.level.width(r(i.x,a)+"%"):i.level.height(r(i.y,o)),"function"==typeof i.opt.callback&&i.opt.callback(i)}},e.fn.simpleSlider=e.simpleSlider.init,e.fn.updateSliderVal=e.simpleSlider.updateSliderVal}(jQuery),!function(e){e.mbCookie={set:function(e,t,r,n){t=JSON.stringify(t),r||(r=7),n=n?"; domain="+n:"";var i,a=new Date;a.setTime(a.getTime()+864e5*r),i="; expires="+a.toGMTString(),document.cookie=e+"="+t+i+"; path=/"+n},get:function(e){for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return JSON.parse(i.substring(t.length,i.length))}return null},remove:function(t){e.mbCookie.set(t,"",-1)}},e.mbStorage={set:function(e,t){t=JSON.stringify(t),localStorage.setItem(e,t)},get:function(e){return localStorage[e]?JSON.parse(localStorage[e]):null},remove:function(e){e?localStorage.removeItem(e):localStorage.clear()}}}(jQuery),function(e,t,r){e.fn.backstretch=function(n,i){return(n===r||0===n.length)&&e.error("No images were supplied for Backstretch"),0===e(t).scrollTop()&&t.scrollTo(0,0),this.each(function(){var t=e(this),r=t.data("backstretch");if(r){if("string"==typeof n&&"function"==typeof r[n])return void r[n](i);i=e.extend(r.options,i),r.destroy(!0)}r=new a(this,n,i),t.data("backstretch",r)})},e.backstretch=function(t,r){return e("body").backstretch(t,r).data("backstretch")},e.expr[":"].backstretch=function(t){return e(t).data("backstretch")!==r},e.fn.backstretch.defaults={centeredX:!0,centeredY:!0,duration:5e3,fade:0};var n={left:0,top:0,overflow:"hidden",margin:0,padding:0,height:"100%",width:"100%",zIndex:-999999},i={position:"absolute",display:"none",margin:0,padding:0,border:"none",width:"auto",height:"auto",maxHeight:"none",maxWidth:"none",zIndex:-999999},a=function(r,i,a){this.options=e.extend({},e.fn.backstretch.defaults,a||{}),this.images=e.isArray(i)?i:[i],e.each(this.images,function(){e("<img />")[0].src=this}),this.isBody=r===document.body,this.$container=e(r),this.$root=this.isBody?e(o?t:document):this.$container,r=this.$container.children(".backstretch").first(),this.$wrap=r.length?r:e('<div class="backstretch"></div>').css(n).appendTo(this.$container),this.isBody||(r=this.$container.css("position"),i=this.$container.css("zIndex"),this.$container.css({position:"static"===r?"relative":r,zIndex:"auto"===i?0:i,background:"none"}),this.$wrap.css({zIndex:-999998})),this.$wrap.css({position:this.isBody&&o?"fixed":"absolute"}),this.index=0,this.show(this.index),e(t).on("resize.backstretch",e.proxy(this.resize,this)).on("orientationchange.backstretch",e.proxy(function(){this.isBody&&0===t.pageYOffset&&(t.scrollTo(0,1),this.resize())},this))};a.prototype={resize:function(){try{var e,r={left:0,top:0},n=this.isBody?this.$root.width():this.$root.innerWidth(),i=n,a=this.isBody?t.innerHeight?t.innerHeight:this.$root.height():this.$root.innerHeight(),o=i/this.$img.data("ratio");o>=a?(e=(o-a)/2,this.options.centeredY&&(r.top="-"+e+"px")):(o=a,i=o*this.$img.data("ratio"),e=(i-n)/2,this.options.centeredX&&(r.left="-"+e+"px")),this.$wrap.css({width:n,height:a}).find("img:not(.deleteable)").css({width:i,height:o}).css(r)}catch(s){}return this},show:function(t){if(!(Math.abs(t)>this.images.length-1)){var r=this,n=r.$wrap.find("img").addClass("deleteable"),a={relatedTarget:r.$container[0]};return r.$container.trigger(e.Event("backstretch.before",a),[r,t]),this.index=t,clearInterval(r.interval),r.$img=e("<img />").css(i).bind("load",function(i){var o=this.width||e(i.target).width();i=this.height||e(i.target).height(),e(this).data("ratio",o/i),e(this).fadeIn(r.options.speed||r.options.fade,function(){n.remove(),r.paused||r.cycle(),e(["after","show"]).each(function(){r.$container.trigger(e.Event("backstretch."+this,a),[r,t])})}),r.resize()}).appendTo(r.$wrap),r.$img.attr("src",r.images[t]),r}},next:function(){return this.show(this.index<this.images.length-1?this.index+1:0)},prev:function(){return this.show(0===this.index?this.images.length-1:this.index-1)},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this.next(),this},cycle:function(){return 1<this.images.length&&(clearInterval(this.interval),this.interval=setInterval(e.proxy(function(){this.paused||this.next()},this),this.options.duration)),this},destroy:function(r){e(t).off("resize.backstretch orientationchange.backstretch"),clearInterval(this.interval),r||this.$wrap.remove(),this.$container.removeData("backstretch")}};var o,s=navigator.userAgent,l=navigator.platform,u=s.match(/AppleWebKit\/([0-9]+)/),u=!!u&&u[1],c=s.match(/Fennec\/([0-9]+)/),c=!!c&&c[1],d=s.match(/Opera Mobi\/([0-9]+)/),p=!!d&&d[1],f=s.match(/MSIE ([0-9]+)/),f=!!f&&f[1];o=!((-1<l.indexOf("iPhone")||-1<l.indexOf("iPad")||-1<l.indexOf("iPod"))&&u&&534>u||t.operamini&&"[object OperaMini]"==={}.toString.call(t.operamini)||d&&7458>p||-1<s.indexOf("Android")&&u&&533>u||c&&6>c||"palmGetResource"in t&&u&&534>u||-1<s.indexOf("MeeGo")&&-1<s.indexOf("NokiaBrowser/8.5.0")||f&&6>=f)}(jQuery,window),function(e){"use strict";function t(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function r(e,t){var r=n(e,t)?a:i;r(e,t)}var n,i,a;"classList"in document.documentElement?(n=function(e,t){return e.classList.contains(t)},i=function(e,t){e.classList.add(t)},a=function(e,t){e.classList.remove(t)}):(n=function(e,r){return t(r).test(e.className)},i=function(e,t){n(e,t)||(e.className=e.className+" "+t)},a=function(e,r){e.className=e.className.replace(t(r)," ")});var o={hasClass:n,addClass:i,removeClass:a,toggleClass:r,has:n,add:i,remove:a,toggle:r};"function"==typeof define&&define.amd?define(o):e.classie=o}(window),!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,function(){"use strict";var e=function(e,t){var r,n,i,a,o,s,l,u,c,d,p,f,h,m,y,g,v,b,w,x=this,T=!1,P=!0,S=!0,C={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},Y=function(e){if(g)return!0;e=e||window.event,y.timeToIdle&&y.mouseUsed&&!c&&O();for(var r,n,i=e.target||e.srcElement,a=i.getAttribute("class")||"",o=0;o<$.length;o++)r=$[o],r.onTap&&a.indexOf("pswp__"+r.name)>-1&&(r.onTap(),n=!0);if(n){e.stopPropagation&&e.stopPropagation(),g=!0;var s=t.features.isOldAndroid?600:30;v=setTimeout(function(){g=!1},s)}},j=function(){return!e.likelyTouchDevice||y.mouseUsed||screen.width>y.fitControlsWidth},k=function(e,r,n){t[(n?"add":"remove")+"Class"](e,"pswp__"+r)},Q=function(){var e=1===y.getNumItemsFn();e!==m&&(k(n,"ui--one-slide",e),m=e)},_=function(){k(l,"share-modal--hidden",S)},F=function(){return S=!S,S?(t.removeClass(l,"pswp__share-modal--fade-in"),setTimeout(function(){S&&_()},300)):(_(),setTimeout(function(){S||t.addClass(l,"pswp__share-modal--fade-in")},30)),S||A(),!1},I=function(t){t=t||window.event;var r=t.target||t.srcElement;return e.shout("shareLinkClick",t,r),r.href?r.hasAttribute("download")?!0:(window.open(r.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),S||F(),!1):!1},A=function(){for(var e,t,r,n,i,a="",o=0;o<y.shareButtons.length;o++)e=y.shareButtons[o],r=y.getImageURLForShare(e),n=y.getPageURLForShare(e),i=y.getTextForShare(e),t=e.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(r)).replace("{{raw_image_url}}",r).replace("{{text}}",encodeURIComponent(i)),a+='<a href="'+t+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",y.parseShareButtonOut&&(a=y.parseShareButtonOut(e,a));l.children[0].innerHTML=a,l.children[0].onclick=I},E=function(e){for(var r=0;r<y.closeElClasses.length;r++)if(t.hasClass(e,"pswp__"+y.closeElClasses[r]))return!0},D=0,O=function(){clearTimeout(w),D=0,c&&x.setIdle(!1)},M=function(e){e=e?e:window.event;var t=e.relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(w),w=setTimeout(function(){x.setIdle(!0)},y.timeToIdleOutside))},B=function(){y.fullscreenEl&&!t.features.isOldAndroid&&(r||(r=x.getFullscreenAPI()),r?(t.bind(document,r.eventK,x.updateFullscreen),x.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs"))},R=function(){y.preloaderEl&&(L(!0),d("beforeChange",function(){clearTimeout(h),h=setTimeout(function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&L(!1):L(!0)},y.loadingIndicatorDelay)}),d("imageLoadComplete",function(t,r){e.currItem===r&&L(!0)}))},L=function(e){f!==e&&(k(p,"preloader--active",!e),f=e)},z=function(e){var r=e.vGap;if(j()){var o=y.barsSize;if(y.captionEl&&"auto"===o.bottom)if(a||(a=t.createEl("pswp__caption pswp__caption--fake"),a.appendChild(t.createEl("pswp__caption__center")),n.insertBefore(a,i),t.addClass(n,"pswp__ui--fit")),y.addCaptionHTMLFn(e,a,!0)){var s=a.clientHeight;r.bottom=parseInt(s,10)||44}else r.bottom=o.top;else r.bottom="auto"===o.bottom?0:o.bottom;r.top=o.top}else r.top=r.bottom=0},V=function(){y.timeToIdle&&d("mouseUsed",function(){t.bind(document,"mousemove",O),t.bind(document,"mouseout",M),b=setInterval(function(){D++,2===D&&x.setIdle(!0)},y.timeToIdle/2)})},N=function(){d("onVerticalDrag",function(e){P&&.95>e?x.hideControls():!P&&e>=.95&&x.showControls()});var e;d("onPinchClose",function(t){P&&.9>t?(x.hideControls(),e=!0):e&&!P&&t>.9&&x.showControls()}),d("zoomGestureEnded",function(){e=!1,e&&!P&&x.showControls()})},$=[{name:"caption",option:"captionEl",onInit:function(e){i=e}},{name:"share-modal",option:"shareEl",onInit:function(e){l=e},onTap:function(){F()}},{name:"button--share",option:"shareEl",onInit:function(e){s=e},onTap:function(){F()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){o=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){r.isFullscreen()?r.exit():r.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){p=e}}],H=function(){var e,r,i,a=function(n){if(n)for(var a=n.length,o=0;a>o;o++){e=n[o],r=e.className;for(var s=0;s<$.length;s++)i=$[s],r.indexOf("pswp__"+i.name)>-1&&(y[i.option]?(t.removeClass(e,"pswp__element--disabled"),i.onInit&&i.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};a(n.children);var o=t.getChildByClass(n,"pswp__top-bar");o&&a(o.children)};x.init=function(){t.extend(e.options,C,!0),y=e.options,n=t.getChildByClass(e.scrollWrap,"pswp__ui"),d=e.listen,N(),d("beforeChange",x.update),d("doubleTap",function(t){var r=e.currItem.initialZoomLevel;e.getZoomLevel()!==r?e.zoomTo(r,t,333):e.zoomTo(y.getDoubleTapZoom(!1,e.currItem),t,333)}),d("preventDragEvent",function(e,t,r){var n=e.target||e.srcElement;n&&n.getAttribute("class")&&e.type.indexOf("mouse")>-1&&(n.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(n.tagName))&&(r.prevent=!1)}),d("bindEvents",function(){t.bind(n,"pswpTap click",Y),t.bind(e.scrollWrap,"pswpTap",x.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",x.onMouseOver)}),d("unbindEvents",function(){S||F(),b&&clearInterval(b),t.unbind(document,"mouseout",M),t.unbind(document,"mousemove",O),t.unbind(n,"pswpTap click",Y),t.unbind(e.scrollWrap,"pswpTap",x.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",x.onMouseOver),r&&(t.unbind(document,r.eventK,x.updateFullscreen),r.isFullscreen()&&(y.hideAnimationDuration=0,r.exit()),r=null)}),d("destroy",function(){y.captionEl&&(a&&n.removeChild(a),t.removeClass(i,"pswp__caption--empty")),l&&(l.children[0].onclick=null),t.removeClass(n,"pswp__ui--over-close"),t.addClass(n,"pswp__ui--hidden"),x.setIdle(!1)}),y.showAnimationDuration||t.removeClass(n,"pswp__ui--hidden"),d("initialZoomIn",function(){y.showAnimationDuration&&t.removeClass(n,"pswp__ui--hidden")}),d("initialZoomOut",function(){t.addClass(n,"pswp__ui--hidden")}),d("parseVerticalMargin",z),H(),y.shareEl&&s&&l&&(S=!0),Q(),V(),B(),R()},x.setIdle=function(e){c=e,k(n,"ui--idle",e)},x.update=function(){P&&e.currItem?(x.updateIndexIndicator(),y.captionEl&&(y.addCaptionHTMLFn(e.currItem,i),k(i,"caption--empty",!e.currItem.title)),T=!0):T=!1,S||F(),Q()},x.updateFullscreen=function(n){n&&setTimeout(function(){e.setScrollOffset(0,t.getScrollY())},50),t[(r.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs");
},x.updateIndexIndicator=function(){y.counterEl&&(o.innerHTML=e.getCurrentIndex()+1+y.indexIndicatorSep+y.getNumItemsFn())},x.onGlobalTap=function(r){r=r||window.event;var n=r.target||r.srcElement;if(!g)if(r.detail&&"mouse"===r.detail.pointerType){if(E(n))return void e.close();t.hasClass(n,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?y.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(r.detail.releasePoint))}else if(y.tapToToggleControls&&(P?x.hideControls():x.showControls()),y.tapToClose&&(t.hasClass(n,"pswp__img")||E(n)))return void e.close()},x.onMouseOver=function(e){e=e||window.event;var t=e.target||e.srcElement;k(n,"ui--over-close",E(t))},x.hideControls=function(){t.addClass(n,"pswp__ui--hidden"),P=!1},x.showControls=function(){P=!0,T||x.update(),t.removeClass(n,"pswp__ui--hidden")},x.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},x.getFullscreenAPI=function(){var t,r=document.documentElement,n="fullscreenchange";return r.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:n}:r.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+n}:r.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+n}:r.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){return u=y.closeOnScroll,y.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?e.template[this.enterK]():void e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return y.closeOnScroll=u,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}};return e}),!function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var r=e.data(this[0],"validator");return r?r:(this.attr("novalidate","novalidate"),r=new e.validator(t,this[0]),e.data(this[0],"validator",r),r.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){r.settings.submitHandler&&(r.submitButton=t.target),e(t.target).hasClass("cancel")&&(r.cancelSubmit=!0),void 0!==e(t.target).attr("formnovalidate")&&(r.cancelSubmit=!0)}),this.submit(function(t){function n(){var n;return r.settings.submitHandler?(r.submitButton&&(n=e("<input type='hidden'/>").attr("name",r.submitButton.name).val(e(r.submitButton).val()).appendTo(r.currentForm)),r.settings.submitHandler.call(r,r.currentForm,t),r.submitButton&&n.remove(),!1):!0}return r.settings.debug&&t.preventDefault(),r.cancelSubmit?(r.cancelSubmit=!1,n()):r.form()?r.pendingRequest?(r.formSubmitted=!0,!1):n():(r.focusInvalid(),!1)})),r)},valid:function(){var t,r;return e(this[0]).is("form")?t=this.validate().form():(t=!0,r=e(this[0].form).validate(),this.each(function(){t=r.element(this)&&t})),t},removeAttrs:function(t){var r={},n=this;return e.each(t.split(/\s/),function(e,t){r[t]=n.attr(t),n.removeAttr(t)}),r},rules:function(t,r){var n,i,a,o,s,l,u=this[0];if(t)switch(n=e.data(u.form,"validator").settings,i=n.rules,a=e.validator.staticRules(u),t){case"add":e.extend(a,e.validator.normalizeRule(r)),delete a.messages,i[u.name]=a,r.messages&&(n.messages[u.name]=e.extend(n.messages[u.name],r.messages));break;case"remove":return r?(l={},e.each(r.split(/\s/),function(t,r){l[r]=a[r],delete a[r],"required"===r&&e(u).removeAttr("aria-required")}),l):(delete i[u.name],a)}return o=e.validator.normalizeRules(e.extend({},e.validator.classRules(u),e.validator.attributeRules(u),e.validator.dataRules(u),e.validator.staticRules(u)),u),o.required&&(s=o.required,delete o.required,o=e.extend({required:s},o),e(u).attr("aria-required","true")),o.remote&&(s=o.remote,delete o.remote,o=e.extend(o,{remote:s})),o}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){return!!e.trim(""+e(t).val())},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,r){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=r,this.init()},e.validator.format=function(t,r){return 1===arguments.length?function(){var r=e.makeArray(arguments);return r.unshift(t),e.validator.format.apply(this,r)}:(arguments.length>2&&r.constructor!==Array&&(r=e.makeArray(arguments).slice(1)),r.constructor!==Array&&(r=[r]),e.each(r,function(e,r){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return r})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(e)).hide())},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){(9!==t.which||""!==this.elementValue(e))&&(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,r,n){"radio"===t.type?this.findByName(t.name).addClass(r).removeClass(n):e(t).addClass(r).removeClass(n)},unhighlight:function(t,r,n){"radio"===t.type?this.findByName(t.name).removeClass(r).addClass(n):e(t).removeClass(r).addClass(n)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var r=e.data(this[0].form,"validator"),n="on"+t.type.replace(/^validate/,""),i=r.settings;i[n]&&!this.is(i.ignore)&&i[n].call(r,this[0],t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var r,n=this.groups={};e.each(this.settings.groups,function(t,r){"string"==typeof r&&(r=r.split(/\s/)),e.each(r,function(e,r){n[r]=t})}),r=this.settings.rules,e.each(r,function(t,n){r[t]=e.validator.normalizeRule(n)}),e(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",t).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",t),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),e(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var r=this.clean(t),n=this.validationTargetFor(r),i=!0;return this.lastElement=n,void 0===n?delete this.invalid[r.name]:(this.prepareElement(n),this.currentElements=e(n),i=this.check(n)!==!1,i?delete this.invalid[n.name]:this.invalid[n.name]=!0),e(t).attr("aria-invalid",!i),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var r in t)this.errorList.push({message:t[r],element:this.findByName(r)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,r=0;for(t in e)r++;return r},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,r={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in r||!t.objectLength(e(this).rules())?!1:(r[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var r,n=e(t),i=n.attr("type");return"radio"===i||"checkbox"===i?e("input[name='"+n.attr("name")+"']:checked").val():(r=n.val(),"string"==typeof r?r.replace(/\r/g,""):r)},check:function(t){t=this.validationTargetFor(this.clean(t));var r,n,i,a=e(t).rules(),o=e.map(a,function(e,t){return t}).length,s=!1,l=this.elementValue(t);for(n in a){i={method:n,parameters:a[n]};try{if(r=e.validator.methods[n].call(this,l,t,i.parameters),"dependency-mismatch"===r&&1===o){s=!0;continue}if(s=!1,"pending"===r)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!r)return this.formatAndAdd(t,i),!1}catch(u){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+i.method+"' method.",u),u}}return s?void 0:(this.objectLength(a)&&this.successList.push(t),!0)},customDataMessage:function(t,r){return e(t).data("msg"+r[0].toUpperCase()+r.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var r=this.settings.messages[e];return r&&(r.constructor===String?r:r[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,r){return this.findDefined(this.customMessage(t.name,r),this.customDataMessage(t,r),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[r],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,r){var n=this.defaultMessage(t,r.method),i=/\$?\{(\d+)\}/g;"function"==typeof n?n=n.call(this,r.parameters,t):i.test(n)&&(n=e.validator.format(n.replace(i,"{$1}"),r.parameters)),this.errorList.push({message:n,element:t,method:r.method}),this.errorMap[t.name]=n,this.submitted[t.name]=n},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,r;for(e=0;this.errorList[e];e++)r=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,r.element,this.settings.errorClass,this.settings.validClass),this.showLabel(r.element,r.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,r){var n=this.errorsFor(t);n.length?(n.removeClass(this.settings.validClass).addClass(this.settings.errorClass),n.html(r)):(n=e("<"+this.settings.errorElement+">").attr("for",this.idOrName(t)).addClass(this.settings.errorClass).html(r||""),this.settings.wrapper&&(n=n.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(n).length||(this.settings.errorPlacement?this.settings.errorPlacement(n,e(t)):n.insertAfter(t))),!r&&this.settings.success&&(n.text(""),"string"==typeof this.settings.success?n.addClass(this.settings.success):this.settings.success(n,t)),this.toShow=this.toShow.add(n)},errorsFor:function(t){var r=this.idOrName(t);return this.errors().filter(function(){return e(this).attr("for")===r})},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]),e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+t+"']")},getLength:function(t,r){switch(r.nodeName.toLowerCase()){case"select":return e("option:selected",r).length;case"input":if(this.checkable(r))return this.findByName(r.name).filter(":checked").length}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e){return e},string:function(t,r){return!!e(t,r.form).length},"function":function(e,t){return e(t)}},optional:function(t){var r=this.elementValue(t);return!e.validator.methods.required.call(this,r,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,r){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],r&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!r&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,r){t.constructor===String?this.classRuleSettings[t]=r:e.extend(this.classRuleSettings,t)},classRules:function(t){var r={},n=e(t).attr("class");return n&&e.each(n.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(r,e.validator.classRuleSettings[this])}),r},attributeRules:function(t){var r,n,i={},a=e(t),o=t.getAttribute("type");for(r in e.validator.methods)"required"===r?(n=t.getAttribute(r),""===n&&(n=!0),n=!!n):n=a.attr(r),/min|max/.test(r)&&(null===o||/number|range|text/.test(o))&&(n=Number(n)),n||0===n?i[r]=n:o===r&&"range"!==o&&(i[r]=!0);return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(t){var r,n,i={},a=e(t);for(r in e.validator.methods)n=a.data("rule"+r[0].toUpperCase()+r.substring(1).toLowerCase()),void 0!==n&&(i[r]=n);return i},staticRules:function(t){var r={},n=e.data(t.form,"validator");return n.settings.rules&&(r=e.validator.normalizeRule(n.settings.rules[t.name])||{}),r},normalizeRules:function(t,r){return e.each(t,function(n,i){if(i===!1)return void delete t[n];if(i.param||i.depends){var a=!0;switch(typeof i.depends){case"string":a=!!e(i.depends,r.form).length;break;case"function":a=i.depends.call(r,r)}a?t[n]=void 0!==i.param?i.param:!0:delete t[n]}}),e.each(t,function(n,i){t[n]=e.isFunction(i)?i(r):i}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var r;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(r=t[this].split(/[\s,]+/),t[this]=[Number(r[0]),Number(r[1])]))}),e.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var r={};e.each(t.split(/\s/),function(){r[this]=!0}),t=r}return t},addMethod:function(t,r,n){e.validator.methods[t]=r,e.validator.messages[t]=void 0!==n?n:e.validator.messages[t],r.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,r,n){if(!this.depend(n,r))return"dependency-mismatch";if("select"===r.nodeName.toLowerCase()){var i=e(r).val();return i&&i.length>0}return this.checkable(r)?this.getLength(t,r)>0:e.trim(t).length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var r,n,i=0,a=0,o=!1;if(e=e.replace(/\D/g,""),e.length<13||e.length>19)return!1;for(r=e.length-1;r>=0;r--)n=e.charAt(r),a=parseInt(n,10),o&&(a*=2)>9&&(a-=9),i+=a,o=!o;return i%10===0},minlength:function(t,r,n){var i=e.isArray(t)?t.length:this.getLength(e.trim(t),r);return this.optional(r)||i>=n},maxlength:function(t,r,n){var i=e.isArray(t)?t.length:this.getLength(e.trim(t),r);return this.optional(r)||n>=i},rangelength:function(t,r,n){var i=e.isArray(t)?t.length:this.getLength(e.trim(t),r);return this.optional(r)||i>=n[0]&&i<=n[1]},min:function(e,t,r){return this.optional(t)||e>=r},max:function(e,t,r){return this.optional(t)||r>=e},range:function(e,t,r){return this.optional(t)||e>=r[0]&&e<=r[1]},equalTo:function(t,r,n){var i=e(n);return this.settings.onfocusout&&i.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(r).valid()}),t===i.val()},remote:function(t,r,n){if(this.optional(r))return"dependency-mismatch";var i,a,o=this.previousValue(r);return this.settings.messages[r.name]||(this.settings.messages[r.name]={}),o.originalMessage=this.settings.messages[r.name].remote,this.settings.messages[r.name].remote=o.message,n="string"==typeof n&&{url:n}||n,o.old===t?o.valid:(o.old=t,i=this,this.startRequest(r),a={},a[r.name]=t,e.ajax(e.extend(!0,{url:n,mode:"abort",port:"validate"+r.name,dataType:"json",data:a,context:i.currentForm,success:function(n){var a,s,l,u=n===!0||"true"===n;i.settings.messages[r.name].remote=o.originalMessage,u?(l=i.formSubmitted,i.prepareElement(r),i.formSubmitted=l,i.successList.push(r),delete i.invalid[r.name],i.showErrors()):(a={},s=n||i.defaultMessage(r,"remote"),a[r.name]=o.message=e.isFunction(s)?s(t):s,i.invalid[r.name]=!0,i.showErrors(a)),o.valid=u,i.stopRequest(r,u)}},n)),"pending")}}}),e.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."}}(jQuery),function(e){var t,r={};e.ajaxPrefilter?e.ajaxPrefilter(function(e,t,n){var i=e.port;"abort"===e.mode&&(r[i]&&r[i].abort(),r[i]=n)}):(t=e.ajax,e.ajax=function(n){var i=("mode"in n?n:e.ajaxSettings).mode,a=("port"in n?n:e.ajaxSettings).port;return"abort"===i?(r[a]&&r[a].abort(),r[a]=t.apply(this,arguments),r[a]):t.apply(this,arguments)})}(jQuery),function(e){e.extend(e.fn,{validateDelegate:function(t,r,n){return this.bind(r,function(r){var i=e(r.target);return i.is(t)?n.apply(i,arguments):void 0})}})}(jQuery);